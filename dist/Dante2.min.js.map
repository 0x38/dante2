{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///Dante2.min.js","webpack:///./src/index.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack:///./src/model/index.js","webpack:///./src/utils/selection.js","webpack:///./src/components/dante_editor.js?cf48","webpack:///./src/components/dante.js?178c","webpack:///./src/components/blocks/embed.js","webpack:///./src/components/blocks/image.js","webpack:///./src/components/blocks/placeholder.js","webpack:///./src/components/blocks/video.js","webpack:///./src/components/debug.js","webpack:///./src/components/decorators/link.js","webpack:///./src/components/popovers/addButton.js","webpack:///./src/components/popovers/image.js","webpack:///./src/components/popovers/link.js","webpack:///./src/components/popovers/toolTip.js","webpack:///./src/utils/find_entities.js","webpack:///./src/utils/html2content.js","webpack:///./src/utils/save_content.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_9__","webpackJsonpDante2","0","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_dante","_dante2","_dante_editor","_dante_editor2","Dante","DanteEditor","5","9","24","addNewBlockAt","updateTextOfBlock","updateDataOfBlock","resetBlockWithType","addNewBlock","getCurrentBlock","getNode","getDefaultBlockData","undefined","_immutable","_draftJs","blockType","initialData","arguments","length","window","t","getSelection","document","selection","createRange","text","editorState","selectionState","contentState","getCurrentContent","block","getBlockForKey","getStartKey","newType","isCollapsed","key","blockMap","getBlockMap","currentBlock","getLength","getType","newBlock","merge","type","data","newContentState","set","selectionAfter","EditorState","push","get","newText","console","log","getText","substr","anchorOffset","focusOffset","newData","getKey","pivotBlockKey","newBlockType","content","blocksBefore","toSeq","takeUntil","v","blocksAfter","skipUntil","rest","newBlockKey","genKey","ContentBlock","characterList","getCharacterList","slice","depth","Map","newBlockMap","concat","toOrderedMap","newContent","selectionBefore","anchorKey","focusKey","isBackward","78","getSelectionRect","selected","_rect","getRangeAt","getBoundingClientRect","rect","top","getClientRects","anchorNode","isEmptyline","getSelectedBlockNode","rangeCount","node","startContainer","getAttribute","parentNode","137","global","call","227","228","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_reactDom","_axios","_axios2","_index","EmbedBlock","_React$Component","props","_this","updateData","bind","dataForUpdate","componentDidMount","state","embed_data","defaultData","error","prototype","existing_data","getData","toJS","_props","_props$blockProps","blockProps","getEditorState","setEditorState","_this2","endpoint","provisory_text","method","url","then","result","setState","response","error_message","classForImage","images","picture","render","createElement","target","className","href","style","backgroundImage","title","description","provider_url","Component","229","_assign","_assign2","ImageBlock","blockPropsSrc","defaultUrl","defaultAspectRatio","replaceImg","startLoader","stopLoader","handleUpload","aspectRatio","updateDataSelection","handleGrafFigureSelectImg","getUploadUrl","uploadFile","uploadCompleted","updateProgressBar","placeHolderEnabled","placeholderText","handleFocus","config","file","loading","loading_progress","enabled","caption","defaultPlaceholder","direction","width","height","aspect_ratio","src","URL","createObjectURL","image_caption_placeholder","ratio","getAspectRatio","w","h","maxWidth","maxHeight","fill_ratio","forceUpload","img","Image","refs","image_tag","self","includes","onload","addLock","newselection","forceSelection","e","preventDefault","coords","getBase64Image","canvas","ctx","getContext","drawImage","dataURL","toDataURL","formatData","formData","FormData","formName","upload_formName","append","upload_url","getUploadHeaders","upload_headers","_this3","handleUp","headers","onUploadProgress","removeLock","upload_callback","upload_error_callback","json_response","n","json","complete","lengthComputable","loaded","total","_this4","setTimeout","ref","suppressContentEditableWarning","onClick","paddingBottom","Loader","toggle","progress","onMouseDown","EditorBlock","editable","_React$Component2","apply","Math","round","230","PlaceholderBlock","placeholderFromProps","defaultText","classForDefault","placeholder","231","VideoBlock","thumbnail_url","tabIndex","dangerouslySetInnerHTML","__html","html","232","_stringify","_stringify2","Debug","handleToggleReadOnly","handleTestEmitAndDecode","handleTestEmitTEXT","testEmitAndDecode","testEmitTEXT","logState","toggleDisplay","open","output","display","editor","toggleEditable","raw_as_json","emitSerializedOutput","decodeEditorContent","getTextFromEditor","raw","d","locks","read_only","233","Link","_validateLink","_checkProtocol","_showPopLinkOver","_hidePopLinkOver","isHover","pattern","RegExp","test","str","alert","showPopLinkOver","link","hidePopLinkOver","Entity","entityKey","onMouseOver","onMouseOut","children","234","_reactDom2","_selection","DanteInlineTooltip","show","hide","_toggleScaled","scale","collapse","componentWillReceiveProps","clickOnFileUpload","handlePlaceholder","insertImage","handleFileInput","widgets","clickHandler","relocate","position","left","scaled","b","setPosition","ev","newProps","activeClass","isActive","scaledClass","scaledWidth","fileInput","click","input","opts","widget_options","insert_block","options","onChange","fileList","files","request_block","find","o","icon","insertion","getItems","filter","displayOnInlineTooltip","isDescendant","parent","child","nativeSelection","selectionBoundary","findDOMNode","scrollY","scrollX","data-action","map","item","i","InlineTooltipItem","multiple","_len","args","Array","_key","235","DanteImagePopover","handleClick","buttons","parentBoundary","el","image_popover","padd","offsetWidth","getStyle","setDirection","DanteImagePopoverItem","236","DanteAnchorPopover","dante_popover","visibility","handleOnMouseOver","handleOnMouseOut","237","DanteTooltip","_clickInlineHandler","_clickBlockHandler","displayLinkMode","displayActiveMenu","_enableLinkMode","_disableLinkMode","handleInputEnter","confirmLink","inlineItems","blockItems","getDefaultValue","getVisibleSelectionRect","link_mode","RichUtils","toggleInlineStyle","configTooltip","selectionElements","indexOf","dante_menu","toggleBlockType","hideMenu","which","urlValue","currentTarget","value","create","toggleLink","getPosition","pos","block_types","dante_menu_input","selectedEntity","findEntityRanges","character","getEntity","start","end","selStart","getAnchorOffset","selEnd","getFocusOffset","getIsBackward","_this5","id","onKeyPress","defaultValue","DanteTooltipItem","currentStyle","getCurrentInlineStyle","DanteTooltipLink","enableLinkMode","_this6","activeClassInline","activeClassBlock","has","label","_React$Component3","_len2","_key2","_this7","promptForLink","238","findEntities","entityType","instance","contentBlock","callback","res","mergeData","239","compose","getBlockSpecForElement","imgElement","contentType","imgSrc","wrapBlockSpec","blockSpec","tempEl","innerText","replaceElement","oldEl","newEl","HTMLElement","upEl","getUpEl","insertBefore","tagName","elementToBlockSpecElement","imgReplacer","customHTML2Content","HTML","blockRn","tempDoc","DOMParser","parseFromString","querySelectorAll","forEach","body","innerHTML","contentBlocks","convertFromHTML","getSafeBodyFromHTML","JSON","parse","ContentState","createFromBlockArray","240","_immutable2","SaveBehavior","getLocks","editorContent","handleStore","store","data_storage","clearTimeout","timeout","checkforStore","interval","blocks","join","getUrl","getMethod","getWithCredentials","withCredentials","getCrossDomain","crossDomain","getHeaders","isChanged","is","fromJS","save","save_handler","xhr","before_handler","editor_content","text_content","success_handler","failure_handler"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,SAAAA,QAAA,cACA,kBAAAC,gBAAAC,IACAD,QAAA,qBAAAJ,GACA,gBAAAC,SACAA,QAAA,OAAAD,EAAAG,QAAA,SAAAA,QAAA,cAEAJ,EAAA,OAAAC,EAAAD,EAAA,MAAAA,EAAA,WACCO,KAAA,SAAAC,EAAAC,GACD,MCAOC,qBAAoB,IAErBC,EACA,SAASR,EAAQD,EAASU,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GCxB1F,GAAAG,GAAAL,EAAA,KDkBKM,EAAUL,EAAuBI,GCjBtCE,EAAAP,EAAA,KDqBKQ,EAAiBP,EAAuBM,EClB7ChB,GAAOD,SACLmB,mBACAC,2BD2BIC,EACA,SAASpB,EAAQD,GEnCvBC,EAAAD,QAAAM,GFyCMgB,EACA,SAASrB,EAAQD,GG1CvBC,EAAAD,QAAAO,GHgDMgB,GACA,SAAStB,EAAQD,EAASU,GAE/B,YAEAV,GAAQa,YAAa,EACrBb,EAAQwB,cAAgBxB,EAAQyB,kBAAoBzB,EAAQ0B,kBAAoB1B,EAAQ2B,mBAAqB3B,EAAQ4B,YAAc5B,EAAQ6B,gBAAkB7B,EAAQ8B,QAAU9B,EAAQ+B,oBAAsBC,MItD9M,IAAAC,GAAAvB,EAAA,IAIAwB,EAAAxB,EAAA,IAWaqB,wBAAsB,SAACI,GAAgC,GAArBC,GAAqBC,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,KAClE,QAAQF,GAEN,QAAS,MAAOC,KAmBPP,GAfAC,UAAU,WAAiB,GAAhBhC,GAAgBuC,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,GAAXE,OACvBC,EAAI,IAQR,OAPI1C,GAAK2C,aACPD,EAAI1C,EAAK2C,eACA3C,EAAK4C,SAASD,aACvBD,EAAI1C,EAAK4C,SAASD,eACT3C,EAAK4C,SAASC,YACvBH,EAAI1C,EAAK4C,SAASC,UAAUC,cAAcC,MAErCL,GAMIX,kBAAkB,SAACiB,GAC9B,GAAMC,GAAiBD,EAAYL,eAC7BO,EAAeF,EAAYG,oBAC3BC,EAAQF,EAAaG,eAAeJ,EAAeK,cACzD,OAAOF,IAOItB,eAAc,SAACkB,GAAwD,GAA3CO,GAA2ChB,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,GAAjC,WAAYD,EAAqBC,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,MAC5EU,EAAiBD,EAAYL,cACnC,KAAKM,EAAeO,cAClB,MAAOR,EAET,IAAME,GAAeF,EAAYG,oBAC3BM,EAAMR,EAAeK,cACrBI,EAAWR,EAAaS,cACxBC,EAAe7B,EAAgBiB,EACrC,KAAKY,EACH,MAAOZ,EAET,IAAiC,IAA7BY,EAAaC,YAAmB,CAClC,GAAID,EAAaE,YAAcP,EAC7B,MAAOP,EAET,IAAMe,GAAWH,EAAaI,OAC5BC,KAAMV,EACNW,KAAMjC,EAAoBsB,EAASjB,KAE/B6B,EAAkBjB,EAAac,OACnCN,SAAUA,EAASU,IAAIX,EAAKM,GAC5BM,eAAgBpB,GAElB,OAAOb,GAAAkC,YAAYC,KAAKvB,EAAamB,EAAiB,qBAExD,MAAOnB,IAOInB,qBAAqB,SAACmB,GAA+C,GAAlCO,GAAkChB,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,GAAxB,WAAY2B,EAAY3B,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,MAC1EW,EAAeF,EAAYG,oBAC3BF,EAAiBD,EAAYL,eAC7Bc,EAAMR,EAAeK,cACrBI,EAAWR,EAAaS,cACxBP,EAAQM,EAASc,IAAIf,GAEvBgB,EAAU,EACdC,SAAQC,IAAK,wBAAyBT,EACtC,IAAMnB,GAAOK,EAAMwB,SACfxB,GAAMS,aAAe,IACvBY,EAAU1B,EAAK8B,OAAO,GASxB,IAAMd,GAAWX,EAAMY,OACrBjB,KAAM0B,EACNR,KAAMV,EACNW,KAAMjC,EAAoBsB,EAASW,KAE/BC,EAAkBjB,EAAac,OACnCN,SAAUA,EAASU,IAAIX,EAAKM,GAC5BM,eAAgBpB,EAAee,OAC7Bc,aAAc,EACdC,YAAa,KAGjB,OAAO3C,GAAAkC,YAAYC,KAAKvB,EAAamB,EAAiB,sBAO3CvC,oBAAoB,SAACoB,EAAaI,EAAO4B,GACpD,GAAM9B,GAAeF,EAAYG,oBAC3BY,EAAWX,EAAMY,OACrBE,KAAMc,IAEFb,EAAkBjB,EAAac,OACnCN,SAAUR,EAAaS,cAAcS,IAAIhB,EAAM6B,SAAUlB,IAE3D,OAAO3B,GAAAkC,YAAYC,KAAKvB,EAAamB,EAAiB,sBAI3CxC,oBAAoB,SAACqB,EAAaI,EAAOL,GACpD,GAAMG,GAAeF,EAAYG,oBAC3BY,EAAWX,EAAMY,OACrBjB,KAAMA,IAEFoB,EAAkBjB,EAAac,OACnCN,SAAUR,EAAaS,cAAcS,IAAIhB,EAAM6B,SAAUlB,IAG3D,OAAO3B,GAAAkC,YAAYC,KAAKvB,EAAamB,EAAiB,sBAW3CzC,gBAAgB,SACzBsB,EACAkC,GAGG,GAFHC,GAEG5C,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,GAFY,WACfD,EACGC,UAAAC,OAAA,GAAAN,SAAAK,UAAA,GAAAA,UAAA,MACC6C,EAAUpC,EAAYG,oBACtBO,EAAW0B,EAAQzB,cACnBP,EAAQM,EAASc,IAAIU,GACrBG,EAAe3B,EAAS4B,QAAQC,UAAU,SAACC,GAAD,MAAQA,KAAMpC,IACxDqC,EAAc/B,EAAS4B,QAAQI,UAAU,SAACF,GAAD,MAAQA,KAAMpC,IAAQuC,OAC/DC,GAAc,EAAAxD,EAAAyD,UAEd9B,EAAW,GAAA3B,GAAA0D,cACfrC,IAAKmC,EACL3B,KAAMkB,EACNpC,KAAM,GACNgD,cAAe3C,EAAM4C,mBAAmBC,MAAM,EAAG,GACjDC,MAAO,EACPhC,MAAM,EAAA/B,EAAAgE,KAAIlE,EAAoBkD,EAAc7C,MAGxC8D,EAAcf,EAAagB,SAC7BnB,EAAe9B,IAASwC,EAAa7B,IACvC0B,GACAa,eAEIzD,EAAYG,EAAYL,eAExB4D,EAAanB,EAAQpB,OACzBN,SAAU0C,EACVI,gBAAiB3D,EACjBwB,eAAgBxB,EAAUmB,OACxByC,UAAWb,EACXd,aAAc,EACd4B,SAAUd,EACVb,YAAa,EACb4B,YAAY,KAGhB,OAAOvE,GAAAkC,YAAYC,KAAKvB,EAAauD,EAAY,iBJkE7CK,GACA,SAASzG,EAAQD,GAEtB,YAEAA,GAAQa,YAAa,CKpQT8F,oBAAmB,SAACC,GAC/B,GAAMC,GAAQD,EAASE,WAAW,GAAGC,wBAEjCC,EAAOH,GAASA,EAAMI,IAAMJ,EAAQD,EAASE,WAAW,GAAGI,iBAAiB,EAChF,KAAKF,EAAM,CACT,IAAIJ,EAASO,aAAcP,EAASO,WAAWJ,sBAI7C,MAAO,KAHPC,GAAOJ,EAASO,WAAWJ,wBAC3BC,EAAKI,aAAc,EAKvB,MAAOJ,IAMIvE,eAAe,SAAC3C,GAC3B,GAAI0C,GAAI,IAQR,OAPI1C,GAAK2C,aACPD,EAAI1C,EAAK2C,eACA3C,EAAK4C,SAASD,aACvBD,EAAI1C,EAAK4C,SAASD,eACT3C,EAAK4C,SAASC,YACvBH,EAAI1C,EAAK4C,SAASC,UAAUC,cAAcC,MAErCL,GAOI6E,uBAAuB,SAACvH,GACnC,GAAM6C,GAAY7C,EAAK2C,cACvB,IAA6B,IAAzBE,EAAU2E,WACZ,MAAO,KAET,IAAIC,GAAO5E,EAAUmE,WAAW,GAAGU,cAEnC,GAAG,CACD,GAAID,EAAKE,cAAoD,SAApCF,EAAKE,aAAa,cACzC,MAAOF,EAETA,GAAOA,EAAKG,iBAEI,OAATH,EACT,OAAO,QL6QHI,IACA,SAAS1H,EAAQD,EAASU,IAEH,SAASkH,GAAS,YMnU/C3H,GAAOD,QAAU4H,EAAA,YAAwBlH,EAAQ,ONsUnBmH,KAAK7H,EAAU,WAAa,MAAOK,WAI3DyH,IACA,SAAS7H,EAAQD,EAASU,IAEH,SAASkH,GAAS,YO7U/C3H,GAAOD,QAAU4H,EAAA,MAAkBlH,EAAQ,OPgVbmH,KAAK7H,EAAU,WAAa,MAAOK,WAI3D0H,IACA,SAAS9H,EAAQD,EAASU,GAE/B,YAgCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GA9BzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GQpWzCE,EAAA5H,EAAA,GRwWK6H,EAAU5H,EAAuB2H,GQvWtCE,EAAA9H,EAAA,GAIA+H,GRuWkB9H,EAAuB6H,GQzWzC9H,EAAA,IAEAA,EAAA,KR6WKgI,EAAU/H,EAAuB8H,GQ3WtCE,EAAAjI,EAAA,IAEqBkI,ER+WH,SAAUC,GQ9W1B,QAAAD,GAAYE,IAAO,EAAAb,EAAA,YAAA5H,KAAAuI,EAAA,IAAAG,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAIjBC,GAAKC,WAAaD,EAAKC,WAAWC,KAAhBF,GAClBA,EAAKG,cAAgBH,EAAKG,cAAcD,KAAnBF,GACrBA,EAAKI,kBAAoBJ,EAAKI,kBAAkBF,KAAvBF,GACzBA,EAAKK,OACHC,WAAYN,EAAKO,cACjBC,MAAO,IATQR,ERoflB,OArIA,EAAIV,EAAW,YAAYO,EAAYC,GAmBvCD,EAAWY,UQrXZF,YRqXoC,WQpXlC,GAAMG,GAAgBpJ,KAAKyI,MAAM5F,MAAMwG,UAAUC,MACjD,OAAOF,GAAcJ,gBR2XtBT,EAAWY,UQvXZR,WRuXmC,WQvXtB,GAAAY,GACmBvJ,KAAKyI,MAA3B5F,EADG0G,EACH1G,MADG2G,GAAAD,EACIE,WAC4BzJ,KAAKyI,MAAMgB,YAA9CC,EAFGF,EAEHE,eAAgBC,EAFbH,EAEaG,eAClBhG,EAAOd,EAAMwG,UACb5E,EAAUd,EAAKF,MAAMzD,KAAK+I,MAChC,OAAOY,IAAe,EAAArB,EAAAjH,mBAAkBqI,IAAkB7G,EAAO4B,KR+XlE8D,EAAWY,UQ5XZN,cR4XsC,WQ1XpC,MAAO7I,MAAKyI,MAAMgB,WAAW9F,KAAK2F,QR+XnCf,EAAWY,UQ5XZL,kBR4X0C,WQ5XtB,GAAAc,GAAA5J,IAElB,IAAKA,KAAKyI,MAAMgB,WAAW9F,OAOtB3D,KAAK6I,gBAAgBgB,UAAa7J,KAAK6I,gBAAgBiB,gBAK5D,OAAO,EAAAzB,EAAA,aACL0B,OAAQ,MACRC,OAAShK,KAAK6I,gBAAgBgB,SAAa7J,KAAK6I,gBAAgBiB,eAAhE,kBACCG,KAAK,SAAAC,GAEN,MAAON,GAAKO,UAAWnB,WAAYkB,EAAOvG,MACxCiG,EAAKjB,cANF,SAOE,SAAAO,GAIP,MAFAU,GAAKO,UACHjB,MAAOA,EAAMkB,SAASzG,KAAK0G,gBACtBlG,QAAQC,IAAI,kBRiYtBmE,EAAWY,UQ7XZmB,cR6XsC,WQ5XpC,MAAItK,MAAK+I,MAAMC,WAAWuB,OACjB,GAEA,qCRkYVhC,EAAWY,UQ7XZqB,QR6XgC,WQ5X9B,MAAIxK,MAAK+I,MAAMC,WAAWuB,QAAUvK,KAAK+I,MAAMC,WAAWuB,OAAOtI,OAAS,EACjEjC,KAAK+I,MAAMC,WAAWuB,OAAO,GAAGP,IAEhC,IRiYVzB,EAAWY,UQ7XZsB,OR6X+B,WQxX7B,MADAtG,SAAQC,IAAI,QAASpE,KAAK+I,MAAMG,OAE9BhB,EAAA,WAAAwC,cAAA,YACI1K,KAAKwK,UACHtC,EAAA,WAAAwC,cAAA,KACEC,OAAO,SACPC,UAAA,gCAA6C5K,KAAKsK,gBAClDO,KAAO7K,KAAK+I,MAAMC,WAAWgB,IAC7Bc,OAAUC,wBAA0B/K,KAAKwK,UAA/B,QAEZ7I,OAEF3B,KAAK+I,MAAMG,MACXhB,EAAA,WAAAwC,cAAA,UAAM1K,KAAK+I,MAAMG,OACfvH,OAEJuG,EAAA,WAAAwC,cAAA,KACEE,UAAU,6CACVD,OAAO,SACPE,KAAO7K,KAAK+I,MAAMC,WAAWgB,KAE7B9B,EAAA,WAAAwC,cAAA,UAAQE,UAAU,8CACd5K,KAAK+I,MAAMC,WAAWgC,OAE1B9C,EAAA,WAAAwC,cAAA,MAAIE,UAAU,sCACV5K,KAAK+I,MAAMC,WAAWiC,cAEtBjL,KAAK+I,MAAMC,WAAWkC,eRuY1B3C,GQrf8BL,EAAA,WAAMiD,URwf7CxL,GAAQ,WQxfY4I,ERyfpB3I,EAAOD,QAAUA,EAAQ,YAIpByL,IACA,SAASxL,EAAQD,EAASU,GAE/B,YAoCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAlCzFZ,EAAQa,YAAa,CAErB,IAAI6K,GAAUhL,EAAoB,IAE9BiL,EAAWhL,EAAuB+K,GAElC1D,EAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GS5hBzCE,EAAA5H,EAAA,GTgiBK6H,EAAU5H,EAAuB2H,GS/hBtCE,EAAA9H,EAAA,GAEAwB,GTiiBkBvB,EAAuB6H,GSjiBzC9H,EAAA,KAOA+H,EAAA/H,EAAA,ITgiBKgI,EAAU/H,EAAuB8H,GS9hBtCE,EAAAjI,EAAA,IAEqBkL,ETkiBH,SAAU/C,GShiB1B,QAAA+C,GAAY9C,IAAO,EAAAb,EAAA,YAAA5H,KAAAuL,EAAA,IAAA7C,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GAENC,GAAK8C,cAAgB9C,EAAK8C,cAAc5C,KAAnBF,GACrBA,EAAK+C,WAAa/C,EAAK+C,WAAW7C,KAAhBF,GAClBA,EAAKgD,mBAAqBhD,EAAKgD,mBAAmB9C,KAAxBF,GAC1BA,EAAKC,WAAaD,EAAKC,WAAWC,KAAhBF,GAClBA,EAAKiD,WAAajD,EAAKiD,WAAW/C,KAAhBF,GAClBA,EAAKkD,YAAclD,EAAKkD,YAAYhD,KAAjBF,GACnBA,EAAKmD,WAAanD,EAAKmD,WAAWjD,KAAhBF,GAClBA,EAAKoD,aAAepD,EAAKoD,aAAalD,KAAlBF,GACpBA,EAAKqD,YAAcrD,EAAKqD,YAAYnD,KAAjBF,GACnBA,EAAKsD,oBAAsBtD,EAAKsD,oBAAoBpD,KAAzBF,GAC3BA,EAAKuD,0BAA4BvD,EAAKuD,0BAA0BrD,KAA/BF,GACjCA,EAAKwD,aAAexD,EAAKwD,aAAatD,KAAlBF,GACpBA,EAAKyD,WAAazD,EAAKyD,WAAWvD,KAAhBF,GAClBA,EAAK0D,gBAAkB1D,EAAK0D,gBAAgBxD,KAArBF,GACvBA,EAAK2D,kBAAoB3D,EAAK2D,kBAAkBzD,KAAvBF,GACzBA,EAAK4D,mBAAqB5D,EAAK4D,mBAAmB1D,KAAxBF,GAC1BA,EAAK6D,gBAAkB7D,EAAK6D,gBAAgB3D,KAArBF,GACvBA,EAAK8D,YAAc9D,EAAK8D,YAAY5D,KAAjBF,GACnBA,EAAK+B,OAAS/B,EAAK+B,OAAO7B,KAAZF,EACd,IAAIU,GAAgBV,EAAKD,MAAM5F,MAAMwG,UAAUC,MAtB9B,OAwBjBZ,GAAK+D,OAAS/D,EAAKD,MAAMgB,WAAWgD,OACpC/D,EAAKgE,KAAOhE,EAAKD,MAAMgB,WAAW9F,KAAKM,IAAI,QAC3CyE,EAAKK,OACH4D,SAAS,EACTpG,UAAU,EACVqG,iBAAkB,EAClBC,SAAS,EACTC,QAASpE,EAAKqE,qBACdC,UAAW5D,EAAc4D,WAAa,SACtCC,MAAO,EACPC,OAAQ,EACRR,KAAM,KACN1C,IAAKtB,EAAK8C,iBAAmB9C,EAAK+C,WAAWrC,GAC7C+D,aAAczE,EAAKgD,mBAAmBtC,IArCvBV,ETu4BlB,OAtWA,EAAIV,EAAW,YAAYuD,EAAY/C,GA8CvC+C,EAAWpC,UStiBZqC,cTsiBsC,WSpiBpC,MAAOxL,MAAKyI,MAAMgB,WAAW9F,KAAKyJ,KTkjBnC7B,EAAWpC,UStiBZsC,WTsiBmC,SStiBxB9H,GACT,MAAIA,GAAKqG,IACArG,EAAKqG,IAGVrG,EAAKqG,IACHrG,EAAK+I,KACAW,IAAIC,gBAAgB3J,EAAK+I,MAEzB/I,EAAKqG,IAGPhK,KAAKyI,MAAMgB,WAAW9F,KAAKyJ,KT0iBrC7B,EAAWpC,UStiBZ4D,mBTsiB2C,WSriBzC,MAAO/M,MAAKyI,MAAMgB,WAAWgD,OAAOc,2BTyiBrChC,EAAWpC,UStiBZuC,mBTsiB2C,SStiBxB/H,GACjB,MAAIA,GAAKwJ,cAELF,MAAOtJ,EAAKwJ,aAAL,MACPD,OAAQvJ,EAAKwJ,aAAL,OACRK,MAAO7J,EAAKwJ,aAAL,QAIPF,MAAO,EACPC,OAAQ,EACRM,MAAO,MT2iBZjC,EAAWpC,UStiBZsE,eTsiBuC,SStiBxBC,EAAGC,GAChB,GAAIC,GAAW,IACXC,EAAY,IACZL,EAAQ,EACRP,EAAQS,EACRR,EAASS,CAGTV,GAAQW,GACVJ,EAAQI,EAAWX,EACnBC,GAAkBM,EAClBP,GAAgBO,GAGPN,EAASW,IAClBL,EAAQK,EAAYX,EACpBD,GAAgBO,EAChBN,GAAkBM,EAGpB,IAAIM,GAAaZ,EAASD,EAAQ,IAC9B/C,GAAW+C,QAAOC,SAAQM,MAAOM,EAErC,OAAO5D,IT4iBRqB,EAAWpC,USxiBZR,WTwiBmC,WSxiBtB,GAEL9F,IADe7C,KAAKyI,MAApBgB,WACUzJ,KAAKyI,MAAf5F,OACA6G,EAAmB1J,KAAKyI,MAAMgB,WAA9BC,eACAC,EAAmB3J,KAAKyI,MAAMgB,WAA9BE,eACFhG,EAAOd,EAAMwG,UACb5E,EAAUd,EAAKF,MAAMzD,KAAK+I,OAAOtF,OAAQsK,aAAa,GAC1D,OAAOpE,IAAe,EAAArB,EAAAjH,mBAAkBqI,IAAkB7G,EAAO4B,KT4iBlE8G,EAAWpC,USziBZwC,WTyiBmC,WSziBtB,GAAA/B,GAAA5J,IACXA,MAAKgO,IAAM,GAAIC,OACfjO,KAAKgO,IAAIZ,IAAMpN,KAAKkO,KAAKC,UAAUf,IACnCpN,KAAKmK,UACHH,IAAKhK,KAAKgO,IAAIZ,KAChB,IAAIgB,GAAOpO,IAEX,IAAKA,KAAKgO,IAAIZ,IAAIiB,SAAS,UAAarO,KAAKyI,MAAM5F,MAAMc,KAAKM,IAAI,eAGlE,MAAOjE,MAAKgO,IAAIM,OAAS,WAOvB,MANA1E,GAAKO,UACH8C,MAAOrD,EAAKoE,IAAIf,MAChBC,OAAQtD,EAAKoE,IAAId,OACjBC,aAAciB,EAAKX,eAAe7D,EAAKoE,IAAIf,MAAOrD,EAAKoE,IAAId,UAGtDtD,EAAKkC,iBT+iBfP,EAAWpC,US3iBZyC,YT2iBoC,WS1iBlC,MAAO5L,MAAKmK,UACVwC,SAAS,KT8iBZpB,EAAWpC,US3iBZ0C,WT2iBmC,WS1iBjC,MAAO7L,MAAKmK,UACVwC,SAAS,KT8iBZpB,EAAWpC,US3iBZ2C,aT2iBqC,WSviBnC,MAHA9L,MAAK4L,cACL5L,KAAKyI,MAAMgB,WAAW8E,UACtBvO,KAAK2I,aACE3I,KAAKmM,cT8iBbZ,EAAWpC,US3iBZL,kBT2iB0C,WS1iBxC,MAAO9I,MAAK2L,cT8iBbJ,EAAWpC,US3iBZ4C,YT2iBoC,WS1iBlC,OACE6B,YAAc5N,KAAK+I,MAAMoE,aAAaF,MACtCY,aAAe7N,KAAK+I,MAAMoE,aAAaD,OACvCM,SAAWxN,KAAK+I,MAAMoE,aAAaD,ST+iBtC3B,EAAWpC,US3iBZ6C,oBT2iB4C,WS3iBtB,GAAAxC,GACuBxJ,KAAKyI,MAAMgB,WAA9CC,EADYF,EACZE,eAAgBC,EADJH,EACIG,eAClB6E,EAAe9E,IAAiBtH,eAAeqB,OACnDyC,UAAWlG,KAAKyI,MAAM5F,MAAM6B,SAC5ByB,SAAUnG,KAAKyI,MAAM5F,MAAM6B,UAG7B,OAAOiF,GAAe9H,EAAAkC,YAAY0K,eAAe/E,IAAkB8E,KTijBpEjD,EAAWpC,US9iBZ8C,0BT8iBkD,SS9iBxByC,GAExB,MADAA,GAAEC,iBACK3O,KAAKmK,UAAW5D,UAAU,GAAQvG,KAAKgM,sBTmjB/CT,EAAWpC,US9iBZyF,OT8iB+B,WS7iB7B,OACEhB,SAAc5N,KAAK+I,MAAMoE,aAAaF,MAAtC,KACAY,UAAe7N,KAAK+I,MAAMoE,aAAaD,OAAvC,OTkjBH3B,EAAWpC,US9iBZ0F,eT8iBuC,SS9iBxBb,GACb,GAAIc,GAASzM,SAASqI,cAAc,SACpCoE,GAAO7B,MAAQe,EAAIf,MACnB6B,EAAO5B,OAASc,EAAId,MACpB,IAAI6B,GAAMD,EAAOE,WAAW,KAC5BD,GAAIE,UAAUjB,EAAK,EAAG,EACtB,IAAIkB,GAAUJ,EAAOK,UAAU,YAE/B,OAAOD,ITijBR3D,EAAWpC,US9iBZiG,WT8iBmC,WS7iBjC,GAAIC,GAAW,GAAIC,SACnB,IAAItP,KAAK0M,KAAM,CACb,GAAI6C,GAAWvP,KAAKyM,OAAO+C,iBAAmB,MAG9C,OADAH,GAASI,OAAOF,EAAUvP,KAAK0M,MACxB2C,EAGP,MADAA,GAASI,OAAO,MAAOzP,KAAKyI,MAAMgB,WAAW9F,KAAKM,IAAI,QAC/CoL,GTkjBV9D,EAAWpC,US9iBZ+C,aT8iBqC,WS7iBnC,GAAIlC,GAAMhK,KAAKyM,OAAOiD,UACtB,OAAmB,kBAAR1F,GACFA,IAEAA,GTkjBVuB,EAAWpC,US9iBZwG,iBT8iByC,WS7iBxC,MAAO3P,MAAKyM,OAAOmD,oBTijBnBrE,EAAWpC,US9iBZgD,WT8iBmC,WS9iBtB,GAAA0D,GAAA7P,KACP8P,QA4BJ,QA3BA,EAAAzH,EAAA,aACE0B,OAAQ,OACRC,IAAKhK,KAAKkM,eACV6D,QAAS/P,KAAK2P,mBACdhM,KAAM3D,KAAKoP,aACXY,iBAAkB,SAAAtB,GAChB,MAAOmB,GAAKxD,kBAAkBqC,MAE/BzE,KAAK,SAAAC,GAMN,GALA2F,EAAKzD,gBAAgBlC,EAAOvG,MAC5BkM,EAAKpH,MAAMgB,WAAWwG,aACtBJ,EAAKhE,aACLgE,EAAKnD,KAAO,KAERmD,EAAKpD,OAAOyD,gBACd,MAAOL,GAAKpD,OAAOyD,gBAAgBhG,EAA5B2F,KAfX,SAiBS,SAAA3G,GAKP,GAJA2G,EAAKpH,MAAMgB,WAAWwG,aACtBJ,EAAKhE,aAEL1H,QAAQC,IAAR,mCAAgD8E,GAC5C2G,EAAKpD,OAAO0D,sBACd,MAAON,GAAKpD,OAAO0D,sBAAsBjH,EAAlC2G,KAIJC,EAAW,SAAAM,GAChB,MAAOP,GAAKzD,gBAAgBgE,EAAeC,KTojB9C9E,EAAWpC,UShjBZiD,gBTgjBwC,SShjBxBkE,GACd,MAAOtQ,MAAKmK,UAAWH,IAAKsG,EAAKtG,KAAOhK,KAAK2I,aTmjB9C4C,EAAWpC,UShjBZkD,kBTgjB0C,SShjBxBqC,GAChB,GAAI6B,GAAWvQ,KAAK+I,MAAM6D,gBAC1B,IAAI8B,EAAE8B,iBAKJ,MAJAD,GAAW7B,EAAE+B,OAAS/B,EAAEgC,MAAQ,IAChCH,EAAuB,MAAZA,EAAmBA,GAAaA,SAAU,GACrDvQ,KAAKmK,UACHyC,iBAAkB2D,IACbpM,QAAQC,IAAR,aAA0BmM,ITojBpChF,EAAWpC,UShjBZmD,mBTgjB2C,WS/iBzC,MAAOtM,MAAK+I,MAAM8D,SAAW7M,KAAKyI,MAAM5F,MAAMwB,WTmjB/CkH,EAAWpC,UShjBZoD,gBTgjBwC,WS/iBtC,MAAIvM,MAAKsM,qBACA,GAEF,sCTmjBRf,EAAWpC,UShjBZqD,YTgjBoC,SShjBxBkC,GAAG,GAAAiC,GAAA3Q,IAEb,OAAO4Q,YAAW,WAChB,MAAOD,GAAKxG,UACV0C,SAAS,KACV,ITqjBJtB,EAAWpC,USljBZsB,OTkjB+B,WShjB7B,MACEvC,GAAA,WAAAwC,cAAA,OAAKmG,IAAI,aAAaC,gCAAgC,GACpD5I,EAAA,WAAAwC,cAAA,OAAKE,UAAU,mCACbE,MAAO9K,KAAK4O,SACZmC,QAAS/Q,KAAKiM,2BACd/D,EAAA,WAAAwC,cAAA,OAAKI,OAASkG,cAAmBhR,KAAK+I,MAAMoE,aAAaK,MAA3C,KACZ5C,UAAU,sBACZ1C,EAAA,WAAAwC,cAAA,OAAK0C,IAAKpN,KAAK+I,MAAMiB,IACnB6G,IAAI,YACJ3D,OAAQlN,KAAK+I,MAAMoE,aAAaD,OAChCD,MAAOjN,KAAK+I,MAAMoE,aAAaF,MAC/BrC,UAAU,eACZ1C,EAAA,WAAAwC,cAACuG,GAAOC,OAAQlR,KAAK+I,MAAM4D,QACzBwE,SAAUnR,KAAK+I,MAAM6D,oBAEzB1E,EAAA,WAAAwC,cAAA,cAAYE,UAAU,eAAewG,YAAapR,KAAKwM,aAClDxM,KAAK+I,MAAM8D,QAGFlL,OAFVuG,EAAA,WAAAwC,cAAA,QAAME,UAAU,2BACb5K,KAAKuM,mBAEVrE,EAAA,WAAAwC,cAAA7I,EAAAwP,aAAiB,EAAA/F,EAAA,eAAkBtL,KAAKyI,OACtC6I,UAAY,EAAM1G,UAAa,qBT6jBjCW,GSz4B8BrD,EAAA,WAAMiD,UT44B7CxL,GAAQ,WS54BY4L,CT84BpB,IS1jBK0F,GT0jBQ,SAAUM,GAGrB,QAASN,KAEP,OADA,EAAIrJ,EAAiB,YAAY5H,KAAMiR,IAChC,EAAInJ,EAA4B,YAAY9H,KAAMuR,EAAkBC,MAAMxR,KAAMgC,YA6BzF,OAjCA,EAAIgG,EAAW,YAAYiJ,EAAQM,GAOnCN,EAAO9H,UShkBRsB,OTgkB2B,WS/jBzB,MACEvC,GAAA,WAAAwC,cAAA,WACI1K,KAAKyI,MAAMyI,OACThJ,EAAA,WAAAwC,cAAA,OAAKE,UAAU,wBACb1C,EAAA,WAAAwC,cAAA,SAC4B,MAAxB1K,KAAKyI,MAAM0I,SACT,sBACAjJ,EAAA,WAAAwC,cAAA,YACExC,EAAA,WAAAwC,cAAA,uBADF,IACyB+G,KAAKC,MAAO1R,KAAKyI,MAAM0I,aAKxDxP,ST4kBFsP,GS5lBW/I,EAAA,WAAMiD,UT+lB1BvL,GAAOD,QAAUA,EAAQ,YAIpBgS,IACA,SAAS/R,EAAQD,EAASU,GAE/B,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GA5BzFZ,EAAQa,YAAa,CAErB,IAAI6K,GAAUhL,EAAoB,IAE9BiL,EAAWhL,EAAuB+K,GAElC1D,EAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GUz9BzCE,EAAA5H,EAAA,GV69BK6H,EAAU5H,EAAuB2H,GU59BtCE,EAAA9H,EAAA,GAEAwB,GV89BkBvB,EAAuB6H,GU99BzC9H,EAAA,KAEqBuR,EVk+BG,SAAUpJ,GUj+BhC,QAAAoJ,GAAYnJ,IAAO,EAAAb,EAAA,YAAA5H,KAAA4R,EAAA,IAAAlJ,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAEjBC,GAAK6D,gBAAkB7D,EAAK6D,gBAAgB3D,KAArBF,GACvBA,EAAKmJ,qBAAuBnJ,EAAKmJ,qBAAqBjJ,KAA1BF,GAC5BA,EAAKoJ,YAAcpJ,EAAKoJ,YAAYlJ,KAAjBF,GACnBA,EAAK8D,YAAc9D,EAAK8D,YAAY5D,KAAjBF,GACnBA,EAAKqJ,gBAAkBrJ,EAAKqJ,gBAAgBnJ,KAArBF,GACvBA,EAAKK,OACH8D,SAAS,EACTlJ,KAAM+E,EAAKD,MAAMgB,WAAW9F,KAAK2F,QATlBZ,EVsiClB,OApEA,EAAIV,EAAW,YAAY4J,EAAkBpJ,GAmB7CoJ,EAAiBzI,UUx+BlBoD,gBVw+B8C,WUv+B5C,MAAIvM,MAAK+I,MAAM8D,QACN,GAEF7M,KAAKyI,MAAMgB,WAAW9F,KAAK2F,OAAO0I,aAAehS,KAAK6R,wBAA0B7R,KAAK8R,eV6+B7FF,EAAiBzI,UUx+BlB0I,qBVw+BmD,WUv+BjD,MAAO7R,MAAKyI,MAAM5F,MAAMyG,OAAO0I,aV2+BhCJ,EAAiBzI,UUx+BlB2I,YVw+B0C,WUv+BxC,MAAO,oBV2+BRF,EAAiBzI,UUx+BlBL,kBVw+BgD,aAE/C8I,EAAiBzI,UUx+BlBqD,YVw+B0C,SUx+B9BkC,GAAG,GAAA9E,GAAA5J,IAEb,OAAO4Q,YAAW,WAChB,MAAOhH,GAAKO,UACV0C,SAAS,KACV,IV6+BJ+E,EAAiBzI,UU1+BlB4I,gBV0+B8C,WUz+B5C,MAAK/R,MAAK+I,MAAM8D,QAGP,GAFA,mCVg/BV+E,EAAiBzI,UU1+BlBsB,OV0+BqC,WUz+BnC,MACEvC,GAAA,WAAAwC,cAAA,QAAME,UAAW5K,KAAK+R,kBAAmBX,YAAapR,KAAKwM,aACxDxM,KAAKuM,kBACNrE,EAAA,WAAAwC,cAAA7I,EAAAwP,aAAiB,EAAA/F,EAAA,eAAkBtL,KAAKyI,OACtCmC,UAAa,eACboH,YAAe,sBVg/BfJ,GUviCoC1J,EAAA,WAAMiD,UV0iCnDxL,GAAQ,WU1iCYiS,EV2iCpBhS,EAAOD,QAAUA,EAAQ,YAIpBsS,IACA,SAASrS,EAAQD,EAASU,GAE/B,YAoCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAlCzFZ,EAAQa,YAAa,CAErB,IAAI6K,GAAUhL,EAAoB,IAE9BiL,EAAWhL,EAAuB+K,GAElC1D,EAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GWzkCzCE,EAAA5H,EAAA,GX6kCK6H,EAAU5H,EAAuB2H,GW5kCtCE,EAAA9H,EAAA,GAEAwB,GX8kCkBvB,EAAuB6H,GW9kCzC9H,EAAA,KAEAiI,EAAAjI,EAAA,IAEA+H,EAAA/H,EAAA,IXklCKgI,EAAU/H,EAAuB8H,GWhlCjB8J,EXolCH,SAAU1J,GWnlC1B,QAAA0J,GAAYzJ,IAAO,EAAAb,EAAA,YAAA5H,KAAAkS,EAAA,IAAAxJ,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAIjBC,GAAKC,WAAaD,EAAKC,WAAWC,KAAhBF,GAClBA,EAAKG,cAAgBH,EAAKG,cAAcD,KAAnBF,GACrBA,EAAKK,OAAUC,WAAYN,EAAKO,eANfP,EXwqClB,OApFA,EAAIV,EAAW,YAAYkK,EAAY1J,GAevC0J,EAAW/I,UW1lCZF,YX0lCoC,WWzlClC,GAAIG,GAAgBpJ,KAAKyI,MAAM5F,MAAMwG,UAAUC,MAC/C,OAAOF,GAAcJ,gBXgmCtBkJ,EAAW/I,UW5lCZR,WX4lCmC,WW5lCtB,GAAAY,GACmBvJ,KAAKyI,MAA3B5F,EADG0G,EACH1G,MADG2G,GAAAD,EACIE,WAC4BzJ,KAAKyI,MAAMgB,YAA9CC,EAFGF,EAEHE,eAAgBC,EAFbH,EAEaG,eAClBhG,EAAOd,EAAMwG,UACb5E,EAAUd,EAAKF,MAAMzD,KAAK+I,MAChC,OAAOY,IAAe,EAAArB,EAAAjH,mBAAkBqI,IAAkB7G,EAAO4B,KXomClEyN,EAAW/I,UWjmCZN,cXimCsC,WWhmCpC,MAAO7I,MAAKyI,MAAMgB,WAAW9F,KAAK2F,QXomCnC4I,EAAW/I,UWjmCZL,kBXimC0C,WWjmCtB,GAAAc,GAAA5J,IAElB,IAAKA,KAAKyI,MAAMgB,WAAW9F,OAItB3D,KAAK6I,gBAAgBgB,UAAa7J,KAAK6I,gBAAgBiB,gBAI5D,OAAO,EAAAzB,EAAA,aACL0B,OAAQ,MACRC,OAAShK,KAAK6I,gBAAgBgB,SAAa7J,KAAK6I,gBAAgBiB,eAAhE,kBACCG,KAAK,SAAAC,GACN,MAAON,GAAKO,UAAWnB,WAAYkB,EAAOvG,MACxCiG,EAAKjB,cALF,SAME,SAAAO,GACP,MAAO/E,SAAQC,IAAI,kBXsmCtB8N,EAAW/I,UWlmCZmB,cXkmCsC,WWjmCpC,MAAItK,MAAK+I,MAAMC,WAAWmJ,cACjB,GAEA,qCXsmCVD,EAAW/I,UWlmCZsB,OXkmC+B,WWjmC7B,MACEvC,GAAA,WAAAwC,cAAA,UAAQE,UAAU,wCAAwCwH,SAAS,KACjElK,EAAA,WAAAwC,cAAA,OAAKE,UAAU,kBACbyH,yBAA4BC,OAAQtS,KAAK+I,MAAMC,WAAWuJ,QAC5DrK,EAAA,WAAAwC,cAAA,cAAYE,UAAU,gBACpB1C,EAAA,WAAAwC,cAAA7I,EAAAwP,aAAiB,EAAA/F,EAAA,eAAkBtL,KAAKyI,OAASmC,UAAa,qBX0mC9DsH,GWzqC8BhK,EAAA,WAAMiD,UX4qC7CxL,GAAQ,WW5qCYuS,EX6qCpBtS,EAAOD,QAAUA,EAAQ,YAIpB6S,IACA,SAAS5S,EAAQD,EAASU,GAE/B,YAwBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAtBzFZ,EAAQa,YAAa,CAErB,IAAIiS,GAAapS,EAAoB,IAEjCqS,EAAcpS,EAAuBmS,GAErC9K,EAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GYhtCzCE,EAAA5H,EAAA,GZotCK6H,EAAU5H,EAAuB2H,GYltChC0K,EZstCO,SAAUnK,GYptCrB,QAAAmK,MAAc,EAAA/K,EAAA,YAAA5H,KAAA2S,EAAA,IAAAjK,IAAA,EAAAZ,EAAA,YAAA9H,KACZwI,EAAAhB,KAAAxH,MADY,OAGZ0I,GAAKkK,qBAAuBlK,EAAKkK,qBAAqBhK,KAA1BF,GAC5BA,EAAKmK,wBAA0BnK,EAAKmK,wBAAwBjK,KAA7BF,GAC/BA,EAAKoK,mBAAqBpK,EAAKoK,mBAAmBlK,KAAxBF,GAC1BA,EAAKqK,kBAAoBrK,EAAKqK,kBAAkBnK,KAAvBF,GACzBA,EAAKsK,aAAetK,EAAKsK,aAAapK,KAAlBF,GACpBA,EAAKuK,SAAWvK,EAAKuK,SAASrK,KAAdF,GAChBA,EAAKwK,cAAgBxK,EAAKwK,cAActK,KAAnBF,GACrBA,EAAKyK,KAAOzK,EAAKyK,KAAKvK,KAAVF,GACZA,EAAK+B,OAAS/B,EAAK+B,OAAO7B,KAAZF,GACdA,EAAKK,OACHqK,OAAQ,GACRC,QAAS,QAdC3K,EZ61Cb,OAxIA,EAAIV,EAAW,YAAY2K,EAAOnK,GAuBlCmK,EAAMxJ,UY1tCPyJ,qBZ0tCwC,SY1tCnBlE,GAGnB,MAFAA,GAAEC,iBACF3O,KAAKyI,MAAM6K,OAAOC,kBACX,GZ6tCRZ,EAAMxJ,UY1tCP0J,wBZ0tC2C,SY1tCnBnE,GAEtB,MADAA,GAAEC,iBACK3O,KAAK+S,qBZ6tCbJ,EAAMxJ,UY1tCP2J,mBZ0tCsC,SY1tCnBpE,GAEjB,MADAA,GAAEC,iBACK3O,KAAKgT,gBZ6tCbL,EAAMxJ,UY1tCP4J,kBZ0tCqC,SY1tCnBrE,GAChB,GAAM8E,GAAcxT,KAAKyI,MAAM6K,OAAOG,sBAItC,OAHAzT,MAAKyI,MAAM6K,OAAOnJ,UAChB1H,YAAazC,KAAKyI,MAAM6K,OAAOI,oBAAoBF,IACnDxT,KAAKiT,UAAS,EAAAP,EAAA,YAAec,MACxB,GZ4tCRb,EAAMxJ,UYztCP6J,aZytCgC,WYxtC9B,GAAMxQ,GAAOxC,KAAKyI,MAAM6K,OAAOK,mBAC/B,OAAO3T,MAAKiT,SAASzQ,IZ4tCtBmQ,EAAMxJ,UYztCP8J,SZytC4B,SYztCnBW,GACP,MAAO5T,MAAKmK,UAAWiJ,OAAQQ,GAAO5T,KAAKmT,OZ4tC5CR,EAAMxJ,UYztCP+J,cZytCiC,SYztCnBxE,GACZA,EAAEC,gBACF,IAAMkF,GAA2B,UAAvB7T,KAAK+I,MAAMsK,QAAsB,OAASrT,KAAK+I,MAAMsK,OAC/D,OAAOrT,MAAKmK,UACVkJ,QAASQ,KZ4tCZlB,EAAMxJ,UYztCPgK,KZytCwB,WYxtCtB,MAAOnT,MAAKmK,UACVkJ,QAAS,WZ4tCZV,EAAMxJ,UYztCPsB,OZytC0B,WYxtCxB,MACEvC,GAAA,WAAAwC,cAAA,WACExC,EAAA,WAAAwC,cAAA,OAAKE,UAAU,iBACb1C,EAAA,WAAAwC,cAAA,UACExC,EAAA,WAAAwC,cAAA,qBAAc1K,KAAKyI,MAAM6K,OAAOvK,MAAM+K,MAAtC,KACA5L,EAAA,WAAAwC,cAAA,UACExC,EAAA,WAAAwC,cAAA,KAAGG,KAAK,IAAIkG,QAAU/Q,KAAK4S,sBAA3B,aACc5S,KAAKyI,MAAM6K,OAAOvK,MAAMgL,UAAY,KAAO,QAG3D7L,EAAA,WAAAwC,cAAA,UACExC,EAAA,WAAAwC,cAAA,KAAGG,KAAK,IAAIkG,QAAU/Q,KAAK8S,oBAA3B,gBAEF5K,EAAA,WAAAwC,cAAA,UACExC,EAAA,WAAAwC,cAAA,KAAGG,KAAK,IAAIkG,QAAU/Q,KAAK6S,yBAA3B,mBAIN3K,EAAA,WAAAwC,cAAA,OAAKE,UAAU,YAAYE,OAAUuI,QAASrT,KAAK+I,MAAMsK,UACvDnL,EAAA,WAAAwC,cAAA,KAAGG,KAAK,IAAID,UAAU,0BAA0BmG,QAAU/Q,KAAKkT,gBAC/DhL,EAAA,WAAAwC,cAAA,OAAKE,UAAU,eACb1C,EAAA,WAAAwC,cAAA,2BAEE1K,KAAK+I,MAAMqK,OAAOnR,OAAS,EACzBiG,EAAA,WAAAwC,cAAA,WAAO1K,KAAK+I,MAAMqK,QAClBzR,WZowCNgR,GY/1CUzK,EAAA,WAAMiD,UZk2CzBxL,GAAQ,WY9vCMgT,EZ+vCd/S,EAAOD,QAAUA,EAAQ,YAIpBqU,IACA,SAASpU,EAAQD,EAASU,GAE/B,YAsBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GApBzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,Ga13CzCE,EAAA5H,EAAA,Gb83CK6H,EAAU5H,EAAuB2H,Ga73CtCpG,EAAAxB,EAAA,IAEqB4T,Ebi4CT,SAAUzL,Ga/3CpB,QAAAyL,GAAYxL,IAAO,EAAAb,EAAA,YAAA5H,KAAAiU,EAAA,IAAAvL,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAEjBC,GAAKwL,cAAgBxL,EAAKwL,cAActL,KAAnBF,GACrBA,EAAKyL,eAAiBzL,EAAKyL,eAAevL,KAApBF,GACtBA,EAAK0L,iBAAmB1L,EAAK0L,iBAAiBxL,KAAtBF,GACxBA,EAAK2L,iBAAmB3L,EAAK2L,iBAAiBzL,KAAtBF,GACxBA,EAAK4L,SAAU,EANE5L,Ebg8ClB,OAhEA,EAAIV,EAAW,YAAYiM,EAAMzL,GAejCyL,EAAK9K,Uat4CN+K,cbs4CgC,War4C9B,GAAMK,GAAU,GAAIC,QAAO,qIAKP,IACpB,SAAKD,EAAQE,KAAKC,OAChBC,MAAM,8BACC,Ib44CVV,EAAK9K,Uat4CNgL,ebs4CiC,War4C/B,MAAOhQ,SAAQC,IAAI,Sby4CpB6P,EAAK9K,Uat4CNiL,iBbs4CmC,Sat4ClB1F,GACf,GAAK1O,KAAK2D,KAAKiR,gBAGf,MAAO5U,MAAK2D,KAAKiR,gBAAgB5U,KAAKkO,KAAK2G,Oby4C5CZ,EAAK9K,Uat4CNkL,iBbs4CmC,Sat4ClB3F,GACf,GAAK1O,KAAK2D,KAAKmR,gBAGf,MAAO9U,MAAK2D,KAAKmR,mBby4ClBb,EAAK9K,Uat4CNsB,Obs4CyB,Wan4CvB,MAFAzK,MAAK2D,KAAO9B,EAAAkT,OAAO9Q,IAAIjE,KAAKyI,MAAMuM,WAAW3L,UAG3CnB,EAAA,WAAAwC,cAAA,KACEmG,IAAI,OACJhG,KAAO7K,KAAK2D,KAAKqG,IACjBY,UAAU,iBACVqK,YAAcjV,KAAKoU,iBACnBc,WAAalV,KAAKqU,kBAEhBrU,KAAKyI,MAAM0M,Wb24CXlB,Gal8CwB/L,EAAA,WAAMiD,Ubq8CvCxL,GAAQ,War8CYsU,Ebs8CpBrU,EAAOD,QAAUA,EAAQ,YAIpByV,IACA,SAASxV,EAAQD,EAASU,GAE/B,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GA5BzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,Gc99CzCE,EAAA5H,EAAA,Gdk+CK6H,EAAU5H,EAAuB2H,Gcj+CtCE,EAAA9H,EAAA,Gdq+CKgV,EAAa/U,EAAuB6H,Gc59CzCG,GAPAjI,EAAA,IAOAA,EAAA,KAOAiV,EAAAjV,EAAA,IAEMkV,Ed69CoB,SAAU/M,Gc39ClC,QAAA+M,GAAY9M,IAAO,EAAAb,EAAA,YAAA5H,KAAAuV,EAAA,IAAA7M,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAGjBC,GAAK2K,QAAU3K,EAAK2K,QAAQzK,KAAbF,GACfA,EAAK8M,KAAO9M,EAAK8M,KAAK5M,KAAVF,GACZA,EAAK+M,KAAO/M,EAAK+M,KAAK7M,KAAVF,GACZA,EAAKgN,cAAgBhN,EAAKgN,cAAc9M,KAAnBF,GACrBA,EAAKiN,MAAQjN,EAAKiN,MAAM/M,KAAXF,GACbA,EAAKkN,SAAWlN,EAAKkN,SAAShN,KAAdF,GAChBA,EAAKmN,0BAA4BnN,EAAKmN,0BAA0BjN,KAA/BF,GACjCA,EAAKoN,kBAAoBpN,EAAKoN,kBAAkBlN,KAAvBF,GACzBA,EAAKqN,kBAAoBrN,EAAKqN,kBAAkBnN,KAAvBF,GACzBA,EAAKsN,YAActN,EAAKsN,YAAYpN,KAAjBF,GACnBA,EAAKuN,gBAAkBvN,EAAKuN,gBAAgBrN,KAArBF,GACvBA,EAAKwN,QAAUxN,EAAKwN,QAAQtN,KAAbF,GACfA,EAAKyN,aAAezN,EAAKyN,aAAavN,KAAlBF,GACpBA,EAAK0N,SAAW1N,EAAK0N,SAASxN,KAAdF,GAChBA,EAAKK,OACHsN,UAAYzP,IAAK,EAAG0P,KAAM,GAC1Bd,MAAM,EACNe,QAAQ,GApBO7N,EdqvDlB,OAzRA,EAAIV,EAAW,YAAYuN,EAAoB/M,GA6B/C+M,EAAmBpM,Ucj+CpBkK,Qdi+CwC,Scj+ChCmD,GACN,MAAIA,GACKxW,KAAKwV,OAELxV,KAAKyV,Qdq+CfF,EAAmBpM,Ucj+CpBqM,Kdi+CqC,Wch+CnC,MAAOxV,MAAKmK,UACVqL,MAAM,Kdo+CTD,EAAmBpM,Ucj+CpBsM,Kdi+CqC,Wch+CnC,MAAOzV,MAAKmK,UACVqL,MAAM,Kdo+CTD,EAAmBpM,Ucj+CpBsN,Ydi+C4C,Scj+ChC7H,GACV,MAAO5O,MAAKmK,UACVkM,SAAUzH,Kdo+Cb2G,EAAmBpM,Ucj+CpBuM,cdi+C8C,Scj+ChCgB,GACZ,MAAI1W,MAAK+I,MAAMwN,OACNvW,KAAK4V,WAEL5V,KAAK2V,Sdq+CfJ,EAAmBpM,Ucj+CpBwM,Mdi+CsC,Wch+CpC,MAAO3V,MAAKmK,UACVoM,QAAQ,Kdo+CXhB,EAAmBpM,Ucj+CpByM,Sdi+CyC,Wch+CvC,MAAO5V,MAAKmK,UACVoM,QAAQ,Kdo+CXhB,EAAmBpM,Ucj+CpB0M,0Bdi+C0D,Scj+ChCc,GACxB,MAAO3W,MAAK4V,Ydo+CbL,EAAmBpM,Ucj+CpByN,Ydi+C4C,Wc/9C1C,MAAI5W,MAAK6W,WACA,YAEA,Idq+CVtB,EAAmBpM,Ucj+CpB0N,Sdi+CyC,Wch+CvC,MAAO7W,MAAK+I,MAAMyM,Mdo+CnBD,EAAmBpM,Ucj+CpB2N,Ydi+C4C,Wch+C1C,MAAI9W,MAAK+I,MAAMwN,OACN,YAEA,Idq+CVhB,EAAmBpM,Ucj+CpB4N,Ydi+C4C,Wch+C1C,MAAI/W,MAAK+I,MAAMwN,OACN,MAEA,Kdq+CVhB,EAAmBpM,Ucj+CpB2M,kBdi+CkD,Wc99ChD,MAFA9V,MAAKkO,KAAK8I,UAAUC,QACpBjX,KAAK4V,WACE5V,KAAKyV,Qdo+CbF,EAAmBpM,Ucj+CpB4M,kBdi+CkD,Scj+ChCmB,GAChB,GAAIC,IACFzT,KAAMwT,EAAME,eAAeC,aAC3BrF,YAAakF,EAAMI,QAAQtF,YAC3BnI,SAAUqN,EAAMI,QAAQzN,SAG1B,OAAO7J,MAAKyI,MAAM8O,UAAS,EAAAjP,EAAAhH,oBAAmBtB,KAAKyI,MAAMhG,YAAa,cAAe0U,Kdo+CtF5B,EAAmBpM,Ucj+CpB6M,Ydi+C4C,Scj+ChCtJ,GACV,GAAIyK,IACFnN,IAAKqD,IAAIC,gBAAgBZ,GACzBA,OAGF,OAAO1M,MAAKyI,MAAM8O,UAAS,EAAAjP,EAAA/G,aAAYvB,KAAKyI,MAAMhG,YAAa,QAAS0U,Kdo+CzE5B,EAAmBpM,Ucj+CpB8M,gBdi+CgD,Scj+ChCvH,GACd,GAAI8I,GAAW9I,EAAE/D,OAAO8M,KAMxB,OAAOzX,MAAKgW,YAAYwB,EAAS,Kdo+ClCjC,EAAmBpM,Ucj+CpB+M,Qdi+CwC,Wch+CtC,MAAOlW,MAAKyI,MAAM6K,OAAO4C,Sdo+C1BX,EAAmBpM,Ucj+CpBgN,adi+C6C,Scj+ChCzH,EAAGhL,GACd,GAAIgU,GAAgB1X,KAAKkW,UAAUyB,KAAK,SAAAC,GAAA,MAAKA,GAAEC,OAASnU,GAExD,QAAQgU,EAAcN,eAAeU,WACnC,IAAK,SACH,MAAO9X,MAAK8V,kBAAkBpH,EAAGgJ,EACnC,KAAK,cACH,MAAO1X,MAAK+V,kBAAkB2B,EAChC,SACE,MAAOvT,SAAQC,IAAR,kBAA+BsT,EAAcN,eAAeU,adu+CxEvC,EAAmBpM,Ucn+CpB4O,Sdm+CyC,Wcl+CvC,MAAO/X,MAAKkW,UAAU8B,OAAO,SAAAJ,GAC3B,MAAOA,GAAER,eAAea,0Bdu+C3B1C,EAAmBpM,Ucn+CpB+O,adm+C6C,Scn+ChCC,EAAQC,GAEnB,IADA,GAAIlR,GAAOkR,EAAM/Q,WACD,OAATH,GAAe,CACpB,GAAIA,IAASiR,EACX,OAAO,CAETjR,GAAOA,EAAKG,WAEd,OAAO,Gds+CRkO,EAAmBpM,Ucn+CpBiN,Sdm+CyC,Wcn+C9B,GACH3T,GAAgBzC,KAAKyI,MAArBhG,WAEN,IAAIA,EAAYL,eAAea,cAAe,CAE5C,GAAII,IAAe,EAAAiF,EAAA9G,iBAAgBiB,GAC/BX,EAAYuB,EAAaE,UAEzBZ,EAAeF,EAAYG,oBAC3BF,EAAiBD,EAAYL,eAE7BS,EAAQF,EAAaG,eAAeJ,EAAewD,WAEnDmS,GAAkB,EAAA/C,EAAAlT,cAAaF,OACnC,KAAKmW,EAAgBpR,WACnB,MAGF,IAEIqR,KAFO,EAAAhQ,EAAA7G,YAEa,EAAA6T,EAAAhP,kBAAiB+R,IACrCzJ,EAAS0J,EAETH,EAAS9C,EAAA,WAASkD,YAAYvY,KAAKyI,MAAM6K,OACxB6E,GAAOzR,uBAM5B,OAAK1G,MAAKkY,aAAaC,EAAQE,EAAgBvR,aAM/C9G,KAAKqT,QAAmC,IAA3BxQ,EAAMwB,UAAUpC,QAA8B,aAAdH,GACtC9B,KAAKyW,aACV7P,IAAKgI,EAAOhI,IAAM1E,OAAOsW,QACzBlC,KAAM1H,EAAO0H,KAAOpU,OAAOuW,QAAU,UARrCzY,MAAKyV,OA6BP,MAAOzV,MAAKyV,Qdu+CfF,EAAmBpM,Ucn+CpBsB,Odm+CuC,Wcn+C9B,GAAAb,GAAA5J,IACP,OACEkI,GAAA,WAAAwC,cAAA,OACEE,UAAA,iBAA8B5K,KAAK4W,cAAnC,IAAsD5W,KAAK8W,cAC3DhM,MAAQ9K,KAAK+I,MAAMsN,UAEnBnO,EAAA,WAAAwC,cAAA,UACEE,UAAU,+BACVI,MAAM,aACN0N,cAAY,cACZ3H,QAAU/Q,KAAK0V,eAEfxN,EAAA,WAAAwC,cAAA,QAAME,UAAU,kCAElB1C,EAAA,WAAAwC,cAAA,OACGE,UAAU,qBACVE,OAAUmC,MAAWjN,KAAK+W,cAAhB,OAET/W,KAAK+X,WAAWY,IAAK,SAACC,EAAMC,GAC5B,MAAQ3Q,GAAA,WAAAwC,cAACoO,GACCF,KAAOA,EACP1V,IAAM2V,EACN1C,aAAevM,EAAKuM,iBAIhCjO,EAAA,WAAAwC,cAAA,SACChH,KAAK,OACLoH,OAAUuI,QAAS,QACnBxC,IAAI,YACJkI,SAAS,WACTxB,SAAWvX,KAAKiW,qBd++CjBV,GcvvDuBrN,EAAA,WAAMiD,WAgRjC2N,Ed0+CmB,SAAUvH,Gcx+CjC,QAAAuH,MAAqB,EAAAlR,EAAA,YAAA5H,KAAA8Y,EAAA,QAAAE,GAAAhX,UAAAC,OAANgX,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAnX,UAAAmX,EAAA,IAAAtJ,IAAA,EAAA/H,EAAA,YAAA9H,KACnBuR,EAAA/J,KAAAgK,MAAAD,GAAAvR,MAAA8F,OAASmT,IADU,OAEnBpJ,GAAKsG,aAAetG,EAAKsG,aAAavN,KAAlBiH,GAFDA,EdygDpB,OAhCA,EAAI7H,EAAW,YAAY8Q,EAAmBvH,GAe9CuH,EAAkB3P,Ucn/CnBgN,adm/C4C,Scn/C/BzH,GAEX,MADAA,GAAEC,iBACK3O,KAAKyI,MAAM0N,aAAazH,EAAG1O,KAAKyI,MAAMmQ,KAAKf,Ods/CnDiB,EAAkB3P,Ucn/CnBsB,Odm/CsC,Wcl/CpC,MACEvC,GAAA,WAAAwC,cAAA,UACEE,UAAU,6BACVI,MAAQhL,KAAKyI,MAAMuC,MACnBoG,YAAcpR,KAAKmW,cAEnBjO,EAAA,WAAAwC,cAAA,QAAME,UAAA,2BAAwC5K,KAAKyI,MAAMmQ,KAAKf,Sdw/C5DiB,Gc3gDsB5Q,EAAA,WAAMiD,Ud8gDrCxL,GAAQ,Wcr/CM4V,Eds/Cd3V,EAAOD,QAAUA,EAAQ,YAIpByZ,IACA,SAASxZ,EAAQD,EAASU,GAE/B,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GA5BzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,Get0DzCE,EAAA5H,EAAA,Gf00DK6H,EAAU5H,EAAuB2H,Gez0DtCE,EAAA9H,EAAA,Gf60DKgV,EAAa/U,EAAuB6H,Gez0DzCmN,GAFAjV,EAAA,IAEAA,EAAA,KAEAiI,EAAAjI,EAAA,IAEMgZ,Ef+0DmB,SAAU7Q,Ge70DjC,QAAA6Q,GAAY5Q,IAAO,EAAAb,EAAA,YAAA5H,KAAAqZ,EAAA,IAAA3Q,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAGjBC,GAAK2K,QAAU3K,EAAK2K,QAAQzK,KAAbF,GACfA,EAAK8M,KAAO9M,EAAK8M,KAAK5M,KAAVF,GACZA,EAAK+M,KAAO/M,EAAK+M,KAAK7M,KAAVF,GACZA,EAAKgN,cAAgBhN,EAAKgN,cAAc9M,KAAnBF,GACrBA,EAAKiN,MAAQjN,EAAKiN,MAAM/M,KAAXF,GACbA,EAAKkN,SAAWlN,EAAKkN,SAAShN,KAAdF,GAChBA,EAAK0N,SAAW1N,EAAK0N,SAASxN,KAAdF,GAChBA,EAAKmN,0BAA4BnN,EAAKmN,0BAA0BjN,KAA/BF,GACjCA,EAAK4Q,YAAc5Q,EAAK4Q,YAAY1Q,KAAjBF,GACnBA,EAAKK,OACHsN,UACEzP,IAAK,EACL0P,KAAM,GAERd,MAAM,EACNe,QAAQ,EACRgD,UAAY7V,KAAM,SACNA,KAAM,WACNA,KAAM,SACNA,KAAM,UAtBHgF,Ef0+DlB,OA5JA,EAAIV,EAAW,YAAYqR,EAAmB7Q,GA4B9C6Q,EAAkBlQ,Ueh1DnBkK,Qfg1DuC,Seh1D/BmD,GACN,MAAIA,GACKxW,KAAKwV,OAELxV,KAAKyV,Qfo1Df4D,EAAkBlQ,Ueh1DnBqM,Kfg1DoC,We/0DlC,MAAOxV,MAAKmK,UACVqL,MAAM,Kfm1DT6D,EAAkBlQ,Ueh1DnBsM,Kfg1DoC,We/0DlC,MAAOzV,MAAKmK,UACVqL,MAAM,Kfm1DT6D,EAAkBlQ,Ueh1DnBsN,Yfg1D2C,Seh1D/B7H,GACV,MAAO5O,MAAKmK,UACVkM,SAAUzH,Kfm1DbyK,EAAkBlQ,Ueh1DnBuM,cfg1D6C,Seh1D/BgB,GACZ,MAAI1W,MAAK+I,MAAMwN,OACNvW,KAAK4V,WAEL5V,KAAK2V,Sfo1Df0D,EAAkBlQ,Ueh1DnBwM,Mfg1DqC,We/0DnC,MAAO3V,MAAKmK,UACVoM,QAAQ,Kfm1DX8C,EAAkBlQ,Ueh1DnByM,Sfg1DwC,We/0DtC,MAAO5V,MAAKmK,UACVoM,QAAQ,Kfm1DX8C,EAAkBlQ,Ueh1DnBiN,Sfg1DwC,Weh1D7B,GACH3T,GAAgBzC,KAAKyI,MAArBhG,WAEN,KAAIA,EAAYL,eAAea,cAoC7B,MAAOjD,MAAKyV,MAlCZ,IAAIpS,IAAe,EAAAiF,EAAA9G,iBAAgBiB,GAC/BX,EAAYuB,EAAaE,UAEzBZ,EAAeF,EAAYG,oBAC3BF,EAAiBD,EAAYL,eAI7BiW,GAFQ1V,EAAaG,eAAeJ,EAAewD,YAEjC,EAAAoP,EAAAlT,cAAaF,QACnC,IAAKmW,EAAgBpR,WAArB,CAIA,GAAIC,IAAO,EAAAoB,EAAA7G,WAEP6W,GAAoB,EAAAhD,EAAAhP,kBAAiB+R,GAGrCF,EAAS9C,EAAA,WAASkD,YAAYvY,KAAKyI,MAAM6K,QACzCkG,EAAiBrB,EAAOzR,uBAI5B,IAFA1G,KAAKqT,QAAsB,UAAdvR,GAEK,UAAdA,EAAuB,CACzBwW,EAAoBpR,EAAKJ,WAAWO,WAAWA,WACXA,WAAWX,uBAC/C,IAAI+S,GAAKzZ,KAAKkO,KAAKwL,cACfC,EAAOF,EAAGG,YAAc,CAC5B,OAAO5Z,MAAKyW,aACV7P,IAAK0R,EAAkB1R,IAAM4S,EAAe5S,IAAM,GAClD0P,KAAMgC,EAAkBhC,KAAOgC,EAAkBrL,MAAQ,EAAI0M,Ofw1DpEN,EAAkBlQ,Ueh1DnB0M,0Bfg1DyD,Seh1D/Bc,GACxB,MAAO3W,MAAK4V,Yfm1DbyD,EAAkBlQ,Ueh1DnB0Q,Sfg1DwC,We/0DtC,IAAK7Z,KAAK+I,MAAMsN,SACd,Ufo1DHgD,EAAkBlQ,Ueh1DnBmQ,Yfg1D2C,Seh1D/BV,GACV,MAAO5Y,MAAKyI,MAAM6K,OAAOwG,aAAalB,EAAKlV,Ofm1D5C2V,EAAkBlQ,Ueh1DnBsB,Ofg1DsC,Weh1D7B,GAAAb,GAAA5J,IACP,OACEkI,GAAA,WAAAwC,cAAA,OACEmG,IAAI,gBACJjG,UAAA,uEAAmF5K,KAAK+I,MAAMyM,KAAO,YAAc7T,QACnHmJ,OACIlE,IAAK5G,KAAK+I,MAAMsN,SAASzP,IACzB0P,KAAMtW,KAAK+I,MAAMsN,SAASC,OAG9BpO,EAAA,WAAAwC,cAAA,OAAKE,UAAU,iBACb1C,EAAA,WAAAwC,cAAA,MAAIE,UAAU,sBACV5K,KAAK+I,MAAMwQ,QAAQZ,IAAK,SAACC,EAAMC,GAC7B,MAAQ3Q,GAAA,WAAAwC,cAACqP,GACCnB,KAAOA,EACPU,YAAc1P,EAAK0P,YACnBpW,IAAM2V,QAMxB3Q,EAAA,WAAAwC,cAAA,OAAKE,UAAU,oBfw1DbyO,Ge5+DsBnR,EAAA,WAAMiD,WA0JhC4O,Efq1DuB,SAAUxI,Gen1DrC,QAAAwI,MAAqB,EAAAnS,EAAA,YAAA5H,KAAA+Z,EAAA,QAAAf,GAAAhX,UAAAC,OAANgX,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAnX,UAAAmX,EAAA,IAAAtJ,IAAA,EAAA/H,EAAA,YAAA9H,KACnBuR,EAAA/J,KAAAgK,MAAAD,GAAAvR,MAAA8F,OAASmT,IADU,OAEnBpJ,GAAKyJ,YAAczJ,EAAKyJ,YAAY1Q,KAAjBiH,GACnBA,EAAKpF,OAASoF,EAAKpF,OAAO7B,KAAZiH,GAHKA,Efm3DpB,OA/BA,EAAI7H,EAAW,YAAY+R,EAAuBxI,GAgBlDwI,EAAsB5Q,Ue91DvBmQ,Yf81D+C,Se91DnC5K,GAEV,MADAA,GAAEC,iBACK3O,KAAKyI,MAAM6Q,YAAYtZ,KAAKyI,MAAMmQ,Ofi2D1CmB,EAAsB5Q,Ue91DvBsB,Of81D0C,We71DxC,MAAOvC,GAAA,WAAAwC,cAAA,MACLE,UAAA,2BAAuC5K,KAAKyI,MAAMmQ,KAAKlV,KACvD0N,YAAapR,KAAKsZ,aAChBpR,EAAA,WAAAwC,cAAA,QAAME,UAAA,iCAA6C5K,KAAKyI,MAAMmQ,KAAKlV,Sfo2DjEqW,Ger3D0B7R,EAAA,WAAMiD,Ufw3DzCxL,GAAQ,Wel2DM0Z,Efm2DdzZ,EAAOD,QAAUA,EAAQ,YAIpBqa,IACA,SAASpa,EAAQD,EAASU,GAE/B,YA0BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAxBzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GgBjjEzCE,EAAA5H,EAAA,GhBqjEK6H,EAAU5H,EAAuB2H,GgBpjEtCE,EAAA9H,EAAA,GhBwjEKgV,EAAa/U,EAAuB6H,GgBtjEzCG,EAAAjI,EAAA,IAEM4Z,EhB0jEoB,SAAUzR,GgBxjElC,QAAAyR,GAAYxR,IAAO,EAAAb,EAAA,YAAA5H,KAAAia,EAAA,IAAAvR,IAAA,EAAAZ,EAAA,YAAA9H,KAEjBwI,EAAAhB,KAAAxH,KAAMyI,GAFW,OAGjBC,GAAK2K,QAAU3K,EAAK2K,QAAQzK,KAAbF,GACfA,EAAK8M,KAAO9M,EAAK8M,KAAK5M,KAAVF,GACZA,EAAK+M,KAAO/M,EAAK+M,KAAK7M,KAAVF,GACZA,EAAK0N,SAAW1N,EAAK0N,SAASxN,KAAdF,GAChBA,EAAK+B,OAAS/B,EAAK+B,OAAO7B,KAAZF,GACdA,EAAKK,OACHsN,UACEzP,IAAK,EACL0P,KAAM,GAERd,MAAM,EACNxL,IAAK,IAdUtB,EhBoqElB,OA3GA,EAAIV,EAAW,YAAYiS,EAAoBzR,GAuB/CyR,EAAmB9Q,UgB9jEpBkK,QhB8jEwC,SgB9jEhCmD,GACN,MAAIA,GACKxW,KAAKwV,OAELxV,KAAKyV,QhBkkEfwE,EAAmB9Q,UgB9jEpBqM,KhB8jEqC,WgB7jEnC,MAAOxV,MAAKmK,UACVqL,MAAM,KhBikETyE,EAAmB9Q,UgB9jEpBsM,KhB8jEqC,WgB7jEnC,MAAOzV,MAAKmK,UACVqL,MAAM,KhBikETyE,EAAmB9Q,UgB9jEpBsN,YhB8jE4C,SgB9jEhC7H,GACV,MAAO5O,MAAKmK,UACVkM,SAAUzH,KhBikEbqL,EAAmB9Q,UgB9jEpBiN,ShB8jEyC,SgB9jEhClP,GAIP,GAHY,MAARA,IACFA,EAAO,MAEJA,EAAL,CAJa,GAQPzE,GAAgBzC,KAAKyI,MAArBhG,YACFY,GAAe,EAAAiF,EAAA9G,iBAAgBiB,GAM/B6V,GALYjV,EAAaE,UAEVd,EAAYG,oBACVH,EAAYL,eAET8E,EAAKR,yBAGzB+S,EAAKzZ,KAAKkO,KAAKgM,cACfP,EAAOF,EAAGG,YAAc,EAExBzB,EAAS9C,EAAA,WAASkD,YAAYvY,KAAKyI,MAAM6K,QACzCkG,EAAiBrB,EAAOzR,uBAE5B,QACEE,IAAK0R,EAAkB1R,IAAM4S,EAAe5S,IAAM,IAClD0P,KAAMgC,EAAkBhC,KAAOgC,EAAkBrL,MAAQ,EAAI0M,KhBmkEhEM,EAAmB9Q,UgB/jEpBsB,OhB+jEuC,WgB/jE9B,GACD4L,GAAarW,KAAK+I,MAAlBsN,SACFvL,GACFwL,KAAMD,EAASC,KACf1P,IAAKyP,EAASzP,IACduT,eAAgBna,KAAK+I,MAAMyM,KAAO,UAAY,UAEhD,OACEtN,GAAA,WAAAwC,cAAA,OACEmG,IAAI,gBACJjG,UAAU,gFACVE,MAAQA,EACRmK,YAAcjV,KAAKyI,MAAM2R,kBACzBlF,WAAalV,KAAKyI,MAAM4R,kBAExBnS,EAAA,WAAAwC,cAAA,OAAKE,UAAU,iBACb1C,EAAA,WAAAwC,cAAA,KAAGG,KAAO7K,KAAKyI,MAAMuB,IAAMW,OAAO,UAC9B3K,KAAK+I,MAAMiB,MAGjB9B,EAAA,WAAAwC,cAAA,OAAKE,UAAU,oBhBykEbqP,GgBtqEuB/R,EAAA,WAAMiD,UhByqEtCxL,GAAQ,WgBtkEMsa;AhBukEdra,EAAOD,QAAUA,EAAQ,YAIpB2a,IACA,SAAS1a,EAAQD,EAASU,GAE/B,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GA5BzFZ,EAAQa,YAAa,CAErB,IAAImH,GAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GAE1CE,EAA8BxH,EAAoB,IAElDyH,EAA8BxH,EAAuBuH,GAErDE,EAAa1H,EAAoB,IAEjC2H,EAAa1H,EAAuByH,GiBrsEzCE,EAAA5H,EAAA,GjBysEK6H,EAAU5H,EAAuB2H,GiBxsEtCE,EAAA9H,EAAA,GjB4sEKgV,EAAa/U,EAAuB6H,GiB1sEzCtG,EAAAxB,EAAA,IAaAiV,EAAAjV,EAAA,IAEAiI,EAAAjI,EAAA,IAEMka,EjBmsEc,SAAU/R,GiBjsE5B,QAAA+R,GAAY9R,IAAO,EAAAb,EAAA,YAAA5H,KAAAua,EAAA,IAAA7R,IAAA,EAAAZ,EAAA,YAAA9H,KACjBwI,EAAAhB,KAAAxH,KAAMyI,GADW,OAEjBC,GAAK8R,oBAAsB9R,EAAK8R,oBAAoB5R,KAAzBF,GAC3BA,EAAK2K,QAAU3K,EAAK2K,QAAQzK,KAAbF,GACfA,EAAK8M,KAAO9M,EAAK8M,KAAK5M,KAAVF,GACZA,EAAK+M,KAAO/M,EAAK+M,KAAK7M,KAAVF,GACZA,EAAK0N,SAAW1N,EAAK0N,SAASxN,KAAdF,GAChBA,EAAK+R,mBAAqB/R,EAAK+R,mBAAmB7R,KAAxBF,GAC1BA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgB9R,KAArBF,GACvBA,EAAKiS,kBAAoBjS,EAAKiS,kBAAkB/R,KAAvBF,GACzBA,EAAKkS,gBAAkBlS,EAAKkS,gBAAgBhS,KAArBF,GACvBA,EAAKmS,iBAAmBnS,EAAKmS,iBAAiBjS,KAAtBF,GACxBA,EAAKoS,iBAAmBpS,EAAKoS,iBAAiBlS,KAAtBF,GACxBA,EAAKqS,YAAcrS,EAAKqS,YAAYnS,KAAjBF,GACnBA,EAAKsS,YAActS,EAAKsS,YAAYpS,KAAjBF,GACnBA,EAAKuS,WAAavS,EAAKuS,WAAWrS,KAAhBF,GAClBA,EAAKwS,gBAAkBxS,EAAKwS,gBAAgBtS,KAArBF,GACvBA,EAAKyS,wBAALtZ,EAAAsZ,wBACAzS,EAAKK,OACHqS,WAAW,EACX5F,MAAM,EACNa,aArBe3N,EjB0/ElB,OAxTA,EAAIV,EAAW,YAAYuS,EAAc/R,GA+BzC+R,EAAapR,UiBxsEdqR,oBjBwsE8C,SiBxsE1B9D,EAAI5L,GAAO,GAAAlB,GAAA5J,IAK7B,OAJA0W,GAAG/H,iBAEH3O,KAAKyI,MAAM8O,SAAS1V,EAAAwZ,UAAUC,kBAAkBtb,KAAKyI,MAAMhG,YAAaqI,IAEjE8F,WAAW,WAChB,MAAOhH,GAAKwM,YACX,IjB6sEJmE,EAAapR,UiB1sEdkK,QjB0sEkC,SiB1sE1BmD,GACN,MAAIA,GACKxW,KAAKwV,OAELxV,KAAKyV,QjB8sEf8E,EAAapR,UiB1sEdqM,KjB0sE+B,WiBzsE7B,MAAOxV,MAAKmK,UACVqL,MAAM,KjB6sET+E,EAAapR,UiB1sEdsM,KjB0sE+B,WiBzsE7B,MAAOzV,MAAKmK,UACViR,WAAW,EACX5F,MAAM,KjB8sET+E,EAAapR,UiB1sEdsN,YjB0sEsC,SiB1sE1B7H,GACV,MAAO5O,MAAKmK,UACVkM,SAAUzH,KjB6sEb2L,EAAapR,UiB1sEd+O,ajB0sEuC,SiB1sE1BC,EAAQC,GAEnB,IADA,GAAIlR,GAAOkR,EAAM/Q,WACD,OAATH,GAAe,CACpB,GAAIA,IAASiR,EACX,OAAO,CAETjR,GAAOA,EAAKG,WAEd,OAAO,GjB6sERkT,EAAapR,UiB1sEdiN,SjB0sEmC,WiBxsEjC,GAAI/S,IAAe,EAAAiF,EAAA9G,iBAAgBxB,KAAKyI,MAAMhG,aAC1CX,EAAYuB,EAAaE,SAG7B,IAAIvD,KAAKyI,MAAM8S,cAAcC,kBAAkBC,QAAQ3Z,GAAa,EAElE,WADA9B,MAAKyV,MAIP,KAAIzV,KAAK+I,MAAMqS,WAGVpb,KAAK+I,MAAMyM,KAAhB,CAIA,GAAIiE,GAAKzZ,KAAKkO,KAAKwN,WACf/B,EAAOF,EAAGG,YAAc,EAExBvB,GAAkB,EAAA/C,EAAAlT,cAAaF,OACnC,IAAKmW,EAAgBpR,WAArB,CAIA,GAAIqR,IAAoB,EAAAhD,EAAAhP,kBAAiB+R,GAErCF,EAAS9C,EAAA,WAASkD,YAAYvY,KAAKyI,MAAM6K,QACzCkG,EAAiBrB,EAAOzR,uBAG5B,KAAK1G,KAAKkY,aAAaC,EAAQE,EAAgBvR,YAE7C,WADA9G,MAAKyV,MAIP,IAAI7O,GAAM0R,EAAkB1R,IAAM4S,EAAe5S,SAAY,EACzD0P,EAAOgC,EAAkBhC,KAAOgC,EAAkBrL,MAAQ,EAAI0M,CAElE,IAAK/S,GAAQ0P,EAKb,MAAOtW,MAAKmK,UACVqL,MAAM,EACNa,UACEC,OACA1P,YjB+sEL2T,EAAapR,UiB1sEdsR,mBjB0sE6C,SiB1sE1B/D,EAAI5L,GAAO,GAAA+E,GAAA7P,IAK5B,OAJA0W,GAAG/H,iBAEH3O,KAAKyI,MAAM8O,SAAS1V,EAAAwZ,UAAUM,gBAAgB3b,KAAKyI,MAAMhG,YAAaqI,IAE/D8F,WAAW,WAChB,MAAOf,GAAKuG,YACX,IjB+sEJmE,EAAapR,UiB5sEduR,gBjB4sE0C,WiB3sExC,MAAI1a,MAAK+I,MAAMqS,UACN,uBAEA,IjBgtEVb,EAAapR,UiB5sEdwR,kBjB4sE4C,WiB3sE1C,MAAI3a,MAAK+I,MAAMyM,KACN,qBAEA,IjBgtEV+E,EAAapR,UiB5sEdyR,gBjB4sE0C,SiB5sE1BlE,GAEd,MADAA,GAAG/H,iBACI3O,KAAKmK,UACViR,WAAW,KjB+sEdb,EAAapR,UiB5sEd0R,iBjB4sE2C,SiB5sE1BnE,GAEf,MADAA,GAAG/H,iBACI3O,KAAKmK,UACViR,WAAW,EACXpR,IAAK,MjBgtERuQ,EAAapR,UiB5sEdyS,SjB4sEmC,WiB3sEjC,MAAO5b,MAAKyV,QjB+sEb8E,EAAapR,UiB5sEd2R,iBjB4sE2C,SiB5sE1BpM,GACf,GAAgB,KAAZA,EAAEmN,MACJ,MAAO7b,MAAK+a,YAAYrM,IjBgtE3B6L,EAAapR,UiB5sEd4R,YjB4sEsC,SiB5sE1BrM,GACVA,EAAEC,gBADW,IAEPlM,GAAgBzC,KAAKyI,MAArBhG,YACFqZ,EAAWpN,EAAEqN,cAAcC,MAE3B1Z,GADeG,EAAYG,oBACfH,EAAYL,gBAExB+U,GACFnN,IAAK8R,EACLlH,gBAAiB5U,KAAKyI,MAAMmM,gBAC5BE,gBAAiB9U,KAAKyI,MAAMqM,iBAG1BE,EAAYnT,EAAAkT,OAAOkH,OAAO,OAAQ,UAAW9E,EAEjD,OAAI7U,GAAUW,kBACZkB,SAAQC,IAAI,4BAIdpE,KAAKyI,MAAM8O,SAAS1V,EAAAwZ,UAAUa,WAAWzZ,EAAaH,EAAW0S,IAE1DhV,KAAK6a,iBAAiBnM,KjBgtE9B6L,EAAapR,UiB7sEdgT,YjB6sEsC,WiB5sEpC,GAAIC,GAAMpc,KAAK+I,MAAMsN,QACrB,OAAO+F,IjBgtER7B,EAAapR,UiB7sEd6R,YjB6sEsC,WiB5sEpC,MAAOhb,MAAKyI,MAAM2O,eAAeiF,YAAYrE,OAAO,SAAAJ,GAClD,MAAkB,WAAXA,EAAElU,QjBitEZ6W,EAAapR,UiB7sEd8R,WjB6sEqC,WiB5sEnC,MAAOjb,MAAKyI,MAAM2O,eAAeiF,YAAYrE,OAAO,SAAAJ,GAClD,MAAkB,UAAXA,EAAElU,QjBitEZ6W,EAAapR,UiB7sEd+R,gBjB6sE0C,WiB7sExB,GAAAvK,GAAA3Q,IACZA,MAAKkO,KAAKoO,mBACZtc,KAAKkO,KAAKoO,iBAAiBN,MAAQ,GAGrC,IAAI3Y,IAAe,EAAAiF,EAAA9G,iBAAgBxB,KAAKyI,MAAMhG,aAE1CH,GADYe,EAAaE,UACbvD,KAAKyI,MAAM6K,OAAOvK,MAAMtG,YAAYL,gBAChDma,EAAiB,KACjB9Q,EAAa,IACjB,OAAOpI,GAAamZ,iBAAiB,SAAAC,GACnC,GAAIzH,GAAYyH,EAAUC,WAE1B,OADAH,GAAiBvH,EACI,OAAdA,GAA0D,SAApCnT,EAAAkT,OAAO9Q,IAAI+Q,GAAWzR,WAClD,SAACoZ,EAAOC,GACT,GAAIC,GAAWva,EAAUwa,kBACrBC,EAASza,EAAU0a,gBAMvB,IALI1a,EAAU2a,kBACZJ,EAAWva,EAAU0a,iBACrBD,EAASza,EAAUwa,mBAGjBH,IAAUE,GAAYD,IAAQG,EAEhC,MADAtR,GAAa5J,EAAAkT,OAAO9Q,IAAIsY,GAAgBlT,UAAUW,IAC3C2G,EAAKzC,KAAKoO,iBAAiBN,MAAQvQ,KjBotE/C8O,EAAapR,UiB/sEdsB,OjB+sEiC,WiB/sExB,GAAAyS,GAAAld,IACP,OACEkI,GAAA,WAAAwC,cAAA,OACEyS,GAAG,aACHtM,IAAI,aACJjG,UAAA,cAA2B5K,KAAK2a,oBAAhC,IAAyD3a,KAAK0a,kBAC9D5P,MAAQ9K,KAAKmc,eAEbjU,EAAA,WAAAwC,cAAA,OAAKE,UAAU,wBACb1C,EAAA,WAAAwC,cAAA,SACEE,UAAU,mBACViG,IAAI,mBACJmB,YAAY,uBACZoL,WAAapd,KAAK8a,iBAClBuC,aAAerd,KAAKkb,oBAEtBhT,EAAA,WAAAwC,cAAA,OAAKE,UAAU,oBAAoBwG,YAAcpR,KAAK6a,oBAExD3S,EAAA,WAAAwC,cAAA,MAAIE,UAAU,sBACV5K,KAAKib,aAAatC,IAAK,SAACC,EAAMC,GAC5B,MAAQ3Q,GAAA,WAAAwC,cAAC4S,GACCpa,IAAM2V,EACND,KAAOA,EACPU,YAAc4D,EAAKzC,mBACnBhY,YAAcya,EAAKzU,MAAMhG,YACzBiB,KAAK,QACL6Z,aAAeL,EAAKzU,MAAMhG,YAAY+a,0BAIpDtV,EAAA,WAAAwC,cAAC+S,GACChb,YAAczC,KAAKyI,MAAMhG,YACzBib,eAAiB1d,KAAK4a,kBAEpB5a,KAAKgb,cAAcrC,IAAK,SAACC,EAAMC,GAC/B,MAAQ3Q,GAAA,WAAAwC,cAAC4S,GACCpa,IAAM2V,EACND,KAAOA,EACPlV,KAAK,SACLjB,YAAcya,EAAKzU,MAAMhG,YACzB6W,YAAc4D,EAAK1C,2BjB4tEjCD,GiB5/EiBrS,EAAA,WAAMiD,WA0S3BmS,EjBqtEkB,SAAU/L,GiBntEhC,QAAA+L,MAAqB,EAAA1V,EAAA,YAAA5H,KAAAsd,EAAA,QAAAtE,GAAAhX,UAAAC,OAANgX,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAnX,UAAAmX,EAAA,IAAAwE,IAAA,EAAA7V,EAAA,YAAA9H,KACnBuR,EAAA/J,KAAAgK,MAAAD,GAAAvR,MAAA8F,OAASmT,IADU,OAEnB0E,GAAKrE,YAAcqE,EAAKrE,YAAY1Q,KAAjB+U,GACnBA,EAAK/G,YAAc+G,EAAK/G,YAAYhO,KAAjB+U,GACnBA,EAAK9G,SAAW8G,EAAK9G,SAASjO,KAAd+U,GAChBA,EAAKC,kBAAoBD,EAAKC,kBAAkBhV,KAAvB+U,GACzBA,EAAKE,iBAAmBF,EAAKE,iBAAiBjV,KAAtB+U,GACxBA,EAAKlT,OAASkT,EAAKlT,OAAO7B,KAAZ+U,GAPKA,EjBsxEpB,OAlEA,EAAI3V,EAAW,YAAYsV,EAAkB/L,GAoB7C+L,EAAiBnU,UiB9tElBmQ,YjB8tE0C,SiB9tE9B5C,GACV,MAAO1W,MAAKyI,MAAM6Q,YAAY5C,EAAI1W,KAAKyI,MAAMmQ,KAAK9N,QjBiuEnDwS,EAAiBnU,UiB9tElByN,YjB8tE0C,WiB7tExC,MAAI5W,MAAK6W,WACA,SAEA,IjBkuEVyG,EAAiBnU,UiB9tElB0N,SjB8tEuC,WiB7tErC,MAAwB,UAApB7W,KAAKyI,MAAM/E,KACN1D,KAAK6d,mBAEL7d,KAAK4d,qBjBkuEfN,EAAiBnU,UiB9tElByU,kBjB8tEgD,WiB7tE9C,GAAK5d,KAAKyI,MAAMhG,YAIhB,MAAOzC,MAAKyI,MAAMhG,YAAY+a,wBAAwBM,IAAI9d,KAAKyI,MAAMmQ,KAAK9N,QjBiuE3EwS,EAAiBnU,UiB9tElB0U,iBjB8tE+C,WiB5tE7C,GAAK7d,KAAKyI,MAAMhG,YAAhB,CAGA,GAAIH,GAAYtC,KAAKyI,MAAMhG,YAAYL,eACnCN,EAAY9B,KAAKyI,MAAMhG,YAAYG,oBAAoBE,eAAeR,EAAUS,eAAeQ,SACnG,OAAOvD,MAAKyI,MAAMmQ,KAAK9N,QAAUhJ,IjBiuElCwb,EAAiBnU,UiB9tElBsB,OjB8tEqC,WiB7tEnC,MACEvC,GAAA,WAAAwC,cAAA,MAAIE,UAAA,qBAAkC5K,KAAK4W,cAAmBxF,YAAcpR,KAAKsZ,aAC/EpR,EAAA,WAAAwC,cAAA,KAAGE,UAAA,yBAAsC5K,KAAKyI,MAAMmQ,KAAKmF,MAAWrF,cAAY,WjBmuE9E4E,GiBxxEqBpV,EAAA,WAAMiD,WA2D/BsS,EjBguEkB,SAAUO,GiB9tEhC,QAAAP,MAAqB,EAAA7V,EAAA,YAAA5H,KAAAyd,EAAA,QAAAQ,GAAAjc,UAAAC,OAANgX,EAAMC,MAAA+E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANjF,EAAMiF,GAAAlc,UAAAkc,EAAA,IAAAC,IAAA,EAAArW,EAAA,YAAA9H,KACnBge,EAAAxW,KAAAgK,MAAAwM,GAAAhe,MAAA8F,OAASmT,IADU,OAEnBkF,GAAKC,cAAgBD,EAAKC,cAAcxV,KAAnBuV,GAFFA,EjBiwEpB,OAlCA,EAAInW,EAAW,YAAYyV,EAAkBO,GAe7CP,EAAiBtU,UiBzuElBiV,cjByuE4C,SiBzuE9B1H,GACZ,GAAIpU,GAAYtC,KAAKyI,MAAMhG,YAAYL,cACvC,KAAKE,EAAUW,cACb,MAAOjD,MAAKyI,MAAMiV,eAAehH,IjB6uEpC+G,EAAiBtU,UiBzuElBsB,OjByuEqC,WiBxuEnC,MACEvC,GAAA,WAAAwC,cAAA,MAAIE,UAAU,oBAAoBwG,YAAcpR,KAAKoe,eACnDlW,EAAA,WAAAwC,cAAA,KAAGE,UAAU,6BAA6B8N,cAAY,cAAtD,UjBkvEE+E,GiBnwEqBvV,EAAA,WAAMiD,UjBswEpCxL,GAAQ,WiB/uEM4a,EjBgvEd3a,EAAOD,QAAUA,EAAQ,YAIpB0e,IACA,SAASze,EAAQD,EAASU,GAE/B,YAEAV,GAAQa,YAAa,CkBzoFtB,IAAAqB,GAAAxB,EAAA,IAGMie,EAAe,SAACC,EAAYC,EAAUC,EAAcC,GACxD,MAAOD,GAAajC,iBAAkB,SAAS9T,GAC7C,MAAO,UAAS+T,GACd,GAAIzH,GAAWmC,EAAMwH,CAErB,OADA3J,GAAYyH,EAAUC,YACdiC,EAAoB,OAAd3J,GAAsBnT,EAAAkT,OAAO9Q,IAAI+Q,GAAWzR,YAAcgb,EAAYI,GAAOxH,GACzFvC,gBAAiB4J,EAAS5J,gBAC1BE,gBAAiB0J,EAAS1J,iBACzBjT,EAAAkT,OAAO6J,UAAU5J,EAAWmC,IAAS,OAAQwH,IAPfhd,QAS3B+c,GlB8oFX/e,GAAQ,WkB3oFM2e,ElB4oFd1e,EAAOD,QAAUA,EAAQ,YAIpBkf,IACA,SAASjf,EAAQD,EAASU,GAE/B,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAVzFZ,EAAQa,YAAa,CAErB,IAAIiS,GAAapS,EAAoB,IAEjCqS,EAAcpS,EAAuBmS,GmBzqF1C5Q,EAAAxB,EAAA,IASIye,GAPJze,EAAA,IAOc,WACZ,GAAI4Y,GAAOjX,UACP2a,EAAQ1D,EAAKhX,OAAS,CAC1B,OAAO,YAGL,IAFA,GAAI4W,GAAI8D,EACJzS,EAAS+O,EAAK0D,GAAOnL,MAAMxR,KAAMgC,WAC9B6W,KACL3O,EAAS+O,EAAKJ,GAAGrR,KAAKxH,KAAMkK,EAE9B,OAAOA,MAWP6U,EAAyB,SAAAC,GAC3B,OACEC,YAAa,QACbC,OAAQF,EAAW5X,aAAa,SAKhC+X,EAAgB,SAAAC,GAClB,GAAkB,OAAdA,EACF,MAAO,KAGT,IAAIC,GAAShd,SAASqI,cAAc,aAIpC,OADA2U,GAAOC,WAAY,EAAA5M,EAAA,YAAe0M,GAC3BC,GAILE,EAAiB,SAACC,EAAOC,GAC3B,GAAMA,YAAiBC,aAAvB,CAIA,GAAIC,GAAOC,EAAQJ,EAGnB,OAAOG,GAAKtY,WAAWwY,aAAaJ,EAAOE,KAGzCC,EAAU,SAAAnG,GAEZ,KAAOA,EAAGpS,YAIR,GAH8B,SAA1BoS,EAAGpS,WAAWyY,UAChBrG,EAAKA,EAAGpS,YAEoB,SAA1BoS,EAAGpS,WAAWyY,QAAsB,MAAOrG,IAI/CsG,EAA4BjB,EAAQK,EAAeJ,GAEnDiB,EAAc,SAAAhB,GAChB,MAAOO,GAAeP,EAAYe,EAA0Bf,KAQ1DiB,EAAqB,SAASC,EAAMC,GACtC,GAAIC,IAAU,GAAIC,YAAYC,gBAAgBJ,EAAM,YAG5CE,GAAQG,iBAAiB,OAAOC,QAAS,SAAA5H,GAAA,MAAOoH,GAAYpH,IAIpEzU,SAAQC,IAAIgc,EAAQK,KAAKC,UACzB,IAAIC,IAAgB,EAAA9e,EAAA+e,iBAAgBR,EAAQK,KAAKC,UAA7B7e,EAAAgf,oBAEdV,EA6BN,OAzBAQ,GAAgBA,EAAchI,IAAI,SAAS9V,GACzC,GAAIW,SAEJ,IADAW,QAAQC,IAAI,cAAevB,EAAMU,WACT,eAApBV,EAAMU,UACR,MAAOV,EAGT,IAAIyN,GAAO,EACX,KACEA,EAAOwQ,KAAKC,MAAMle,EAAMwB,WACxB,MAAO6E,GACP,MAAOrG,GAGT,MAAOW,GAAWX,EAAMY,OACtBC,KAAM,QACNlB,KAAM,GACNmB,MACEqG,IAAKsG,EAAK4O,OACVnR,aAAa,OAKnBqS,EAAU,KACHve,EAAAmf,aAAaC,qBAAqBN,GnBgrF1ChhB,GAAQ,WmB5qFMsgB,EnB6qFdrgB,EAAOD,QAAUA,EAAQ,YAIpBuhB,IACA,SAASthB,EAAQD,EAASU,GAE/B,YAoBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAlBzFZ,EAAQa,YAAa,CAErB,IAAIiS,GAAapS,EAAoB,IAEjCqS,EAAcpS,EAAuBmS,GAErC9K,EAAmBtH,EAAoB,IAEvCuH,EAAmBtH,EAAuBqH,GoB5zF/CS,EAAA/H,EAAA,IpBg0FKgI,EAAU/H,EAAuB8H,GoB/zFtCxG,EAAAvB,EAAA,IpBm0FK8gB,EAAc7gB,EAAuBsB,GoBj0FpCwf,EpBq0Fc,WoBp0FlB,QAAAA,GAAY9J,IAAS,EAAA1P,EAAA,YAAA5H,KAAAohB,GACnBphB,KAAKqhB,SAAW/J,EAAQ+J,SACxBrhB,KAAKyM,OAAS6K,EAAQ7K,OACtBzM,KAAKshB,cAAgBhK,EAAQgK,cAC7BthB,KAAKyC,YAAc6U,EAAQ7U,YpB28F5B,MAjIA2e,GAAajY,UoBv0FdoY,YpBu0FsC,SoBv0F1B7K,GACV,MAAO1W,MAAKwhB,SpB00FbJ,EAAajY,UoBv0FdqY,MpBu0FgC,SoBv0F1B3c,GAAQ,GAAA6D,GAAA1I,IACZ,IAAKA,KAAKyM,OAAOgV,aAAazX,OAC1BhK,KAAKqhB,WAAa,GAItB,MAFAK,cAAa1hB,KAAK2hB,SAEX3hB,KAAK2hB,QAAU/Q,WAAW,WAC/B,MAAOlI,GAAKkZ,cAAc/c,IAE1B7E,KAAKyM,OAAOgV,aAAaI,WpB+0F5BT,EAAajY,UoB50FdwK,kBpB40F4C,SoB50F1B9O,GAChB,MAAOA,GAAQid,OAAOnJ,IAAI,SAAAf,GACtB,MAAOA,GAAEpV,OAGVuf,KAAK,OpB60FTX,EAAajY,UoB10Fd6Y,OpB00FiC,WoB10FxB,GACDhY,GAAQhK,KAAKyM,OAAOgV,aAApBzX,GACN,OAAoB,kBAATA,GACFA,IAEAA,GpB+0FVoX,EAAajY,UoB30Fd8Y,UpB20FoC,WoB30FxB,GACJlY,GAAW/J,KAAKyM,OAAOgV,aAAvB1X,MACN,OAAuB,kBAAZA,GACFA,IAEAA,GpBg1FVqX,EAAajY,UoB50Fd+Y,mBpB40F6C,WoB50FzB,GACZC,GAAoBniB,KAAKyM,OAAOgV,aAAhCU,eACN,OAAgC,kBAArBA,GACFA,IAEAA,GpBi1FVf,EAAajY,UoB70FdiZ,epB60FyC,WoB70FzB,GACRC,GAAgBriB,KAAKyM,OAAOgV,aAA5BY,WACN,OAA4B,kBAAjBA,GACFA,IAEAA,GpBk1FVjB,EAAajY,UoB90FdmZ,WpB80FqC,WoB90FzB,GACJvS,GAAY/P,KAAKyM,OAAOgV,aAAxB1R,OACN,OAAwB,kBAAbA,GACFA,IAEAA,GpBm1FVqR,EAAajY,UoB/0FdyY,cpB+0FwC,SoB/0F1B/c,GAEZ,GAAI0d,IAAapB,EAAA,WAAUqB,GAAGrB,EAAA,WAAUsB,OAAOziB,KAAKshB,eAAgBH,EAAA,WAAUsB,OAAO5d,GAGhF0d,IAELviB,KAAK0iB,KAAK7d,IpBo1FXuc,EAAajY,UoBj1FduZ,KpBi1F+B,SoBj1F1B7d,GAAQ,GAAA+E,GAAA5J,IAGX,OAAIA,MAAKyM,OAAOgV,aAAakB,iBAC3B3iB,MAAKyM,OAAOgV,aAAakB,aAAa3iB,KAAM6E,IAI1C7E,KAAKyM,OAAOmW,IAAIC,gBAAkB7iB,KAAKyM,OAAOmW,IAAIC,kBAG/C,EAAAxa,EAAA,aACL0B,OAAQ/J,KAAKiiB,YACbjY,IAAKhK,KAAKgiB,SACVre,MACEmf,gBAAgB,EAAApQ,EAAA,YAAe7N,GAC/Bke,aAAc/iB,KAAK2T,kBAAkB9O,IAEvCsd,gBAAiBniB,KAAKkiB,qBACtBG,YAAariB,KAAKoiB,iBAClBrS,QAAS/P,KAAKsiB,eAEfrY,KAAK,SAAAC,GAGJ,GADIN,EAAK6C,OAAOgV,aAAauB,iBAAmBpZ,EAAK6C,OAAOgV,aAAauB,gBAAgB9Y,GACrFN,EAAK6C,OAAOmW,IAAII,gBAAmB,MAAOpZ,GAAK6C,OAAOmW,IAAII,gBAAgB9Y,KAdzE,SAiBA,SAAAhB,GAEL,GAAIU,EAAK6C,OAAOmW,IAAIK,gBAAmB,MAAOrZ,GAAK6C,OAAOmW,IAAIK,gBAAgB/Z,OpB21F1EkY,IAGTzhB,GAAQ,WoBv1FMyhB,EpBw1FdxhB,EAAOD,QAAUA,EAAQ","file":"Dante2.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dante2\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Dante2\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_9__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dante2\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Dante2\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_9__) {\nreturn webpackJsonpDante2([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _dante = __webpack_require__(227);\n\t\n\tvar _dante2 = _interopRequireDefault(_dante);\n\t\n\tvar _dante_editor = __webpack_require__(137);\n\t\n\tvar _dante_editor2 = _interopRequireDefault(_dante_editor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tmodule.exports = {\n\t  Dante: _dante2['default'],\n\t  DanteEditor: _dante_editor2['default']\n\t};\n\n/***/ },\n\n/***/ 5:\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n\n/***/ 9:\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ },\n\n/***/ 24:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.addNewBlockAt = exports.updateTextOfBlock = exports.updateDataOfBlock = exports.resetBlockWithType = exports.addNewBlock = exports.getCurrentBlock = exports.getNode = exports.getDefaultBlockData = undefined;\n\t\n\tvar _immutable = __webpack_require__(46);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\t/*\n\tUsed from [react-rte](https://github.com/brijeshb42/medium-draft)\n\tby [brijeshb42](https://github.com/brijeshb42/medium-draft)\n\t*/\n\t\n\t/*\n\tReturns default block-level metadata for various block type. Empty object otherwise.\n\t*/\n\tvar getDefaultBlockData = exports.getDefaultBlockData = function getDefaultBlockData(blockType) {\n\t  var initialData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t  switch (blockType) {\n\t    //case Block.TODO: return { checked: false };\n\t    default:\n\t      return initialData;\n\t  }\n\t};\n\t\n\tvar getNode = exports.getNode = function getNode() {\n\t  var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\t\n\t  var t = null;\n\t  if (root.getSelection) {\n\t    t = root.getSelection();\n\t  } else if (root.document.getSelection) {\n\t    t = root.document.getSelection();\n\t  } else if (root.document.selection) {\n\t    t = root.document.selection.createRange().text;\n\t  }\n\t  return t;\n\t};\n\t\n\t/*\n\tGet currentBlock in the editorState.\n\t*/\n\tvar getCurrentBlock = exports.getCurrentBlock = function getCurrentBlock(editorState) {\n\t  var selectionState = editorState.getSelection();\n\t  var contentState = editorState.getCurrentContent();\n\t  var block = contentState.getBlockForKey(selectionState.getStartKey());\n\t  return block;\n\t};\n\t\n\t/*\n\tAdds a new block (currently replaces an empty block) at the current cursor position\n\tof the given `newType`.\n\t*/\n\tvar addNewBlock = exports.addNewBlock = function addNewBlock(editorState) {\n\t  var newType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"unstyled\";\n\t  var initialData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t  var selectionState = editorState.getSelection();\n\t  if (!selectionState.isCollapsed()) {\n\t    return editorState;\n\t  }\n\t  var contentState = editorState.getCurrentContent();\n\t  var key = selectionState.getStartKey();\n\t  var blockMap = contentState.getBlockMap();\n\t  var currentBlock = getCurrentBlock(editorState);\n\t  if (!currentBlock) {\n\t    return editorState;\n\t  }\n\t  if (currentBlock.getLength() === 0) {\n\t    if (currentBlock.getType() === newType) {\n\t      return editorState;\n\t    }\n\t    var newBlock = currentBlock.merge({\n\t      type: newType,\n\t      data: getDefaultBlockData(newType, initialData)\n\t    });\n\t    var newContentState = contentState.merge({\n\t      blockMap: blockMap.set(key, newBlock),\n\t      selectionAfter: selectionState\n\t    });\n\t    return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t  }\n\t  return editorState;\n\t};\n\t\n\t/*\n\tChanges the block type of the current block.\n\t*/\n\tvar resetBlockWithType = exports.resetBlockWithType = function resetBlockWithType(editorState) {\n\t  var newType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"unstyled\";\n\t  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t  var contentState = editorState.getCurrentContent();\n\t  var selectionState = editorState.getSelection();\n\t  var key = selectionState.getStartKey();\n\t  var blockMap = contentState.getBlockMap();\n\t  var block = blockMap.get(key);\n\t\n\t  var newText = '';\n\t  console.log(\"DATA FOR PLACEHOLDER!\", data);\n\t  var text = block.getText();\n\t  if (block.getLength() >= 2) {\n\t    newText = text.substr(1);\n\t  }\n\t\n\t  /*if(data.text){\n\t    newText = data.text\n\t  }*/\n\t\n\t  //let newText = data.text\n\t\n\t  var newBlock = block.merge({\n\t    text: newText,\n\t    type: newType,\n\t    data: getDefaultBlockData(newType, data)\n\t  });\n\t  var newContentState = contentState.merge({\n\t    blockMap: blockMap.set(key, newBlock),\n\t    selectionAfter: selectionState.merge({\n\t      anchorOffset: 0,\n\t      focusOffset: 0\n\t    })\n\t  });\n\t  return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t};\n\t\n\t/*\n\tUpdate block-level metadata of the given `block` to the `newData`/\n\t*/\n\tvar updateDataOfBlock = exports.updateDataOfBlock = function updateDataOfBlock(editorState, block, newData) {\n\t  var contentState = editorState.getCurrentContent();\n\t  var newBlock = block.merge({\n\t    data: newData\n\t  });\n\t  var newContentState = contentState.merge({\n\t    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock)\n\t  });\n\t  return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t  // return editorState;\n\t};\n\t\n\tvar updateTextOfBlock = exports.updateTextOfBlock = function updateTextOfBlock(editorState, block, text) {\n\t  var contentState = editorState.getCurrentContent();\n\t  var newBlock = block.merge({\n\t    text: text\n\t  });\n\t  var newContentState = contentState.merge({\n\t    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock)\n\t  });\n\t\n\t  return _draftJs.EditorState.push(editorState, newContentState, 'change-block-type');\n\t  // return editorState;\n\t};\n\t\n\t// const BEFORE = -1;\n\t// const AFTER = 1;\n\t\n\t/*\n\tUsed from [react-rte](https://github.com/sstur/react-rte/blob/master/src/lib/insertBlockAfter.js)\n\tby [sstur](https://github.com/sstur)\n\t*/\n\tvar addNewBlockAt = exports.addNewBlockAt = function addNewBlockAt(editorState, pivotBlockKey) {\n\t  var newBlockType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"unstyled\";\n\t  var initialData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\t\n\t  var content = editorState.getCurrentContent();\n\t  var blockMap = content.getBlockMap();\n\t  var block = blockMap.get(pivotBlockKey);\n\t  var blocksBefore = blockMap.toSeq().takeUntil(function (v) {\n\t    return v === block;\n\t  });\n\t  var blocksAfter = blockMap.toSeq().skipUntil(function (v) {\n\t    return v === block;\n\t  }).rest();\n\t  var newBlockKey = (0, _draftJs.genKey)();\n\t\n\t  var newBlock = new _draftJs.ContentBlock({\n\t    key: newBlockKey,\n\t    type: newBlockType,\n\t    text: '',\n\t    characterList: block.getCharacterList().slice(0, 0),\n\t    depth: 0,\n\t    data: (0, _immutable.Map)(getDefaultBlockData(newBlockType, initialData))\n\t  });\n\t\n\t  var newBlockMap = blocksBefore.concat([[pivotBlockKey, block], [newBlockKey, newBlock]], blocksAfter).toOrderedMap();\n\t\n\t  var selection = editorState.getSelection();\n\t\n\t  var newContent = content.merge({\n\t    blockMap: newBlockMap,\n\t    selectionBefore: selection,\n\t    selectionAfter: selection.merge({\n\t      anchorKey: newBlockKey,\n\t      anchorOffset: 0,\n\t      focusKey: newBlockKey,\n\t      focusOffset: 0,\n\t      isBackward: false\n\t    })\n\t  });\n\t  return _draftJs.EditorState.push(editorState, newContent, 'split-block');\n\t};\n\n/***/ },\n\n/***/ 78:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t/*\n\tReturns the `boundingClientRect` of the passed selection.\n\t*/\n\tvar getSelectionRect = exports.getSelectionRect = function getSelectionRect(selected) {\n\t  var _rect = selected.getRangeAt(0).getBoundingClientRect();\n\t  // selected.getRangeAt(0).getBoundingClientRect()\n\t  var rect = _rect && _rect.top ? _rect : selected.getRangeAt(0).getClientRects()[0];\n\t  if (!rect) {\n\t    if (selected.anchorNode && selected.anchorNode.getBoundingClientRect) {\n\t      rect = selected.anchorNode.getBoundingClientRect();\n\t      rect.isEmptyline = true;\n\t    } else {\n\t      return null;\n\t    }\n\t  }\n\t  return rect;\n\t};\n\t\n\t/*\n\tReturns the native selection node.\n\t*/\n\tvar getSelection = exports.getSelection = function getSelection(root) {\n\t  var t = null;\n\t  if (root.getSelection) {\n\t    t = root.getSelection();\n\t  } else if (root.document.getSelection) {\n\t    t = root.document.getSelection();\n\t  } else if (root.document.selection) {\n\t    t = root.document.selection.createRange().text;\n\t  }\n\t  return t;\n\t};\n\t\n\t/*\n\tRecursively finds the DOM Element of the block where the cursor is currently present.\n\tIf not found, returns null.\n\t*/\n\tvar getSelectedBlockNode = exports.getSelectedBlockNode = function getSelectedBlockNode(root) {\n\t  var selection = root.getSelection();\n\t  if (selection.rangeCount === 0) {\n\t    return null;\n\t  }\n\t  var node = selection.getRangeAt(0).startContainer;\n\t  // console.log(node);\n\t  do {\n\t    if (node.getAttribute && node.getAttribute('data-block') === 'true') {\n\t      return node;\n\t    }\n\t    node = node.parentNode;\n\t    // console.log(node);\n\t  } while (node !== null);\n\t  return null;\n\t};\n\n/***/ },\n\n/***/ 137:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\tmodule.exports = global[\"DanteEditor\"] = __webpack_require__(242);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 227:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\tmodule.exports = global[\"Dante\"] = __webpack_require__(241);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 228:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _axios = __webpack_require__(61);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar EmbedBlock = function (_React$Component) {\n\t  (0, _inherits3['default'])(EmbedBlock, _React$Component);\n\t\n\t  function EmbedBlock(props) {\n\t    (0, _classCallCheck3['default'])(this, EmbedBlock);\n\t\n\t    //api_key = \"86c28a410a104c8bb58848733c82f840\"\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.updateData = _this.updateData.bind(_this);\n\t    _this.dataForUpdate = _this.dataForUpdate.bind(_this);\n\t    _this.componentDidMount = _this.componentDidMount.bind(_this);\n\t    _this.state = {\n\t      embed_data: _this.defaultData(),\n\t      error: \"\"\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  EmbedBlock.prototype.defaultData = function defaultData() {\n\t    var existing_data = this.props.block.getData().toJS();\n\t    return existing_data.embed_data || {};\n\t  };\n\t\n\t  // will update block state\n\t\n\t\n\t  EmbedBlock.prototype.updateData = function updateData() {\n\t    var _props = this.props,\n\t        block = _props.block,\n\t        blockProps = _props.blockProps;\n\t    var _props$blockProps = this.props.blockProps,\n\t        getEditorState = _props$blockProps.getEditorState,\n\t        setEditorState = _props$blockProps.setEditorState;\n\t\n\t    var data = block.getData();\n\t    var newData = data.merge(this.state);\n\t    return setEditorState((0, _index.updateDataOfBlock)(getEditorState(), block, newData));\n\t  };\n\t\n\t  EmbedBlock.prototype.dataForUpdate = function dataForUpdate() {\n\t\n\t    return this.props.blockProps.data.toJS();\n\t  };\n\t\n\t  EmbedBlock.prototype.componentDidMount = function componentDidMount() {\n\t    var _this2 = this;\n\t\n\t    if (!this.props.blockProps.data) {\n\t      return;\n\t    }\n\t\n\t    // ensure data isnt already loaded\n\t    // unless @dataForUpdate().endpoint or @dataForUpdate().provisory_text\n\t\n\t    if (!this.dataForUpdate().endpoint && !this.dataForUpdate().provisory_text) {\n\t      //debugger\n\t      return;\n\t    }\n\t\n\t    return (0, _axios2['default'])({\n\t      method: 'get',\n\t      url: '' + this.dataForUpdate().endpoint + this.dataForUpdate().provisory_text + '&scheme=https'\n\t    }).then(function (result) {\n\t\n\t      return _this2.setState({ embed_data: result.data } //JSON.parse(data.responseText)\n\t      , _this2.updateData);\n\t    })['catch'](function (error) {\n\t\n\t      _this2.setState({\n\t        error: error.response.data.error_message });\n\t      return console.log(\"TODO: error\");\n\t    });\n\t  };\n\t\n\t  EmbedBlock.prototype.classForImage = function classForImage() {\n\t    if (this.state.embed_data.images) {\n\t      return \"\";\n\t    } else {\n\t      return \"mixtapeImage--empty u-ignoreBlock\";\n\t    }\n\t  };\n\t  //if @state.embed_data.thumbnail_url then \"\" else \"mixtapeImage--empty u-ignoreBlock\"\n\t\n\t  EmbedBlock.prototype.picture = function picture() {\n\t    if (this.state.embed_data.images && this.state.embed_data.images.length > 0) {\n\t      return this.state.embed_data.images[0].url;\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  EmbedBlock.prototype.render = function render() {\n\t    //block = @.props\n\t    //foo = @.props.blockProps\n\t    //data = Entity.get(block.block.getEntityAt(0)).getData()\n\t    console.log(\"ERROR\", this.state.error);\n\t    return _react2['default'].createElement(\n\t      'span',\n\t      null,\n\t      this.picture() ? _react2['default'].createElement('a', {\n\t        target: '_blank',\n\t        className: 'js-mixtapeImage mixtapeImage ' + this.classForImage(),\n\t        href: this.state.embed_data.url,\n\t        style: { backgroundImage: 'url(\\'' + this.picture() + '\\')' }\n\t      }) : undefined,\n\t      this.state.error ? _react2['default'].createElement(\n\t        'h2',\n\t        null,\n\t        this.state.error\n\t      ) : undefined,\n\t      _react2['default'].createElement(\n\t        'a',\n\t        {\n\t          className: 'markup--anchor markup--mixtapeEmbed-anchor',\n\t          target: '_blank',\n\t          href: this.state.embed_data.url\n\t        },\n\t        _react2['default'].createElement(\n\t          'strong',\n\t          { className: 'markup--strong markup--mixtapeEmbed-strong' },\n\t          this.state.embed_data.title\n\t        ),\n\t        _react2['default'].createElement(\n\t          'em',\n\t          { className: 'markup--em markup--mixtapeEmbed-em' },\n\t          this.state.embed_data.description\n\t        )\n\t      ),\n\t      this.state.embed_data.provider_url\n\t    );\n\t  };\n\t\n\t  return EmbedBlock;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = EmbedBlock;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 229:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _assign = __webpack_require__(80);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _axios = __webpack_require__(61);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar ImageBlock = function (_React$Component) {\n\t  (0, _inherits3['default'])(ImageBlock, _React$Component);\n\t\n\t  function ImageBlock(props) {\n\t    (0, _classCallCheck3['default'])(this, ImageBlock);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.blockPropsSrc = _this.blockPropsSrc.bind(_this);\n\t    _this.defaultUrl = _this.defaultUrl.bind(_this);\n\t    _this.defaultAspectRatio = _this.defaultAspectRatio.bind(_this);\n\t    _this.updateData = _this.updateData.bind(_this);\n\t    _this.replaceImg = _this.replaceImg.bind(_this);\n\t    _this.startLoader = _this.startLoader.bind(_this);\n\t    _this.stopLoader = _this.stopLoader.bind(_this);\n\t    _this.handleUpload = _this.handleUpload.bind(_this);\n\t    _this.aspectRatio = _this.aspectRatio.bind(_this);\n\t    _this.updateDataSelection = _this.updateDataSelection.bind(_this);\n\t    _this.handleGrafFigureSelectImg = _this.handleGrafFigureSelectImg.bind(_this);\n\t    _this.getUploadUrl = _this.getUploadUrl.bind(_this);\n\t    _this.uploadFile = _this.uploadFile.bind(_this);\n\t    _this.uploadCompleted = _this.uploadCompleted.bind(_this);\n\t    _this.updateProgressBar = _this.updateProgressBar.bind(_this);\n\t    _this.placeHolderEnabled = _this.placeHolderEnabled.bind(_this);\n\t    _this.placeholderText = _this.placeholderText.bind(_this);\n\t    _this.handleFocus = _this.handleFocus.bind(_this);\n\t    _this.render = _this.render.bind(_this);\n\t    var existing_data = _this.props.block.getData().toJS();\n\t\n\t    _this.config = _this.props.blockProps.config;\n\t    _this.file = _this.props.blockProps.data.get('file');\n\t    _this.state = {\n\t      loading: false,\n\t      selected: false,\n\t      loading_progress: 0,\n\t      enabled: false,\n\t      caption: _this.defaultPlaceholder(),\n\t      direction: existing_data.direction || \"center\",\n\t      width: 0,\n\t      height: 0,\n\t      file: null,\n\t      url: _this.blockPropsSrc() || _this.defaultUrl(existing_data),\n\t      aspect_ratio: _this.defaultAspectRatio(existing_data)\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  ImageBlock.prototype.blockPropsSrc = function blockPropsSrc() {\n\t    // console.log @.props.blockProps.data.src\n\t    return this.props.blockProps.data.src;\n\t  };\n\t  /*\n\t  debugger\n\t  block = @.props\n\t  entity = block.block.getEntityAt(0)\n\t  if entity\n\t    data = Entity.get(entity).getData().src\n\t  else\n\t    null\n\t  */\n\t\n\t  ImageBlock.prototype.defaultUrl = function defaultUrl(data) {\n\t    if (data.url) {\n\t      return data.url;\n\t    }\n\t\n\t    if (data.url) {\n\t      if (data.file) {\n\t        return URL.createObjectURL(data.file);\n\t      } else {\n\t        return data.url;\n\t      }\n\t    } else {\n\t      return this.props.blockProps.data.src;\n\t    }\n\t  };\n\t\n\t  ImageBlock.prototype.defaultPlaceholder = function defaultPlaceholder() {\n\t    return this.props.blockProps.config.image_caption_placeholder;\n\t  };\n\t\n\t  ImageBlock.prototype.defaultAspectRatio = function defaultAspectRatio(data) {\n\t    if (data.aspect_ratio) {\n\t      return {\n\t        width: data.aspect_ratio['width'],\n\t        height: data.aspect_ratio['height'],\n\t        ratio: data.aspect_ratio['ratio']\n\t      };\n\t    } else {\n\t      return {\n\t        width: 0,\n\t        height: 0,\n\t        ratio: 100\n\t      };\n\t    }\n\t  };\n\t\n\t  ImageBlock.prototype.getAspectRatio = function getAspectRatio(w, h) {\n\t    var maxWidth = 1000;\n\t    var maxHeight = 1000;\n\t    var ratio = 0;\n\t    var width = w; // Current image width\n\t    var height = h; // Current image height\n\t\n\t    // Check if the current width is larger than the max\n\t    if (width > maxWidth) {\n\t      ratio = maxWidth / width; // get ratio for scaling image\n\t      height = height * ratio; // Reset height to match scaled image\n\t      width = width * ratio; // Reset width to match scaled image\n\t\n\t      // Check if current height is larger than max\n\t    } else if (height > maxHeight) {\n\t      ratio = maxHeight / height; // get ratio for scaling image\n\t      width = width * ratio; // Reset width to match scaled image\n\t      height = height * ratio; // Reset height to match scaled image\n\t    }\n\t\n\t    var fill_ratio = height / width * 100;\n\t    var result = { width: width, height: height, ratio: fill_ratio };\n\t    // console.log result\n\t    return result;\n\t  };\n\t\n\t  // will update block state\n\t\n\t\n\t  ImageBlock.prototype.updateData = function updateData() {\n\t    var blockProps = this.props.blockProps;\n\t    var block = this.props.block;\n\t    var getEditorState = this.props.blockProps.getEditorState;\n\t    var setEditorState = this.props.blockProps.setEditorState;\n\t\n\t    var data = block.getData();\n\t    var newData = data.merge(this.state).merge({ forceUpload: false });\n\t    return setEditorState((0, _index.updateDataOfBlock)(getEditorState(), block, newData));\n\t  };\n\t\n\t  ImageBlock.prototype.replaceImg = function replaceImg() {\n\t    var _this2 = this;\n\t\n\t    this.img = new Image();\n\t    this.img.src = this.refs.image_tag.src;\n\t    this.setState({\n\t      url: this.img.src });\n\t    var self = this;\n\t    // exit only when not blob and not forceUload\n\t    if (!this.img.src.includes(\"blob:\") && !this.props.block.data.get(\"forceUpload\")) {\n\t      return;\n\t    }\n\t    return this.img.onload = function () {\n\t      _this2.setState({\n\t        width: _this2.img.width,\n\t        height: _this2.img.height,\n\t        aspect_ratio: self.getAspectRatio(_this2.img.width, _this2.img.height)\n\t      });\n\t\n\t      return _this2.handleUpload();\n\t    };\n\t  };\n\t\n\t  ImageBlock.prototype.startLoader = function startLoader() {\n\t    return this.setState({\n\t      loading: true });\n\t  };\n\t\n\t  ImageBlock.prototype.stopLoader = function stopLoader() {\n\t    return this.setState({\n\t      loading: false });\n\t  };\n\t\n\t  ImageBlock.prototype.handleUpload = function handleUpload() {\n\t    this.startLoader();\n\t    this.props.blockProps.addLock();\n\t    this.updateData();\n\t    return this.uploadFile();\n\t  };\n\t\n\t  ImageBlock.prototype.componentDidMount = function componentDidMount() {\n\t    return this.replaceImg();\n\t  };\n\t\n\t  ImageBlock.prototype.aspectRatio = function aspectRatio() {\n\t    return {\n\t      maxWidth: '' + this.state.aspect_ratio.width,\n\t      maxHeight: '' + this.state.aspect_ratio.height,\n\t      ratio: '' + this.state.aspect_ratio.height\n\t    };\n\t  };\n\t\n\t  ImageBlock.prototype.updateDataSelection = function updateDataSelection() {\n\t    var _props$blockProps = this.props.blockProps,\n\t        getEditorState = _props$blockProps.getEditorState,\n\t        setEditorState = _props$blockProps.setEditorState;\n\t\n\t    var newselection = getEditorState().getSelection().merge({\n\t      anchorKey: this.props.block.getKey(),\n\t      focusKey: this.props.block.getKey()\n\t    });\n\t\n\t    return setEditorState(_draftJs.EditorState.forceSelection(getEditorState(), newselection));\n\t  };\n\t\n\t  ImageBlock.prototype.handleGrafFigureSelectImg = function handleGrafFigureSelectImg(e) {\n\t    e.preventDefault();\n\t    return this.setState({ selected: true }, this.updateDataSelection);\n\t  };\n\t\n\t  //main_editor.onChange(main_editor.state.editorState)\n\t\n\t  ImageBlock.prototype.coords = function coords() {\n\t    return {\n\t      maxWidth: this.state.aspect_ratio.width + 'px',\n\t      maxHeight: this.state.aspect_ratio.height + 'px'\n\t    };\n\t  };\n\t\n\t  ImageBlock.prototype.getBase64Image = function getBase64Image(img) {\n\t    var canvas = document.createElement(\"canvas\");\n\t    canvas.width = img.width;\n\t    canvas.height = img.height;\n\t    var ctx = canvas.getContext(\"2d\");\n\t    ctx.drawImage(img, 0, 0);\n\t    var dataURL = canvas.toDataURL(\"image/png\");\n\t\n\t    return dataURL;\n\t  };\n\t\n\t  ImageBlock.prototype.formatData = function formatData() {\n\t    var formData = new FormData();\n\t    if (this.file) {\n\t      var formName = this.config.upload_formName || 'file';\n\t\n\t      formData.append(formName, this.file);\n\t      return formData;\n\t    } else {\n\t      formData.append('url', this.props.blockProps.data.get(\"url\"));\n\t      return formData;\n\t    }\n\t  };\n\t\n\t  ImageBlock.prototype.getUploadUrl = function getUploadUrl() {\n\t    var url = this.config.upload_url;\n\t    if (typeof url === \"function\") {\n\t      return url();\n\t    } else {\n\t      return url;\n\t    }\n\t  };\n\t\n\t  ImageBlock.prototype.getUploadHeaders = function getUploadHeaders() {\n\t    return this.config.upload_headers || {};\n\t  };\n\t\n\t  ImageBlock.prototype.uploadFile = function uploadFile() {\n\t    var _this3 = this;\n\t\n\t    var handleUp = void 0;\n\t    (0, _axios2['default'])({\n\t      method: 'post',\n\t      url: this.getUploadUrl(),\n\t      headers: this.getUploadHeaders(),\n\t      data: this.formatData(),\n\t      onUploadProgress: function onUploadProgress(e) {\n\t        return _this3.updateProgressBar(e);\n\t      }\n\t    }).then(function (result) {\n\t      _this3.uploadCompleted(result.data);\n\t      _this3.props.blockProps.removeLock();\n\t      _this3.stopLoader();\n\t      _this3.file = null;\n\t\n\t      if (_this3.config.upload_callback) {\n\t        return _this3.config.upload_callback(result, _this3);\n\t      }\n\t    })['catch'](function (error) {\n\t      _this3.props.blockProps.removeLock();\n\t      _this3.stopLoader();\n\t\n\t      console.log('ERROR: got error uploading file ' + error);\n\t      if (_this3.config.upload_error_callback) {\n\t        return _this3.config.upload_error_callback(error, _this3);\n\t      }\n\t    });\n\t\n\t    return handleUp = function handleUp(json_response) {\n\t      return _this3.uploadCompleted(json_response, n);\n\t    };\n\t  };\n\t\n\t  ImageBlock.prototype.uploadCompleted = function uploadCompleted(json) {\n\t    return this.setState({ url: json.url }, this.updateData);\n\t  };\n\t\n\t  ImageBlock.prototype.updateProgressBar = function updateProgressBar(e) {\n\t    var complete = this.state.loading_progress;\n\t    if (e.lengthComputable) {\n\t      complete = e.loaded / e.total * 100;\n\t      complete = complete != null ? complete : { complete: 0 };\n\t      this.setState({\n\t        loading_progress: complete });\n\t      return console.log('complete: ' + complete);\n\t    }\n\t  };\n\t\n\t  ImageBlock.prototype.placeHolderEnabled = function placeHolderEnabled() {\n\t    return this.state.enabled || this.props.block.getText();\n\t  };\n\t\n\t  ImageBlock.prototype.placeholderText = function placeholderText() {\n\t    if (this.placeHolderEnabled()) {\n\t      return \"\";\n\t    }\n\t    return \"Write caption for image (optional)\";\n\t  };\n\t\n\t  ImageBlock.prototype.handleFocus = function handleFocus(e) {\n\t    var _this4 = this;\n\t\n\t    // console.log \"focus on placeholder\"\n\t    return setTimeout(function () {\n\t      return _this4.setState({\n\t        enabled: true });\n\t    }, 0);\n\t  };\n\t\n\t  ImageBlock.prototype.render = function render() {\n\t\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      { ref: 'image_tag2', suppressContentEditableWarning: true },\n\t      _react2['default'].createElement(\n\t        'div',\n\t        { className: 'aspectRatioPlaceholder is-locked',\n\t          style: this.coords(),\n\t          onClick: this.handleGrafFigureSelectImg },\n\t        _react2['default'].createElement('div', { style: { paddingBottom: this.state.aspect_ratio.ratio + '%' },\n\t          className: 'aspect-ratio-fill' }),\n\t        _react2['default'].createElement('img', { src: this.state.url,\n\t          ref: 'image_tag',\n\t          height: this.state.aspect_ratio.height,\n\t          width: this.state.aspect_ratio.width,\n\t          className: 'graf-image' }),\n\t        _react2['default'].createElement(Loader, { toggle: this.state.loading,\n\t          progress: this.state.loading_progress })\n\t      ),\n\t      _react2['default'].createElement(\n\t        'figcaption',\n\t        { className: 'imageCaption', onMouseDown: this.handleFocus },\n\t        !this.state.enabled ? _react2['default'].createElement(\n\t          'span',\n\t          { className: 'danteDefaultPlaceholder' },\n\t          this.placeholderText()\n\t        ) : undefined,\n\t        _react2['default'].createElement(_draftJs.EditorBlock, (0, _assign2['default'])({}, this.props, {\n\t          \"editable\": true, \"className\": \"imageCaption\" }))\n\t      )\n\t    );\n\t  };\n\t\n\t  return ImageBlock;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = ImageBlock;\n\t\n\tvar Loader = function (_React$Component2) {\n\t  (0, _inherits3['default'])(Loader, _React$Component2);\n\t\n\t  function Loader() {\n\t    (0, _classCallCheck3['default'])(this, Loader);\n\t    return (0, _possibleConstructorReturn3['default'])(this, _React$Component2.apply(this, arguments));\n\t  }\n\t\n\t  Loader.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      null,\n\t      this.props.toggle ? _react2['default'].createElement(\n\t        'div',\n\t        { className: 'image-upoader-loader' },\n\t        _react2['default'].createElement(\n\t          'p',\n\t          null,\n\t          this.props.progress === 100 ? \"processing image...\" : _react2['default'].createElement(\n\t            'span',\n\t            null,\n\t            _react2['default'].createElement(\n\t              'span',\n\t              null,\n\t              'loading'\n\t            ),\n\t            ' ',\n\t            Math.round(this.props.progress)\n\t          )\n\t        )\n\t      ) : undefined\n\t    );\n\t  };\n\t\n\t  return Loader;\n\t}(_react2['default'].Component);\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 230:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _assign = __webpack_require__(80);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar PlaceholderBlock = function (_React$Component) {\n\t  (0, _inherits3['default'])(PlaceholderBlock, _React$Component);\n\t\n\t  function PlaceholderBlock(props) {\n\t    (0, _classCallCheck3['default'])(this, PlaceholderBlock);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.placeholderText = _this.placeholderText.bind(_this);\n\t    _this.placeholderFromProps = _this.placeholderFromProps.bind(_this);\n\t    _this.defaultText = _this.defaultText.bind(_this);\n\t    _this.handleFocus = _this.handleFocus.bind(_this);\n\t    _this.classForDefault = _this.classForDefault.bind(_this);\n\t    _this.state = {\n\t      enabled: false,\n\t      data: _this.props.blockProps.data.toJS()\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  PlaceholderBlock.prototype.placeholderText = function placeholderText() {\n\t    if (this.state.enabled) {\n\t      return \"\";\n\t    }\n\t    return this.props.blockProps.data.toJS().placeholder || this.placeholderFromProps() || this.defaultText();\n\t  };\n\t  //if @.props.blockProps.data then @.props.blockProps.data.placeholder else @defaultText()\n\t\n\t\n\t  PlaceholderBlock.prototype.placeholderFromProps = function placeholderFromProps() {\n\t    return this.props.block.toJS().placeholder;\n\t  };\n\t\n\t  PlaceholderBlock.prototype.defaultText = function defaultText() {\n\t    return \"write something \";\n\t  };\n\t\n\t  PlaceholderBlock.prototype.componentDidMount = function componentDidMount() {};\n\t\n\t  PlaceholderBlock.prototype.handleFocus = function handleFocus(e) {\n\t    var _this2 = this;\n\t\n\t    // console.log \"focus on placeholder\"\n\t    return setTimeout(function () {\n\t      return _this2.setState({\n\t        enabled: true });\n\t    }, 0);\n\t  };\n\t\n\t  PlaceholderBlock.prototype.classForDefault = function classForDefault() {\n\t    if (!this.state.enabled) {\n\t      return \"defaultValue defaultValue--root\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  PlaceholderBlock.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'span',\n\t      { className: this.classForDefault(), onMouseDown: this.handleFocus },\n\t      this.placeholderText(),\n\t      _react2['default'].createElement(_draftJs.EditorBlock, (0, _assign2['default'])({}, this.props, {\n\t        \"className\": \"imageCaption\",\n\t        \"placeholder\": \"escrive alalal\"\n\t      }))\n\t    );\n\t  };\n\t\n\t  return PlaceholderBlock;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = PlaceholderBlock;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 231:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _assign = __webpack_require__(80);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tvar _axios = __webpack_require__(61);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar VideoBlock = function (_React$Component) {\n\t  (0, _inherits3['default'])(VideoBlock, _React$Component);\n\t\n\t  function VideoBlock(props) {\n\t    (0, _classCallCheck3['default'])(this, VideoBlock);\n\t\n\t    //api_key = \"86c28a410a104c8bb58848733c82f840\"\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.updateData = _this.updateData.bind(_this);\n\t    _this.dataForUpdate = _this.dataForUpdate.bind(_this);\n\t    _this.state = { embed_data: _this.defaultData() };\n\t    return _this;\n\t  }\n\t\n\t  VideoBlock.prototype.defaultData = function defaultData() {\n\t    var existing_data = this.props.block.getData().toJS();\n\t    return existing_data.embed_data || {};\n\t  };\n\t\n\t  // will update block state\n\t\n\t\n\t  VideoBlock.prototype.updateData = function updateData() {\n\t    var _props = this.props,\n\t        block = _props.block,\n\t        blockProps = _props.blockProps;\n\t    var _props$blockProps = this.props.blockProps,\n\t        getEditorState = _props$blockProps.getEditorState,\n\t        setEditorState = _props$blockProps.setEditorState;\n\t\n\t    var data = block.getData();\n\t    var newData = data.merge(this.state);\n\t    return setEditorState((0, _index.updateDataOfBlock)(getEditorState(), block, newData));\n\t  };\n\t\n\t  VideoBlock.prototype.dataForUpdate = function dataForUpdate() {\n\t    return this.props.blockProps.data.toJS();\n\t  };\n\t\n\t  VideoBlock.prototype.componentDidMount = function componentDidMount() {\n\t    var _this2 = this;\n\t\n\t    if (!this.props.blockProps.data) {\n\t      return;\n\t    }\n\t    // ensure data isnt already loaded\n\t    if (!this.dataForUpdate().endpoint && !this.dataForUpdate().provisory_text) {\n\t      return;\n\t    }\n\t\n\t    return (0, _axios2['default'])({\n\t      method: 'get',\n\t      url: '' + this.dataForUpdate().endpoint + this.dataForUpdate().provisory_text + '&scheme=https'\n\t    }).then(function (result) {\n\t      return _this2.setState({ embed_data: result.data } //JSON.parse(data.responseText)\n\t      , _this2.updateData);\n\t    })['catch'](function (error) {\n\t      return console.log(\"TODO: error\");\n\t    });\n\t  };\n\t\n\t  VideoBlock.prototype.classForImage = function classForImage() {\n\t    if (this.state.embed_data.thumbnail_url) {\n\t      return \"\";\n\t    } else {\n\t      return \"mixtapeImage--empty u-ignoreBlock\";\n\t    }\n\t  };\n\t\n\t  VideoBlock.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'figure',\n\t      { className: 'graf--figure graf--iframe graf--first', tabIndex: '0' },\n\t      _react2['default'].createElement('div', { className: 'iframeContainer',\n\t        dangerouslySetInnerHTML: { __html: this.state.embed_data.html } }),\n\t      _react2['default'].createElement(\n\t        'figcaption',\n\t        { className: 'imageCaption' },\n\t        _react2['default'].createElement(_draftJs.EditorBlock, (0, _assign2['default'])({}, this.props, { \"className\": \"imageCaption\" }))\n\t      )\n\t    );\n\t  };\n\t\n\t  return VideoBlock;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = VideoBlock;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 232:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _stringify = __webpack_require__(79);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tvar Debug = function (_React$Component) {\n\t  (0, _inherits3[\"default\"])(Debug, _React$Component);\n\t\n\t  function Debug() {\n\t    (0, _classCallCheck3[\"default\"])(this, Debug);\n\t\n\t    var _this = (0, _possibleConstructorReturn3[\"default\"])(this, _React$Component.call(this));\n\t\n\t    _this.handleToggleReadOnly = _this.handleToggleReadOnly.bind(_this);\n\t    _this.handleTestEmitAndDecode = _this.handleTestEmitAndDecode.bind(_this);\n\t    _this.handleTestEmitTEXT = _this.handleTestEmitTEXT.bind(_this);\n\t    _this.testEmitAndDecode = _this.testEmitAndDecode.bind(_this);\n\t    _this.testEmitTEXT = _this.testEmitTEXT.bind(_this);\n\t    _this.logState = _this.logState.bind(_this);\n\t    _this.toggleDisplay = _this.toggleDisplay.bind(_this);\n\t    _this.open = _this.open.bind(_this);\n\t    _this.render = _this.render.bind(_this);\n\t    _this.state = {\n\t      output: \"\",\n\t      display: \"none\"\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  Debug.prototype.handleToggleReadOnly = function handleToggleReadOnly(e) {\n\t    e.preventDefault();\n\t    this.props.editor.toggleEditable();\n\t    return false;\n\t  };\n\t\n\t  Debug.prototype.handleTestEmitAndDecode = function handleTestEmitAndDecode(e) {\n\t    e.preventDefault();\n\t    return this.testEmitAndDecode();\n\t  };\n\t\n\t  Debug.prototype.handleTestEmitTEXT = function handleTestEmitTEXT(e) {\n\t    e.preventDefault();\n\t    return this.testEmitTEXT();\n\t  };\n\t\n\t  Debug.prototype.testEmitAndDecode = function testEmitAndDecode(e) {\n\t    var raw_as_json = this.props.editor.emitSerializedOutput();\n\t    this.props.editor.setState({\n\t      editorState: this.props.editor.decodeEditorContent(raw_as_json) }, this.logState((0, _stringify2[\"default\"])(raw_as_json)));\n\t    return false;\n\t  };\n\t\n\t  Debug.prototype.testEmitTEXT = function testEmitTEXT() {\n\t    var text = this.props.editor.getTextFromEditor();\n\t    return this.logState(text);\n\t  };\n\t\n\t  Debug.prototype.logState = function logState(raw) {\n\t    return this.setState({ output: raw }, this.open);\n\t  };\n\t\n\t  Debug.prototype.toggleDisplay = function toggleDisplay(e) {\n\t    e.preventDefault();\n\t    var d = this.state.display === \"block\" ? \"none\" : this.state.display;\n\t    return this.setState({\n\t      display: d });\n\t  };\n\t\n\t  Debug.prototype.open = function open() {\n\t    return this.setState({\n\t      display: \"block\" });\n\t  };\n\t\n\t  Debug.prototype.render = function render() {\n\t    return _react2[\"default\"].createElement(\n\t      \"div\",\n\t      null,\n\t      _react2[\"default\"].createElement(\n\t        \"div\",\n\t        { className: \"debugControls\" },\n\t        _react2[\"default\"].createElement(\n\t          \"ul\",\n\t          null,\n\t          _react2[\"default\"].createElement(\n\t            \"li\",\n\t            null,\n\t            \" LOCKS: \",\n\t            this.props.editor.state.locks,\n\t            \" \"\n\t          ),\n\t          _react2[\"default\"].createElement(\n\t            \"li\",\n\t            null,\n\t            _react2[\"default\"].createElement(\n\t              \"a\",\n\t              { href: \"#\", onClick: this.handleToggleReadOnly },\n\t              \"EDITABLE: \",\n\t              this.props.editor.state.read_only ? 'NO' : 'YES'\n\t            )\n\t          ),\n\t          _react2[\"default\"].createElement(\n\t            \"li\",\n\t            null,\n\t            _react2[\"default\"].createElement(\n\t              \"a\",\n\t              { href: \"#\", onClick: this.handleTestEmitTEXT },\n\t              \"EDITOR TEXT\"\n\t            )\n\t          ),\n\t          _react2[\"default\"].createElement(\n\t            \"li\",\n\t            null,\n\t            _react2[\"default\"].createElement(\n\t              \"a\",\n\t              { href: \"#\", onClick: this.handleTestEmitAndDecode },\n\t              \"EDITOR STATE\"\n\t            )\n\t          )\n\t        )\n\t      ),\n\t      _react2[\"default\"].createElement(\n\t        \"div\",\n\t        { className: \"debugZone\", style: { display: this.state.display } },\n\t        _react2[\"default\"].createElement(\"a\", { href: \"#\", className: \"dante-debug-close close\", onClick: this.toggleDisplay }),\n\t        _react2[\"default\"].createElement(\n\t          \"div\",\n\t          { className: \"debugOutput\" },\n\t          _react2[\"default\"].createElement(\n\t            \"h2\",\n\t            null,\n\t            \"EDITOR OUTPUT\"\n\t          ),\n\t          this.state.output.length > 0 ? _react2[\"default\"].createElement(\n\t            \"pre\",\n\t            null,\n\t            this.state.output\n\t          ) : undefined\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  return Debug;\n\t}(_react2[\"default\"].Component);\n\t\n\texports[\"default\"] = Debug;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ 233:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar Link = function (_React$Component) {\n\t  (0, _inherits3['default'])(Link, _React$Component);\n\t\n\t  function Link(props) {\n\t    (0, _classCallCheck3['default'])(this, Link);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this._validateLink = _this._validateLink.bind(_this);\n\t    _this._checkProtocol = _this._checkProtocol.bind(_this);\n\t    _this._showPopLinkOver = _this._showPopLinkOver.bind(_this);\n\t    _this._hidePopLinkOver = _this._hidePopLinkOver.bind(_this);\n\t    _this.isHover = false;\n\t    return _this;\n\t  }\n\t\n\t  Link.prototype._validateLink = function _validateLink() {\n\t    var pattern = new RegExp('^(https?:\\/\\/)?' + // protocol\n\t    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name\n\t    '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address\n\t    '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path\n\t    '(\\?[&a-z\\d%_.~+=-]*)?' + // query string\n\t    '(\\#[-a-z\\d_]*)?$', 'i'); // fragment locater\n\t    if (!pattern.test(str)) {\n\t      alert(\"Please enter a valid URL.\");\n\t      return false;\n\t    } else {\n\t      return true;\n\t    }\n\t  };\n\t\n\t  Link.prototype._checkProtocol = function _checkProtocol() {\n\t    return console.log(\"xcvd\");\n\t  };\n\t\n\t  Link.prototype._showPopLinkOver = function _showPopLinkOver(e) {\n\t    if (!this.data.showPopLinkOver) {\n\t      return;\n\t    }\n\t    return this.data.showPopLinkOver(this.refs.link);\n\t  };\n\t\n\t  Link.prototype._hidePopLinkOver = function _hidePopLinkOver(e) {\n\t    if (!this.data.hidePopLinkOver) {\n\t      return;\n\t    }\n\t    return this.data.hidePopLinkOver();\n\t  };\n\t\n\t  Link.prototype.render = function render() {\n\t    this.data = _draftJs.Entity.get(this.props.entityKey).getData();\n\t\n\t    return _react2['default'].createElement(\n\t      'a',\n\t      {\n\t        ref: 'link',\n\t        href: this.data.url,\n\t        className: 'markup--anchor',\n\t        onMouseOver: this._showPopLinkOver,\n\t        onMouseOut: this._hidePopLinkOver\n\t      },\n\t      this.props.children\n\t    );\n\t  };\n\t\n\t  return Link;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = Link;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 234:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tvar _selection = __webpack_require__(78);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar DanteInlineTooltip = function (_React$Component) {\n\t  (0, _inherits3['default'])(DanteInlineTooltip, _React$Component);\n\t\n\t  function DanteInlineTooltip(props) {\n\t    (0, _classCallCheck3['default'])(this, DanteInlineTooltip);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.display = _this.display.bind(_this);\n\t    _this.show = _this.show.bind(_this);\n\t    _this.hide = _this.hide.bind(_this);\n\t    _this._toggleScaled = _this._toggleScaled.bind(_this);\n\t    _this.scale = _this.scale.bind(_this);\n\t    _this.collapse = _this.collapse.bind(_this);\n\t    _this.componentWillReceiveProps = _this.componentWillReceiveProps.bind(_this);\n\t    _this.clickOnFileUpload = _this.clickOnFileUpload.bind(_this);\n\t    _this.handlePlaceholder = _this.handlePlaceholder.bind(_this);\n\t    _this.insertImage = _this.insertImage.bind(_this);\n\t    _this.handleFileInput = _this.handleFileInput.bind(_this);\n\t    _this.widgets = _this.widgets.bind(_this);\n\t    _this.clickHandler = _this.clickHandler.bind(_this);\n\t    _this.relocate = _this.relocate.bind(_this);\n\t    _this.state = {\n\t      position: { top: 0, left: 0 },\n\t      show: false,\n\t      scaled: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  DanteInlineTooltip.prototype.display = function display(b) {\n\t    if (b) {\n\t      return this.show();\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.show = function show() {\n\t    return this.setState({\n\t      show: true });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.hide = function hide() {\n\t    return this.setState({\n\t      show: false });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.setPosition = function setPosition(coords) {\n\t    return this.setState({\n\t      position: coords });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype._toggleScaled = function _toggleScaled(ev) {\n\t    if (this.state.scaled) {\n\t      return this.collapse();\n\t    } else {\n\t      return this.scale();\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.scale = function scale() {\n\t    return this.setState({\n\t      scaled: true });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.collapse = function collapse() {\n\t    return this.setState({\n\t      scaled: false });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.componentWillReceiveProps = function componentWillReceiveProps(newProps) {\n\t    return this.collapse();\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.activeClass = function activeClass() {\n\t    //if @props.show then \"is-active\" else \"\"\n\t    if (this.isActive()) {\n\t      return \"is-active\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.isActive = function isActive() {\n\t    return this.state.show;\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.scaledClass = function scaledClass() {\n\t    if (this.state.scaled) {\n\t      return \"is-scaled\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.scaledWidth = function scaledWidth() {\n\t    if (this.state.scaled) {\n\t      return \"124\";\n\t    } else {\n\t      return \"0\";\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.clickOnFileUpload = function clickOnFileUpload() {\n\t    this.refs.fileInput.click();\n\t    this.collapse();\n\t    return this.hide();\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.handlePlaceholder = function handlePlaceholder(input) {\n\t    var opts = {\n\t      type: input.widget_options.insert_block,\n\t      placeholder: input.options.placeholder,\n\t      endpoint: input.options.endpoint\n\t    };\n\t\n\t    return this.props.onChange((0, _index.resetBlockWithType)(this.props.editorState, 'placeholder', opts));\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.insertImage = function insertImage(file) {\n\t    var opts = {\n\t      url: URL.createObjectURL(file),\n\t      file: file\n\t    };\n\t\n\t    return this.props.onChange((0, _index.addNewBlock)(this.props.editorState, 'image', opts));\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.handleFileInput = function handleFileInput(e) {\n\t    var fileList = e.target.files;\n\t    // TODO: support multiple file uploads\n\t    /*\n\t    Object.keys(fileList).forEach (o)=>\n\t      @.insertImage(fileList[0])\n\t    */\n\t    return this.insertImage(fileList[0]);\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.widgets = function widgets() {\n\t    return this.props.editor.widgets;\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.clickHandler = function clickHandler(e, type) {\n\t    var request_block = this.widgets().find(function (o) {\n\t      return o.icon === type;\n\t    });\n\t\n\t    switch (request_block.widget_options.insertion) {\n\t      case \"upload\":\n\t        return this.clickOnFileUpload(e, request_block);\n\t      case \"placeholder\":\n\t        return this.handlePlaceholder(request_block);\n\t      default:\n\t        return console.log('WRONG TYPE FOR ' + request_block.widget_options.insertion);\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.getItems = function getItems() {\n\t    return this.widgets().filter(function (o) {\n\t      return o.widget_options.displayOnInlineTooltip;\n\t    });\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.isDescendant = function isDescendant(parent, child) {\n\t    var node = child.parentNode;\n\t    while (node !== null) {\n\t      if (node === parent) {\n\t        return true;\n\t      }\n\t      node = node.parentNode;\n\t    }\n\t    return false;\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.relocate = function relocate() {\n\t    var editorState = this.props.editorState;\n\t\n\t\n\t    if (editorState.getSelection().isCollapsed()) {\n\t\n\t      var currentBlock = (0, _index.getCurrentBlock)(editorState);\n\t      var blockType = currentBlock.getType();\n\t\n\t      var contentState = editorState.getCurrentContent();\n\t      var selectionState = editorState.getSelection();\n\t\n\t      var block = contentState.getBlockForKey(selectionState.anchorKey);\n\t\n\t      var nativeSelection = (0, _selection.getSelection)(window);\n\t      if (!nativeSelection.rangeCount) {\n\t        return;\n\t      }\n\t\n\t      var node = (0, _index.getNode)();\n\t\n\t      var selectionBoundary = (0, _selection.getSelectionRect)(nativeSelection);\n\t      var coords = selectionBoundary; //utils.getSelectionDimensions(node)\n\t\n\t      var parent = _reactDom2['default'].findDOMNode(this.props.editor);\n\t      var parentBoundary = parent.getBoundingClientRect();\n\t\n\t      // hide if selected node is not in editor\n\t      // debugger\n\t      //console.log @isDescendant(parent, nativeSelection.anchorNode)\n\t\n\t      if (!this.isDescendant(parent, nativeSelection.anchorNode)) {\n\t        this.hide();\n\t        return;\n\t      }\n\t\n\t      // checkeamos si esta vacio\n\t      this.display(block.getText().length === 0 && blockType === \"unstyled\");\n\t      return this.setPosition({\n\t        top: coords.top + window.scrollY,\n\t        left: coords.left + window.scrollX - 60\n\t      });\n\t\n\t      /*\n\t      @refs.image_popover.display(blockType is \"image\")\n\t       if blockType is \"image\"\n\t        selectionBoundary = node.anchorNode.parentNode.parentNode.parentNode.getBoundingClientRect()\n\t        *el = document.querySelector(\"#dante_image_popover\")\n\t        el = @refs.image_popover.refs.image_popover\n\t        padd   = el.offsetWidth / 2\n\t        @refs.image_popover.setPosition\n\t          top: selectionBoundary.top - parentBoundary.top + 60\n\t          left: selectionBoundary.left + (selectionBoundary.width / 2) - padd\n\t         *@setState\n\t        *  image_popover_position:\n\t        *    top: selectionBoundary.top - parentBoundary.top + 60\n\t        *    left: selectionBoundary.left + (selectionBoundary.width / 2) - padd\n\t        *\n\t      */\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteInlineTooltip.prototype.render = function render() {\n\t    var _this2 = this;\n\t\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      {\n\t        className: 'inlineTooltip ' + this.activeClass() + ' ' + this.scaledClass(),\n\t        style: this.state.position\n\t      },\n\t      _react2['default'].createElement(\n\t        'button',\n\t        {\n\t          className: 'inlineTooltip-button control',\n\t          title: 'Close Menu',\n\t          'data-action': 'inline-menu',\n\t          onClick: this._toggleScaled\n\t        },\n\t        _react2['default'].createElement('span', { className: 'tooltip-icon dante-icon-plus' })\n\t      ),\n\t      _react2['default'].createElement(\n\t        'div',\n\t        {\n\t          className: 'inlineTooltip-menu',\n\t          style: { width: this.scaledWidth() + 'px' }\n\t        },\n\t        this.getItems().map(function (item, i) {\n\t          return _react2['default'].createElement(InlineTooltipItem, {\n\t            item: item,\n\t            key: i,\n\t            clickHandler: _this2.clickHandler\n\t          });\n\t        }),\n\t        _react2['default'].createElement('input', {\n\t          type: 'file',\n\t          style: { display: 'none' },\n\t          ref: 'fileInput',\n\t          multiple: 'multiple',\n\t          onChange: this.handleFileInput\n\t        })\n\t      )\n\t    );\n\t  };\n\t\n\t  return DanteInlineTooltip;\n\t}(_react2['default'].Component);\n\t\n\tvar InlineTooltipItem = function (_React$Component2) {\n\t  (0, _inherits3['default'])(InlineTooltipItem, _React$Component2);\n\t\n\t  function InlineTooltipItem() {\n\t    (0, _classCallCheck3['default'])(this, InlineTooltipItem);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    var _this3 = (0, _possibleConstructorReturn3['default'])(this, _React$Component2.call.apply(_React$Component2, [this].concat(args)));\n\t\n\t    _this3.clickHandler = _this3.clickHandler.bind(_this3);\n\t    return _this3;\n\t  }\n\t\n\t  InlineTooltipItem.prototype.clickHandler = function clickHandler(e) {\n\t    e.preventDefault();\n\t    return this.props.clickHandler(e, this.props.item.icon);\n\t  };\n\t\n\t  InlineTooltipItem.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'button',\n\t      {\n\t        className: 'inlineTooltip-button scale',\n\t        title: this.props.title,\n\t        onMouseDown: this.clickHandler\n\t      },\n\t      _react2['default'].createElement('span', { className: 'tooltip-icon dante-icon-' + this.props.item.icon })\n\t    );\n\t  };\n\t\n\t  return InlineTooltipItem;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = DanteInlineTooltip;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 235:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _selection = __webpack_require__(78);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar DanteImagePopover = function (_React$Component) {\n\t  (0, _inherits3['default'])(DanteImagePopover, _React$Component);\n\t\n\t  function DanteImagePopover(props) {\n\t    (0, _classCallCheck3['default'])(this, DanteImagePopover);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.display = _this.display.bind(_this);\n\t    _this.show = _this.show.bind(_this);\n\t    _this.hide = _this.hide.bind(_this);\n\t    _this._toggleScaled = _this._toggleScaled.bind(_this);\n\t    _this.scale = _this.scale.bind(_this);\n\t    _this.collapse = _this.collapse.bind(_this);\n\t    _this.relocate = _this.relocate.bind(_this);\n\t    _this.componentWillReceiveProps = _this.componentWillReceiveProps.bind(_this);\n\t    _this.handleClick = _this.handleClick.bind(_this);\n\t    _this.state = {\n\t      position: {\n\t        top: 0,\n\t        left: 0\n\t      },\n\t      show: false,\n\t      scaled: false,\n\t      buttons: [{ type: \"left\" }, { type: \"center\" }, { type: \"fill\" }, { type: \"wide\" }]\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  DanteImagePopover.prototype.display = function display(b) {\n\t    if (b) {\n\t      return this.show();\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteImagePopover.prototype.show = function show() {\n\t    return this.setState({\n\t      show: true });\n\t  };\n\t\n\t  DanteImagePopover.prototype.hide = function hide() {\n\t    return this.setState({\n\t      show: false });\n\t  };\n\t\n\t  DanteImagePopover.prototype.setPosition = function setPosition(coords) {\n\t    return this.setState({\n\t      position: coords });\n\t  };\n\t\n\t  DanteImagePopover.prototype._toggleScaled = function _toggleScaled(ev) {\n\t    if (this.state.scaled) {\n\t      return this.collapse();\n\t    } else {\n\t      return this.scale();\n\t    }\n\t  };\n\t\n\t  DanteImagePopover.prototype.scale = function scale() {\n\t    return this.setState({\n\t      scaled: true });\n\t  };\n\t\n\t  DanteImagePopover.prototype.collapse = function collapse() {\n\t    return this.setState({\n\t      scaled: false });\n\t  };\n\t\n\t  DanteImagePopover.prototype.relocate = function relocate() {\n\t    var editorState = this.props.editorState;\n\t\n\t\n\t    if (editorState.getSelection().isCollapsed()) {\n\t\n\t      var currentBlock = (0, _index.getCurrentBlock)(editorState);\n\t      var blockType = currentBlock.getType();\n\t\n\t      var contentState = editorState.getCurrentContent();\n\t      var selectionState = editorState.getSelection();\n\t\n\t      var block = contentState.getBlockForKey(selectionState.anchorKey);\n\t\n\t      var nativeSelection = (0, _selection.getSelection)(window);\n\t      if (!nativeSelection.rangeCount) {\n\t        return;\n\t      }\n\t\n\t      var node = (0, _index.getNode)();\n\t\n\t      var selectionBoundary = (0, _selection.getSelectionRect)(nativeSelection);\n\t      var coords = selectionBoundary;\n\t\n\t      var parent = _reactDom2['default'].findDOMNode(this.props.editor);\n\t      var parentBoundary = parent.getBoundingClientRect();\n\t\n\t      this.display(blockType === \"image\");\n\t\n\t      if (blockType === \"image\") {\n\t        selectionBoundary = node.anchorNode.parentNode.parentNode.parentNode.getBoundingClientRect();\n\t        var el = this.refs.image_popover;\n\t        var padd = el.offsetWidth / 2;\n\t        return this.setPosition({\n\t          top: selectionBoundary.top - parentBoundary.top + 60,\n\t          left: selectionBoundary.left + selectionBoundary.width / 2 - padd\n\t        });\n\t      }\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteImagePopover.prototype.componentWillReceiveProps = function componentWillReceiveProps(newProps) {\n\t    return this.collapse();\n\t  };\n\t\n\t  DanteImagePopover.prototype.getStyle = function getStyle() {\n\t    if (!this.state.position) {\n\t      return {};\n\t    }\n\t  };\n\t\n\t  DanteImagePopover.prototype.handleClick = function handleClick(item) {\n\t    return this.props.editor.setDirection(item.type);\n\t  };\n\t\n\t  DanteImagePopover.prototype.render = function render() {\n\t    var _this2 = this;\n\t\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      {\n\t        ref: 'image_popover',\n\t        className: 'dante-popover popover--Aligntooltip popover--top popover--animated ' + (this.state.show ? 'is-active' : undefined),\n\t        style: { top: this.state.position.top,\n\t          left: this.state.position.left }\n\t      },\n\t      _react2['default'].createElement(\n\t        'div',\n\t        { className: 'popover-inner' },\n\t        _react2['default'].createElement(\n\t          'ul',\n\t          { className: 'dante-menu-buttons' },\n\t          this.state.buttons.map(function (item, i) {\n\t            return _react2['default'].createElement(DanteImagePopoverItem, {\n\t              item: item,\n\t              handleClick: _this2.handleClick,\n\t              key: i\n\t            });\n\t          })\n\t        )\n\t      ),\n\t      _react2['default'].createElement('div', { className: 'popover-arrow' })\n\t    );\n\t  };\n\t\n\t  return DanteImagePopover;\n\t}(_react2['default'].Component);\n\t\n\tvar DanteImagePopoverItem = function (_React$Component2) {\n\t  (0, _inherits3['default'])(DanteImagePopoverItem, _React$Component2);\n\t\n\t  function DanteImagePopoverItem() {\n\t    (0, _classCallCheck3['default'])(this, DanteImagePopoverItem);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    var _this3 = (0, _possibleConstructorReturn3['default'])(this, _React$Component2.call.apply(_React$Component2, [this].concat(args)));\n\t\n\t    _this3.handleClick = _this3.handleClick.bind(_this3);\n\t    _this3.render = _this3.render.bind(_this3);\n\t    return _this3;\n\t  }\n\t\n\t  DanteImagePopoverItem.prototype.handleClick = function handleClick(e) {\n\t    e.preventDefault();\n\t    return this.props.handleClick(this.props.item);\n\t  };\n\t\n\t  DanteImagePopoverItem.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'li',\n\t      {\n\t        className: 'dante-menu-button align-' + this.props.item.type,\n\t        onMouseDown: this.handleClick },\n\t      _react2['default'].createElement('span', { className: 'tooltip-icon dante-icon-image-' + this.props.item.type })\n\t    );\n\t  };\n\t\n\t  return DanteImagePopoverItem;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = DanteImagePopover;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 236:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar DanteAnchorPopover = function (_React$Component) {\n\t  (0, _inherits3['default'])(DanteAnchorPopover, _React$Component);\n\t\n\t  function DanteAnchorPopover(props) {\n\t    (0, _classCallCheck3['default'])(this, DanteAnchorPopover);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this.display = _this.display.bind(_this);\n\t    _this.show = _this.show.bind(_this);\n\t    _this.hide = _this.hide.bind(_this);\n\t    _this.relocate = _this.relocate.bind(_this);\n\t    _this.render = _this.render.bind(_this);\n\t    _this.state = {\n\t      position: {\n\t        top: 0,\n\t        left: 0\n\t      },\n\t      show: false,\n\t      url: \"\"\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  DanteAnchorPopover.prototype.display = function display(b) {\n\t    if (b) {\n\t      return this.show();\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteAnchorPopover.prototype.show = function show() {\n\t    return this.setState({\n\t      show: true });\n\t  };\n\t\n\t  DanteAnchorPopover.prototype.hide = function hide() {\n\t    return this.setState({\n\t      show: false });\n\t  };\n\t\n\t  DanteAnchorPopover.prototype.setPosition = function setPosition(coords) {\n\t    return this.setState({\n\t      position: coords });\n\t  };\n\t\n\t  DanteAnchorPopover.prototype.relocate = function relocate(node) {\n\t    if (node == null) {\n\t      node = null;\n\t    }\n\t    if (!node) {\n\t      return;\n\t    }\n\t\n\t    var editorState = this.props.editorState;\n\t\n\t    var currentBlock = (0, _index.getCurrentBlock)(editorState);\n\t    var blockType = currentBlock.getType();\n\t\n\t    var contentState = editorState.getCurrentContent();\n\t    var selectionState = editorState.getSelection();\n\t\n\t    var selectionBoundary = node.getBoundingClientRect();\n\t    var coords = selectionBoundary;\n\t\n\t    var el = this.refs.dante_popover;\n\t    var padd = el.offsetWidth / 2;\n\t\n\t    var parent = _reactDom2['default'].findDOMNode(this.props.editor);\n\t    var parentBoundary = parent.getBoundingClientRect();\n\t\n\t    return {\n\t      top: selectionBoundary.top - parentBoundary.top + 160,\n\t      left: selectionBoundary.left + selectionBoundary.width / 2 - padd\n\t    };\n\t  };\n\t\n\t  DanteAnchorPopover.prototype.render = function render() {\n\t    var position = this.state.position;\n\t\n\t    var style = {\n\t      left: position.left,\n\t      top: position.top,\n\t      visibility: '' + (this.state.show ? 'visible' : 'hidden')\n\t    };\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      {\n\t        ref: 'dante_popover',\n\t        className: 'dante-popover popover--tooltip popover--Linktooltip popover--bottom is-active',\n\t        style: style,\n\t        onMouseOver: this.props.handleOnMouseOver,\n\t        onMouseOut: this.props.handleOnMouseOut\n\t      },\n\t      _react2['default'].createElement(\n\t        'div',\n\t        { className: 'popover-inner' },\n\t        _react2['default'].createElement(\n\t          'a',\n\t          { href: this.props.url, target: '_blank' },\n\t          this.state.url\n\t        )\n\t      ),\n\t      _react2['default'].createElement('div', { className: 'popover-arrow' })\n\t    );\n\t  };\n\t\n\t  return DanteAnchorPopover;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = DanteAnchorPopover;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 237:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(18);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(17);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _react = __webpack_require__(5);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(9);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _selection = __webpack_require__(78);\n\t\n\tvar _index = __webpack_require__(24);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar DanteTooltip = function (_React$Component) {\n\t  (0, _inherits3['default'])(DanteTooltip, _React$Component);\n\t\n\t  function DanteTooltip(props) {\n\t    (0, _classCallCheck3['default'])(this, DanteTooltip);\n\t\n\t    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\t\n\t    _this._clickInlineHandler = _this._clickInlineHandler.bind(_this);\n\t    _this.display = _this.display.bind(_this);\n\t    _this.show = _this.show.bind(_this);\n\t    _this.hide = _this.hide.bind(_this);\n\t    _this.relocate = _this.relocate.bind(_this);\n\t    _this._clickBlockHandler = _this._clickBlockHandler.bind(_this);\n\t    _this.displayLinkMode = _this.displayLinkMode.bind(_this);\n\t    _this.displayActiveMenu = _this.displayActiveMenu.bind(_this);\n\t    _this._enableLinkMode = _this._enableLinkMode.bind(_this);\n\t    _this._disableLinkMode = _this._disableLinkMode.bind(_this);\n\t    _this.handleInputEnter = _this.handleInputEnter.bind(_this);\n\t    _this.confirmLink = _this.confirmLink.bind(_this);\n\t    _this.inlineItems = _this.inlineItems.bind(_this);\n\t    _this.blockItems = _this.blockItems.bind(_this);\n\t    _this.getDefaultValue = _this.getDefaultValue.bind(_this);\n\t    _this.getVisibleSelectionRect = _draftJs.getVisibleSelectionRect;\n\t    _this.state = {\n\t      link_mode: false,\n\t      show: false,\n\t      position: {}\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  DanteTooltip.prototype._clickInlineHandler = function _clickInlineHandler(ev, style) {\n\t    var _this2 = this;\n\t\n\t    ev.preventDefault();\n\t\n\t    this.props.onChange(_draftJs.RichUtils.toggleInlineStyle(this.props.editorState, style));\n\t\n\t    return setTimeout(function () {\n\t      return _this2.relocate();\n\t    }, 0);\n\t  };\n\t\n\t  DanteTooltip.prototype.display = function display(b) {\n\t    if (b) {\n\t      return this.show();\n\t    } else {\n\t      return this.hide();\n\t    }\n\t  };\n\t\n\t  DanteTooltip.prototype.show = function show() {\n\t    return this.setState({\n\t      show: true });\n\t  };\n\t\n\t  DanteTooltip.prototype.hide = function hide() {\n\t    return this.setState({\n\t      link_mode: false,\n\t      show: false\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype.setPosition = function setPosition(coords) {\n\t    return this.setState({\n\t      position: coords });\n\t  };\n\t\n\t  DanteTooltip.prototype.isDescendant = function isDescendant(parent, child) {\n\t    var node = child.parentNode;\n\t    while (node !== null) {\n\t      if (node === parent) {\n\t        return true;\n\t      }\n\t      node = node.parentNode;\n\t    }\n\t    return false;\n\t  };\n\t\n\t  DanteTooltip.prototype.relocate = function relocate() {\n\t\n\t    var currentBlock = (0, _index.getCurrentBlock)(this.props.editorState);\n\t    var blockType = currentBlock.getType();\n\t    // display tooltip only for unstyled\n\t\n\t    if (this.props.configTooltip.selectionElements.indexOf(blockType) < 0) {\n\t      this.hide();\n\t      return;\n\t    }\n\t\n\t    if (this.state.link_mode) {\n\t      return;\n\t    }\n\t    if (!this.state.show) {\n\t      return;\n\t    }\n\t\n\t    var el = this.refs.dante_menu;\n\t    var padd = el.offsetWidth / 2;\n\t\n\t    var nativeSelection = (0, _selection.getSelection)(window);\n\t    if (!nativeSelection.rangeCount) {\n\t      return;\n\t    }\n\t\n\t    var selectionBoundary = (0, _selection.getSelectionRect)(nativeSelection);\n\t\n\t    var parent = _reactDom2['default'].findDOMNode(this.props.editor);\n\t    var parentBoundary = parent.getBoundingClientRect();\n\t\n\t    // hide if selected node is not in editor\n\t    if (!this.isDescendant(parent, nativeSelection.anchorNode)) {\n\t      this.hide();\n\t      return;\n\t    }\n\t\n\t    var top = selectionBoundary.top - parentBoundary.top - -90 - 5;\n\t    var left = selectionBoundary.left + selectionBoundary.width / 2 - padd;\n\t\n\t    if (!top || !left) {\n\t      return;\n\t    }\n\t\n\t    // console.log \"SET SHOW FOR TOOLTIP INSERT MENU\"\n\t    return this.setState({\n\t      show: true,\n\t      position: {\n\t        left: left,\n\t        top: top\n\t      }\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype._clickBlockHandler = function _clickBlockHandler(ev, style) {\n\t    var _this3 = this;\n\t\n\t    ev.preventDefault();\n\t\n\t    this.props.onChange(_draftJs.RichUtils.toggleBlockType(this.props.editorState, style));\n\t\n\t    return setTimeout(function () {\n\t      return _this3.relocate();\n\t    }, 0);\n\t  };\n\t\n\t  DanteTooltip.prototype.displayLinkMode = function displayLinkMode() {\n\t    if (this.state.link_mode) {\n\t      return \"dante-menu--linkmode\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  DanteTooltip.prototype.displayActiveMenu = function displayActiveMenu() {\n\t    if (this.state.show) {\n\t      return \"dante-menu--active\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  DanteTooltip.prototype._enableLinkMode = function _enableLinkMode(ev) {\n\t    ev.preventDefault();\n\t    return this.setState({\n\t      link_mode: true });\n\t  };\n\t\n\t  DanteTooltip.prototype._disableLinkMode = function _disableLinkMode(ev) {\n\t    ev.preventDefault();\n\t    return this.setState({\n\t      link_mode: false,\n\t      url: \"\"\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype.hideMenu = function hideMenu() {\n\t    return this.hide();\n\t  };\n\t\n\t  DanteTooltip.prototype.handleInputEnter = function handleInputEnter(e) {\n\t    if (e.which === 13) {\n\t      return this.confirmLink(e);\n\t    }\n\t  };\n\t\n\t  DanteTooltip.prototype.confirmLink = function confirmLink(e) {\n\t    e.preventDefault();\n\t    var editorState = this.props.editorState;\n\t\n\t    var urlValue = e.currentTarget.value;\n\t    var contentState = editorState.getCurrentContent();\n\t    var selection = editorState.getSelection();\n\t\n\t    var opts = {\n\t      url: urlValue,\n\t      showPopLinkOver: this.props.showPopLinkOver,\n\t      hidePopLinkOver: this.props.hidePopLinkOver\n\t    };\n\t\n\t    var entityKey = _draftJs.Entity.create('LINK', 'MUTABLE', opts);\n\t\n\t    if (selection.isCollapsed()) {\n\t      console.log(\"COLLAPSED SKIPPING LINK\");\n\t      return;\n\t    }\n\t\n\t    this.props.onChange(_draftJs.RichUtils.toggleLink(editorState, selection, entityKey));\n\t\n\t    return this._disableLinkMode(e);\n\t  };\n\t\n\t  DanteTooltip.prototype.getPosition = function getPosition() {\n\t    var pos = this.state.position;\n\t    return pos;\n\t  };\n\t\n\t  DanteTooltip.prototype.inlineItems = function inlineItems() {\n\t    return this.props.widget_options.block_types.filter(function (o) {\n\t      return o.type === \"inline\";\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype.blockItems = function blockItems() {\n\t    return this.props.widget_options.block_types.filter(function (o) {\n\t      return o.type === \"block\";\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype.getDefaultValue = function getDefaultValue() {\n\t    var _this4 = this;\n\t\n\t    if (this.refs.dante_menu_input) {\n\t      this.refs.dante_menu_input.value = \"\";\n\t    }\n\t\n\t    var currentBlock = (0, _index.getCurrentBlock)(this.props.editorState);\n\t    var blockType = currentBlock.getType();\n\t    var selection = this.props.editor.state.editorState.getSelection();\n\t    var selectedEntity = null;\n\t    var defaultUrl = null;\n\t    return currentBlock.findEntityRanges(function (character) {\n\t      var entityKey = character.getEntity();\n\t      selectedEntity = entityKey;\n\t      return entityKey !== null && _draftJs.Entity.get(entityKey).getType() === 'LINK';\n\t    }, function (start, end) {\n\t      var selStart = selection.getAnchorOffset();\n\t      var selEnd = selection.getFocusOffset();\n\t      if (selection.getIsBackward()) {\n\t        selStart = selection.getFocusOffset();\n\t        selEnd = selection.getAnchorOffset();\n\t      }\n\t\n\t      if (start === selStart && end === selEnd) {\n\t        defaultUrl = _draftJs.Entity.get(selectedEntity).getData().url;\n\t        return _this4.refs.dante_menu_input.value = defaultUrl;\n\t      }\n\t    });\n\t  };\n\t\n\t  DanteTooltip.prototype.render = function render() {\n\t    var _this5 = this;\n\t\n\t    return _react2['default'].createElement(\n\t      'div',\n\t      {\n\t        id: 'dante-menu',\n\t        ref: 'dante_menu',\n\t        className: 'dante-menu ' + this.displayActiveMenu() + ' ' + this.displayLinkMode(),\n\t        style: this.getPosition()\n\t      },\n\t      _react2['default'].createElement(\n\t        'div',\n\t        { className: 'dante-menu-linkinput' },\n\t        _react2['default'].createElement('input', {\n\t          className: 'dante-menu-input',\n\t          ref: 'dante_menu_input',\n\t          placeholder: 'Paste or type a link',\n\t          onKeyPress: this.handleInputEnter,\n\t          defaultValue: this.getDefaultValue()\n\t        }),\n\t        _react2['default'].createElement('div', { className: 'dante-menu-button', onMouseDown: this._disableLinkMode })\n\t      ),\n\t      _react2['default'].createElement(\n\t        'ul',\n\t        { className: 'dante-menu-buttons' },\n\t        this.blockItems().map(function (item, i) {\n\t          return _react2['default'].createElement(DanteTooltipItem, {\n\t            key: i,\n\t            item: item,\n\t            handleClick: _this5._clickBlockHandler,\n\t            editorState: _this5.props.editorState,\n\t            type: 'block',\n\t            currentStyle: _this5.props.editorState.getCurrentInlineStyle\n\t          });\n\t        }),\n\t        _react2['default'].createElement(DanteTooltipLink, {\n\t          editorState: this.props.editorState,\n\t          enableLinkMode: this._enableLinkMode\n\t        }),\n\t        this.inlineItems().map(function (item, i) {\n\t          return _react2['default'].createElement(DanteTooltipItem, {\n\t            key: i,\n\t            item: item,\n\t            type: 'inline',\n\t            editorState: _this5.props.editorState,\n\t            handleClick: _this5._clickInlineHandler\n\t          });\n\t        })\n\t      )\n\t    );\n\t  };\n\t\n\t  return DanteTooltip;\n\t}(_react2['default'].Component);\n\t\n\tvar DanteTooltipItem = function (_React$Component2) {\n\t  (0, _inherits3['default'])(DanteTooltipItem, _React$Component2);\n\t\n\t  function DanteTooltipItem() {\n\t    (0, _classCallCheck3['default'])(this, DanteTooltipItem);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    var _this6 = (0, _possibleConstructorReturn3['default'])(this, _React$Component2.call.apply(_React$Component2, [this].concat(args)));\n\t\n\t    _this6.handleClick = _this6.handleClick.bind(_this6);\n\t    _this6.activeClass = _this6.activeClass.bind(_this6);\n\t    _this6.isActive = _this6.isActive.bind(_this6);\n\t    _this6.activeClassInline = _this6.activeClassInline.bind(_this6);\n\t    _this6.activeClassBlock = _this6.activeClassBlock.bind(_this6);\n\t    _this6.render = _this6.render.bind(_this6);\n\t    return _this6;\n\t  }\n\t\n\t  DanteTooltipItem.prototype.handleClick = function handleClick(ev) {\n\t    return this.props.handleClick(ev, this.props.item.style);\n\t  };\n\t\n\t  DanteTooltipItem.prototype.activeClass = function activeClass() {\n\t    if (this.isActive()) {\n\t      return \"active\";\n\t    } else {\n\t      return \"\";\n\t    }\n\t  };\n\t\n\t  DanteTooltipItem.prototype.isActive = function isActive() {\n\t    if (this.props.type === \"block\") {\n\t      return this.activeClassBlock();\n\t    } else {\n\t      return this.activeClassInline();\n\t    }\n\t  };\n\t\n\t  DanteTooltipItem.prototype.activeClassInline = function activeClassInline() {\n\t    if (!this.props.editorState) {\n\t      return;\n\t    }\n\t    //console.log @props.item\n\t    return this.props.editorState.getCurrentInlineStyle().has(this.props.item.style);\n\t  };\n\t\n\t  DanteTooltipItem.prototype.activeClassBlock = function activeClassBlock() {\n\t    //console.log \"EDITOR STATE\", @props.editorState\n\t    if (!this.props.editorState) {\n\t      return;\n\t    }\n\t    var selection = this.props.editorState.getSelection();\n\t    var blockType = this.props.editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\n\t    return this.props.item.style === blockType;\n\t  };\n\t\n\t  DanteTooltipItem.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'li',\n\t      { className: 'dante-menu-button ' + this.activeClass(), onMouseDown: this.handleClick },\n\t      _react2['default'].createElement('i', { className: 'dante-icon dante-icon-' + this.props.item.label, 'data-action': 'bold' })\n\t    );\n\t  };\n\t\n\t  return DanteTooltipItem;\n\t}(_react2['default'].Component);\n\t\n\tvar DanteTooltipLink = function (_React$Component3) {\n\t  (0, _inherits3['default'])(DanteTooltipLink, _React$Component3);\n\t\n\t  function DanteTooltipLink() {\n\t    (0, _classCallCheck3['default'])(this, DanteTooltipLink);\n\t\n\t    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      args[_key2] = arguments[_key2];\n\t    }\n\t\n\t    var _this7 = (0, _possibleConstructorReturn3['default'])(this, _React$Component3.call.apply(_React$Component3, [this].concat(args)));\n\t\n\t    _this7.promptForLink = _this7.promptForLink.bind(_this7);\n\t    return _this7;\n\t  }\n\t\n\t  DanteTooltipLink.prototype.promptForLink = function promptForLink(ev) {\n\t    var selection = this.props.editorState.getSelection();\n\t    if (!selection.isCollapsed()) {\n\t      return this.props.enableLinkMode(ev);\n\t    }\n\t  };\n\t\n\t  DanteTooltipLink.prototype.render = function render() {\n\t    return _react2['default'].createElement(\n\t      'li',\n\t      { className: 'dante-menu-button', onMouseDown: this.promptForLink },\n\t      _react2['default'].createElement(\n\t        'i',\n\t        { className: 'dante-icon icon-createlink', 'data-action': 'createlink' },\n\t        'link'\n\t      )\n\t    );\n\t  };\n\t\n\t  return DanteTooltipLink;\n\t}(_react2['default'].Component);\n\t\n\texports['default'] = DanteTooltip;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 238:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\t//TODO: what the f*ck is happening here? ;-;\n\tvar findEntities = function findEntities(entityType, instance, contentBlock, callback) {\n\t  return contentBlock.findEntityRanges(function (_this) {\n\t    return function (character) {\n\t      var entityKey, opts, res;\n\t      entityKey = character.getEntity();\n\t      return res = entityKey !== null && _draftJs.Entity.get(entityKey).getType() === entityType, res ? (opts = {\n\t        showPopLinkOver: instance.showPopLinkOver,\n\t        hidePopLinkOver: instance.hidePopLinkOver\n\t      }, _draftJs.Entity.mergeData(entityKey, opts)) : void 0, res;\n\t    };\n\t  }(undefined), callback);\n\t};\n\t\n\texports['default'] = findEntities;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 239:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _stringify = __webpack_require__(79);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _draftJs = __webpack_require__(10);\n\t\n\tvar _immutable = __webpack_require__(46);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t// { compose\n\t// }  = require('underscore')\n\t\n\t// underscore compose function\n\tvar compose = function compose() {\n\t  var args = arguments;\n\t  var start = args.length - 1;\n\t  return function () {\n\t    var i = start;\n\t    var result = args[start].apply(this, arguments);\n\t    while (i--) {\n\t      result = args[i].call(this, result);\n\t    }\n\t    return result;\n\t  };\n\t};\n\t\n\t// from https://gist.github.com/N1kto/6702e1c2d89a33a15a032c234fc4c34e\n\t\n\t/*\n\t * Helpers\n\t */\n\t\n\t// Prepares img meta data object based on img attributes\n\tvar getBlockSpecForElement = function getBlockSpecForElement(imgElement) {\n\t  return {\n\t    contentType: 'image',\n\t    imgSrc: imgElement.getAttribute('src')\n\t  };\n\t};\n\t\n\t// Wraps meta data in HTML element which is 'understandable' by Draft, I used <blockquote />.\n\tvar wrapBlockSpec = function wrapBlockSpec(blockSpec) {\n\t  if (blockSpec === null) {\n\t    return null;\n\t  }\n\t\n\t  var tempEl = document.createElement('blockquote');\n\t  // stringify meta data and insert it as text content of temp HTML element. We will later extract\n\t  // and parse it.\n\t  tempEl.innerText = (0, _stringify2['default'])(blockSpec);\n\t  return tempEl;\n\t};\n\t\n\t// Replaces <img> element with our temp element\n\tvar replaceElement = function replaceElement(oldEl, newEl) {\n\t  if (!(newEl instanceof HTMLElement)) {\n\t    return;\n\t  }\n\t\n\t  var upEl = getUpEl(oldEl);\n\t  //parentNode = oldEl.parentNode\n\t  //return parentNode.replaceChild(newEl, oldEl)\n\t  return upEl.parentNode.insertBefore(newEl, upEl);\n\t};\n\t\n\tvar getUpEl = function getUpEl(el) {\n\t  var original_el = el;\n\t  while (el.parentNode) {\n\t    if (el.parentNode.tagName !== 'BODY') {\n\t      el = el.parentNode;\n\t    }\n\t    if (el.parentNode.tagName === 'BODY') {\n\t      return el;\n\t    }\n\t  }\n\t};\n\t\n\tvar elementToBlockSpecElement = compose(wrapBlockSpec, getBlockSpecForElement);\n\t\n\tvar imgReplacer = function imgReplacer(imgElement) {\n\t  return replaceElement(imgElement, elementToBlockSpecElement(imgElement));\n\t};\n\t\n\t/*\n\t * Main function\n\t */\n\t\n\t// takes HTML string and returns DraftJS ContentState\n\tvar customHTML2Content = function customHTML2Content(HTML, blockRn) {\n\t  var tempDoc = new DOMParser().parseFromString(HTML, 'text/html');\n\t  // replace all <img /> with <blockquote /> elements\n\t\n\t  var a = tempDoc.querySelectorAll('img').forEach(function (item) {\n\t    return imgReplacer(item);\n\t  });\n\t\n\t  // use DraftJS converter to do initial conversion. I don't provide DOMBuilder and\n\t  // blockRenderMap arguments here since it should fall back to its default ones, which are fine\n\t  console.log(tempDoc.body.innerHTML);\n\t  var contentBlocks = (0, _draftJs.convertFromHTML)(tempDoc.body.innerHTML, _draftJs.getSafeBodyFromHTML, blockRn);\n\t\n\t  // now replace <blockquote /> ContentBlocks with 'atomic' ones\n\t  contentBlocks = contentBlocks.map(function (block) {\n\t    var newBlock = void 0;\n\t    console.log(\"CHECK BLOCK\", block.getType());\n\t    if (block.getType() !== 'blockquote') {\n\t      return block;\n\t    }\n\t\n\t    var json = \"\";\n\t    try {\n\t      json = JSON.parse(block.getText());\n\t    } catch (error) {\n\t      return block;\n\t    }\n\t\n\t    return newBlock = block.merge({\n\t      type: \"image\",\n\t      text: \"\",\n\t      data: {\n\t        url: json.imgSrc,\n\t        forceUpload: true\n\t      }\n\t    });\n\t  });\n\t\n\t  tempDoc = null;\n\t  return _draftJs.ContentState.createFromBlockArray(contentBlocks);\n\t};\n\t\n\texports['default'] = customHTML2Content;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 240:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _stringify = __webpack_require__(79);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _classCallCheck2 = __webpack_require__(14);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _axios = __webpack_require__(61);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _immutable = __webpack_require__(46);\n\t\n\tvar _immutable2 = _interopRequireDefault(_immutable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tvar SaveBehavior = function () {\n\t  function SaveBehavior(options) {\n\t    (0, _classCallCheck3[\"default\"])(this, SaveBehavior);\n\t\n\t    this.getLocks = options.getLocks;\n\t    this.config = options.config;\n\t    this.editorContent = options.editorContent;\n\t    this.editorState = options.editorState;\n\t  }\n\t\n\t  SaveBehavior.prototype.handleStore = function handleStore(ev) {\n\t    return this.store();\n\t  };\n\t\n\t  SaveBehavior.prototype.store = function store(content) {\n\t    var _this = this;\n\t\n\t    if (!this.config.data_storage.url) {\n\t      return;\n\t    }\n\t    if (this.getLocks() > 0) {\n\t      return;\n\t    }\n\t\n\t    clearTimeout(this.timeout);\n\t\n\t    return this.timeout = setTimeout(function () {\n\t      return _this.checkforStore(content);\n\t    }, this.config.data_storage.interval);\n\t  };\n\t\n\t  SaveBehavior.prototype.getTextFromEditor = function getTextFromEditor(content) {\n\t    return content.blocks.map(function (o) {\n\t      return o.text;\n\t    }).join(\"\\n\");\n\t  };\n\t\n\t  SaveBehavior.prototype.getUrl = function getUrl() {\n\t    var url = this.config.data_storage.url;\n\t\n\t    if (typeof url === \"function\") {\n\t      return url();\n\t    } else {\n\t      return url;\n\t    }\n\t  };\n\t\n\t  SaveBehavior.prototype.getMethod = function getMethod() {\n\t    var method = this.config.data_storage.method;\n\t\n\t    if (typeof method === \"function\") {\n\t      return method();\n\t    } else {\n\t      return method;\n\t    }\n\t  };\n\t\n\t  SaveBehavior.prototype.getWithCredentials = function getWithCredentials() {\n\t    var withCredentials = this.config.data_storage.withCredentials;\n\t\n\t    if (typeof withCredentials === \"function\") {\n\t      return withCredentials();\n\t    } else {\n\t      return withCredentials;\n\t    }\n\t  };\n\t\n\t  SaveBehavior.prototype.getCrossDomain = function getCrossDomain() {\n\t    var crossDomain = this.config.data_storage.crossDomain;\n\t\n\t    if (typeof crossDomain === \"function\") {\n\t      return crossDomain();\n\t    } else {\n\t      return crossDomain;\n\t    }\n\t  };\n\t\n\t  SaveBehavior.prototype.getHeaders = function getHeaders() {\n\t    var headers = this.config.data_storage.headers;\n\t\n\t    if (typeof headers === \"function\") {\n\t      return headers();\n\t    } else {\n\t      return headers;\n\t    }\n\t  };\n\t\n\t  SaveBehavior.prototype.checkforStore = function checkforStore(content) {\n\t    // ENTER DATA STORE\n\t    var isChanged = !_immutable2[\"default\"].is(_immutable2[\"default\"].fromJS(this.editorContent), _immutable2[\"default\"].fromJS(content));\n\t    // console.log(\"CONTENT CHANGED:\", isChanged)\n\t\n\t    if (!isChanged) {\n\t      return;\n\t    }\n\t\n\t    this.save(content);\n\t  };\n\t\n\t  SaveBehavior.prototype.save = function save(content) {\n\t    var _this2 = this;\n\t\n\t    // use save handler from config if exists\n\t    if (this.config.data_storage.save_handler) {\n\t      this.config.data_storage.save_handler(this, content);\n\t      return;\n\t    }\n\t\n\t    if (this.config.xhr.before_handler) {\n\t      this.config.xhr.before_handler();\n\t    }\n\t    // console.log \"SAVING TO: #{@getMethod()} #{@getUrl()}\"\n\t\n\t    return (0, _axios2[\"default\"])({\n\t      method: this.getMethod(),\n\t      url: this.getUrl(),\n\t      data: {\n\t        editor_content: (0, _stringify2[\"default\"])(content),\n\t        text_content: this.getTextFromEditor(content)\n\t      },\n\t      withCredentials: this.getWithCredentials(),\n\t      crossDomain: this.getCrossDomain(),\n\t      headers: this.getHeaders()\n\t    }).then(function (result) {\n\t      // console.log \"STORING CONTENT\", result\n\t      if (_this2.config.data_storage.success_handler) {\n\t        _this2.config.data_storage.success_handler(result);\n\t      }\n\t      if (_this2.config.xhr.success_handler) {\n\t        return _this2.config.xhr.success_handler(result);\n\t      }\n\t    })[\"catch\"](function (error) {\n\t      // console.log(\"ERROR: got error saving content at #{@config.data_storage.url} - #{error}\")\n\t      if (_this2.config.xhr.failure_handler) {\n\t        return _this2.config.xhr.failure_handler(error);\n\t      }\n\t    });\n\t  };\n\t\n\t  return SaveBehavior;\n\t}();\n\t\n\texports[\"default\"] = SaveBehavior;\n\tmodule.exports = exports[\"default\"];\n\n/***/ }\n\n})\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** Dante2.min.js\n **/","\nimport Dante from './components/dante'\nimport DanteEditor from './components/dante_editor'\n\n\nmodule.exports = {\n  Dante, \n  DanteEditor\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n ** module id = 5\n ** module chunks = 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}\n ** module id = 9\n ** module chunks = 1\n **/","import { Map } from 'immutable';\n\n\n\nimport { EditorState, ContentBlock, genKey } from 'draft-js';\n\n\n/*\nUsed from [react-rte](https://github.com/brijeshb42/medium-draft)\nby [brijeshb42](https://github.com/brijeshb42/medium-draft)\n*/\n\n/*\nReturns default block-level metadata for various block type. Empty object otherwise.\n*/\nexport const getDefaultBlockData = (blockType, initialData = {}) => {\n  switch (blockType) {\n    //case Block.TODO: return { checked: false };\n    default: return initialData;\n  }\n};\n\nexport const getNode = (root=window) => {\n  let t = null\n  if (root.getSelection){\n    t = root.getSelection()\n  } else if (root.document.getSelection){\n    t = root.document.getSelection()\n  } else if (root.document.selection){\n    t = root.document.selection.createRange().text\n  }\n  return t\n}\n\n/*\nGet currentBlock in the editorState.\n*/\nexport const getCurrentBlock = (editorState) => {\n  const selectionState = editorState.getSelection();\n  const contentState = editorState.getCurrentContent();\n  const block = contentState.getBlockForKey(selectionState.getStartKey());\n  return block;\n};\n\n/*\nAdds a new block (currently replaces an empty block) at the current cursor position\nof the given `newType`.\n*/\nexport const addNewBlock = (editorState, newType = \"unstyled\", initialData = {}) => {\n  const selectionState = editorState.getSelection();\n  if (!selectionState.isCollapsed()) {\n    return editorState;\n  }\n  const contentState = editorState.getCurrentContent();\n  const key = selectionState.getStartKey();\n  const blockMap = contentState.getBlockMap();\n  const currentBlock = getCurrentBlock(editorState);\n  if (!currentBlock) {\n    return editorState;\n  }\n  if (currentBlock.getLength() === 0) {\n    if (currentBlock.getType() === newType) {\n      return editorState;\n    }\n    const newBlock = currentBlock.merge({\n      type: newType,\n      data: getDefaultBlockData(newType, initialData),\n    });\n    const newContentState = contentState.merge({\n      blockMap: blockMap.set(key, newBlock),\n      selectionAfter: selectionState,\n    });\n    return EditorState.push(editorState, newContentState, 'change-block-type');\n  }\n  return editorState;\n};\n\n\n/*\nChanges the block type of the current block.\n*/\nexport const resetBlockWithType = (editorState, newType = \"unstyled\", data={}) => {\n  const contentState = editorState.getCurrentContent();\n  const selectionState = editorState.getSelection();\n  const key = selectionState.getStartKey();\n  const blockMap = contentState.getBlockMap();\n  const block = blockMap.get(key);\n\n  let newText = '';\n  console.log( \"DATA FOR PLACEHOLDER!\", data)\n  const text = block.getText();\n  if (block.getLength() >= 2) {\n    newText = text.substr(1);\n  }\n\n  /*if(data.text){\n    newText = data.text\n  }*/\n\n  //let newText = data.text\n\n  const newBlock = block.merge({\n    text: newText,\n    type: newType,\n    data: getDefaultBlockData(newType, data),\n  });\n  const newContentState = contentState.merge({\n    blockMap: blockMap.set(key, newBlock),\n    selectionAfter: selectionState.merge({\n      anchorOffset: 0,\n      focusOffset: 0,\n    }),\n  });\n  return EditorState.push(editorState, newContentState, 'change-block-type');\n};\n\n\n/*\nUpdate block-level metadata of the given `block` to the `newData`/\n*/\nexport const updateDataOfBlock = (editorState, block, newData) => {\n  const contentState = editorState.getCurrentContent();\n  const newBlock = block.merge({\n    data: newData,\n  });\n  const newContentState = contentState.merge({\n    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock),\n  });\n  return EditorState.push(editorState, newContentState, 'change-block-type');\n  // return editorState;\n};\n\nexport const updateTextOfBlock = (editorState, block, text) => {\n  const contentState = editorState.getCurrentContent();\n  const newBlock = block.merge({\n    text: text,\n  });\n  const newContentState = contentState.merge({\n    blockMap: contentState.getBlockMap().set(block.getKey(), newBlock),\n  });\n\n  return EditorState.push(editorState, newContentState, 'change-block-type');\n  // return editorState;\n};\n\n// const BEFORE = -1;\n// const AFTER = 1;\n\n/*\nUsed from [react-rte](https://github.com/sstur/react-rte/blob/master/src/lib/insertBlockAfter.js)\nby [sstur](https://github.com/sstur)\n*/\nexport const addNewBlockAt = (\n    editorState,\n    pivotBlockKey,\n    newBlockType = \"unstyled\",\n    initialData = {}\n  ) => {\n  const content = editorState.getCurrentContent();\n  const blockMap = content.getBlockMap();\n  const block = blockMap.get(pivotBlockKey);\n  const blocksBefore = blockMap.toSeq().takeUntil((v) => (v === block));\n  const blocksAfter = blockMap.toSeq().skipUntil((v) => (v === block)).rest();\n  const newBlockKey = genKey();\n\n  const newBlock = new ContentBlock({\n    key: newBlockKey,\n    type: newBlockType,\n    text: '',\n    characterList: block.getCharacterList().slice(0, 0),\n    depth: 0,\n    data: Map(getDefaultBlockData(newBlockType, initialData)),\n  });\n\n  const newBlockMap = blocksBefore.concat(\n    [[pivotBlockKey, block], [newBlockKey, newBlock]],\n    blocksAfter\n  ).toOrderedMap();\n\n  const selection = editorState.getSelection();\n\n  const newContent = content.merge({\n    blockMap: newBlockMap,\n    selectionBefore: selection,\n    selectionAfter: selection.merge({\n      anchorKey: newBlockKey,\n      anchorOffset: 0,\n      focusKey: newBlockKey,\n      focusOffset: 0,\n      isBackward: false,\n    }),\n  });\n  return EditorState.push(editorState, newContent, 'split-block');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/index.js\n **/","/*\nReturns the `boundingClientRect` of the passed selection.\n*/\nexport const getSelectionRect = (selected) => {\n  const _rect = selected.getRangeAt(0).getBoundingClientRect();\n  // selected.getRangeAt(0).getBoundingClientRect()\n  let rect = _rect && _rect.top ? _rect : selected.getRangeAt(0).getClientRects()[0];\n  if (!rect) {\n    if (selected.anchorNode && selected.anchorNode.getBoundingClientRect) {\n      rect = selected.anchorNode.getBoundingClientRect();\n      rect.isEmptyline = true;\n    } else {\n      return null;\n    }\n  }\n  return rect;\n};\n\n/*\nReturns the native selection node.\n*/\nexport const getSelection = (root) => {\n  let t = null;\n  if (root.getSelection) {\n    t = root.getSelection();\n  } else if (root.document.getSelection) {\n    t = root.document.getSelection();\n  } else if (root.document.selection) {\n    t = root.document.selection.createRange().text;\n  }\n  return t;\n};\n\n/*\nRecursively finds the DOM Element of the block where the cursor is currently present.\nIf not found, returns null.\n*/\nexport const getSelectedBlockNode = (root) => {\n  const selection = root.getSelection();\n  if (selection.rangeCount === 0) {\n    return null;\n  }\n  let node = selection.getRangeAt(0).startContainer;\n  // console.log(node);\n  do {\n    if (node.getAttribute && node.getAttribute('data-block') === 'true') {\n      return node;\n    }\n    node = node.parentNode;\n    // console.log(node);\n  } while (node !== null);\n  return null;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/selection.js\n **/","module.exports = global[\"DanteEditor\"] = require(\"-!/Users/michelson/Documents/brunch-apps/dante2/node_modules/babel-loader/lib/index.js?presets[]=es2015!/Users/michelson/Documents/brunch-apps/dante2/src/components/dante_editor.js\");\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/dante_editor.js\n **/","module.exports = global[\"Dante\"] = require(\"-!/Users/michelson/Documents/brunch-apps/dante2/node_modules/babel-loader/lib/index.js?presets[]=es2015!/Users/michelson/Documents/brunch-apps/dante2/src/components/dante.js\");\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/dante.js\n **/","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Entity, RichUtils, AtomicBlockUtils, EditorBlock } from 'draft-js'\n\nimport axios from \"axios\"\n\nimport { updateDataOfBlock } from '../../model/index.js'\n\nexport default class EmbedBlock extends React.Component {\n  constructor(props) {\n    super(props)\n    //api_key = \"86c28a410a104c8bb58848733c82f840\"\n\n    this.updateData = this.updateData.bind(this)\n    this.dataForUpdate = this.dataForUpdate.bind(this)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.state = {\n      embed_data: this.defaultData(),\n      error: \"\"\n    }\n  }\n\n  defaultData() {\n    const existing_data = this.props.block.getData().toJS()\n    return existing_data.embed_data || {}\n  }\n\n  // will update block state\n  updateData() {\n    const { block, blockProps } = this.props\n    const { getEditorState, setEditorState } = this.props.blockProps\n    const data = block.getData()\n    const newData = data.merge(this.state)\n    return setEditorState(updateDataOfBlock(getEditorState(), block, newData))\n  }\n\n  dataForUpdate() {\n\n    return this.props.blockProps.data.toJS()\n  }\n\n  componentDidMount() {\n\n    if (!this.props.blockProps.data) {\n      return\n    }\n\n    // ensure data isnt already loaded\n    // unless @dataForUpdate().endpoint or @dataForUpdate().provisory_text\n\n    if (!this.dataForUpdate().endpoint && !this.dataForUpdate().provisory_text) {\n      //debugger\n      return\n    }\n\n    return axios({\n      method: 'get',\n      url: `${ this.dataForUpdate().endpoint }${ this.dataForUpdate().provisory_text }&scheme=https`\n    }).then(result => {\n\n      return this.setState({ embed_data: result.data } //JSON.parse(data.responseText)\n      , this.updateData)\n    }).catch(error => {\n\n      this.setState({\n        error: error.response.data.error_message })\n      return console.log(\"TODO: error\")\n    })\n  }\n\n  classForImage() {\n    if (this.state.embed_data.images) {\n      return \"\"\n    } else {\n      return \"mixtapeImage--empty u-ignoreBlock\"\n    }\n  }\n  //if @state.embed_data.thumbnail_url then \"\" else \"mixtapeImage--empty u-ignoreBlock\"\n\n  picture() {\n    if (this.state.embed_data.images && this.state.embed_data.images.length > 0) {\n      return this.state.embed_data.images[0].url\n    } else {\n      return \"\"\n    }\n  }\n\n  render() {\n    //block = @.props\n    //foo = @.props.blockProps\n    //data = Entity.get(block.block.getEntityAt(0)).getData()\n    console.log(\"ERROR\", this.state.error)\n    return (\n      <span>\n        { this.picture()\n          ? <a\n              target='_blank'\n              className={ `js-mixtapeImage mixtapeImage ${ this.classForImage() }` }\n              href={ this.state.embed_data.url }\n              style={ { backgroundImage: `url('${ this.picture() }')` } }\n            />\n          : undefined\n        }\n        { this.state.error ? \n          <h2>{ this.state.error }</h2>\n          : undefined\n        }\n        <a\n          className='markup--anchor markup--mixtapeEmbed-anchor'\n          target='_blank'\n          href={ this.state.embed_data.url }\n        >\n          <strong className='markup--strong markup--mixtapeEmbed-strong'>\n            { this.state.embed_data.title }\n          </strong>\n          <em className='markup--em markup--mixtapeEmbed-em'>\n            { this.state.embed_data.description }\n          </em>\n        </a>{ this.state.embed_data.provider_url }\n      </span>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/blocks/embed.js\n **/","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport {\n  Entity, \n  RichUtils, \n  AtomicBlockUtils, \n  EditorBlock, \n  EditorState } from 'draft-js'\n\nimport axios from \"axios\"\n\nimport { updateDataOfBlock } from '../../model/index.js'\n\nexport default class ImageBlock extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.blockPropsSrc = this.blockPropsSrc.bind(this)\n    this.defaultUrl = this.defaultUrl.bind(this)\n    this.defaultAspectRatio = this.defaultAspectRatio.bind(this)\n    this.updateData = this.updateData.bind(this)\n    this.replaceImg = this.replaceImg.bind(this)\n    this.startLoader = this.startLoader.bind(this)\n    this.stopLoader = this.stopLoader.bind(this)\n    this.handleUpload = this.handleUpload.bind(this)\n    this.aspectRatio = this.aspectRatio.bind(this)\n    this.updateDataSelection = this.updateDataSelection.bind(this)\n    this.handleGrafFigureSelectImg = this.handleGrafFigureSelectImg.bind(this)\n    this.getUploadUrl = this.getUploadUrl.bind(this)\n    this.uploadFile = this.uploadFile.bind(this)\n    this.uploadCompleted = this.uploadCompleted.bind(this)\n    this.updateProgressBar = this.updateProgressBar.bind(this)\n    this.placeHolderEnabled = this.placeHolderEnabled.bind(this)\n    this.placeholderText = this.placeholderText.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.render = this.render.bind(this)\n    let existing_data = this.props.block.getData().toJS()\n\n    this.config = this.props.blockProps.config\n    this.file = this.props.blockProps.data.get('file')\n    this.state = {\n      loading: false,\n      selected: false,\n      loading_progress: 0,\n      enabled: false,\n      caption: this.defaultPlaceholder(),\n      direction: existing_data.direction || \"center\",\n      width: 0,\n      height: 0,\n      file: null,\n      url: this.blockPropsSrc() || this.defaultUrl(existing_data),\n      aspect_ratio: this.defaultAspectRatio(existing_data)\n    }\n  }\n\n  blockPropsSrc() {\n    // console.log @.props.blockProps.data.src\n    return this.props.blockProps.data.src\n  }\n  /*\n  debugger\n  block = @.props\n  entity = block.block.getEntityAt(0)\n  if entity\n    data = Entity.get(entity).getData().src\n  else\n    null\n  */\n\n  defaultUrl(data) {\n    if (data.url) {\n      return data.url\n    }\n\n    if (data.url) {\n      if (data.file) {\n        return URL.createObjectURL(data.file)\n      } else {\n        return data.url\n      }\n    } else {\n      return this.props.blockProps.data.src\n    }\n  }\n\n  defaultPlaceholder() {\n    return this.props.blockProps.config.image_caption_placeholder\n  }\n\n  defaultAspectRatio(data) {\n    if (data.aspect_ratio) {\n      return {\n        width: data.aspect_ratio['width'],\n        height: data.aspect_ratio['height'],\n        ratio: data.aspect_ratio['ratio']\n      }\n    } else {\n      return {\n        width: 0,\n        height: 0,\n        ratio: 100\n      }\n    }\n  }\n\n  getAspectRatio(w, h) {\n    let maxWidth = 1000\n    let maxHeight = 1000\n    let ratio = 0\n    let width = w // Current image width\n    let height = h // Current image height\n\n    // Check if the current width is larger than the max\n    if (width > maxWidth) {\n      ratio = maxWidth / width // get ratio for scaling image\n      height = height * ratio // Reset height to match scaled image\n      width = width * ratio // Reset width to match scaled image\n\n      // Check if current height is larger than max\n    } else if (height > maxHeight) {\n      ratio = maxHeight / height // get ratio for scaling image\n      width = width * ratio // Reset width to match scaled image\n      height = height * ratio // Reset height to match scaled image\n    }\n\n    let fill_ratio = height / width * 100\n    let result = { width, height, ratio: fill_ratio }\n    // console.log result\n    return result\n  }\n\n  // will update block state\n  updateData() {\n    let { blockProps } = this.props\n    let { block } = this.props\n    let { getEditorState } = this.props.blockProps\n    let { setEditorState } = this.props.blockProps\n    let data = block.getData()\n    let newData = data.merge(this.state).merge({ forceUpload: false })\n    return setEditorState(updateDataOfBlock(getEditorState(), block, newData))\n  }\n\n  replaceImg() {\n    this.img = new Image()\n    this.img.src = this.refs.image_tag.src\n    this.setState({\n      url: this.img.src })\n    let self = this\n    // exit only when not blob and not forceUload\n    if (!this.img.src.includes(\"blob:\") && !this.props.block.data.get(\"forceUpload\")) {\n      return\n    }\n    return this.img.onload = () => {\n      this.setState({\n        width: this.img.width,\n        height: this.img.height,\n        aspect_ratio: self.getAspectRatio(this.img.width, this.img.height)\n      })\n\n      return this.handleUpload()\n    }\n  }\n\n  startLoader() {\n    return this.setState({\n      loading: true })\n  }\n\n  stopLoader() {\n    return this.setState({\n      loading: false })\n  }\n\n  handleUpload() {\n    this.startLoader()\n    this.props.blockProps.addLock()\n    this.updateData()\n    return this.uploadFile()\n  }\n\n  componentDidMount() {\n    return this.replaceImg()\n  }\n\n  aspectRatio() {\n    return {\n      maxWidth: `${ this.state.aspect_ratio.width }`,\n      maxHeight: `${ this.state.aspect_ratio.height }`,\n      ratio: `${ this.state.aspect_ratio.height }`\n    }\n  }\n\n  updateDataSelection() {\n    const { getEditorState, setEditorState } = this.props.blockProps\n    const newselection = getEditorState().getSelection().merge({\n      anchorKey: this.props.block.getKey(),\n      focusKey: this.props.block.getKey()\n    })\n\n    return setEditorState(EditorState.forceSelection(getEditorState(), newselection))\n  }\n\n  handleGrafFigureSelectImg(e) {\n    e.preventDefault()\n    return this.setState({ selected: true }, this.updateDataSelection)\n  }\n\n  //main_editor.onChange(main_editor.state.editorState)\n\n  coords() {\n    return {\n      maxWidth: `${ this.state.aspect_ratio.width }px`,\n      maxHeight: `${ this.state.aspect_ratio.height }px`\n    }\n  }\n\n  getBase64Image(img) {\n    let canvas = document.createElement(\"canvas\")\n    canvas.width = img.width\n    canvas.height = img.height\n    let ctx = canvas.getContext(\"2d\")\n    ctx.drawImage(img, 0, 0)\n    let dataURL = canvas.toDataURL(\"image/png\")\n\n    return dataURL\n  }\n\n  formatData() {\n    let formData = new FormData()\n    if (this.file) {\n      let formName = this.config.upload_formName || 'file'\n\n      formData.append(formName, this.file)\n      return formData\n    } else {\n      formData.append('url', this.props.blockProps.data.get(\"url\"))\n      return formData\n    }\n  }\n\n  getUploadUrl() {\n    let url = this.config.upload_url\n    if (typeof url === \"function\") {\n      return url()\n    } else {\n      return url\n    }\n  }\n\n  getUploadHeaders()  {\n   return this.config.upload_headers || {}\n  }\n\n  uploadFile() {\n    let handleUp\n    axios({\n      method: 'post',\n      url: this.getUploadUrl(),\n      headers: this.getUploadHeaders(),\n      data: this.formatData(),\n      onUploadProgress: e => {\n        return this.updateProgressBar(e)\n      }\n    }).then(result => {\n      this.uploadCompleted(result.data)\n      this.props.blockProps.removeLock()\n      this.stopLoader()\n      this.file = null\n\n      if (this.config.upload_callback) {\n        return this.config.upload_callback(result, this)\n      }\n    }).catch(error => {\n      this.props.blockProps.removeLock()\n      this.stopLoader()\n\n      console.log(`ERROR: got error uploading file ${ error }`)\n      if (this.config.upload_error_callback) {\n        return this.config.upload_error_callback(error, this)\n      }\n    })\n\n    return handleUp = json_response => {\n      return this.uploadCompleted(json_response, n)\n    }\n  }\n\n  uploadCompleted(json) {\n    return this.setState({ url: json.url }, this.updateData)\n  }\n\n  updateProgressBar(e) {\n    let complete = this.state.loading_progress\n    if (e.lengthComputable) {\n      complete = e.loaded / e.total * 100\n      complete = complete != null ? complete : { complete: 0 }\n      this.setState({\n        loading_progress: complete })\n      return console.log(`complete: ${ complete }`)\n    }\n  }\n\n  placeHolderEnabled() {\n    return this.state.enabled || this.props.block.getText()\n  }\n\n  placeholderText() {\n    if (this.placeHolderEnabled()) {\n      return \"\"\n    }\n    return \"Write caption for image (optional)\"\n  }\n\n  handleFocus(e) {\n    // console.log \"focus on placeholder\"\n    return setTimeout(() => {\n      return this.setState({\n        enabled: true })\n    }, 0)\n  }\n\n  render() {\n\n    return (\n      <div ref=\"image_tag2\" suppressContentEditableWarning={true}>\n        <div className=\"aspectRatioPlaceholder is-locked\" \n          style={this.coords()} \n          onClick={this.handleGrafFigureSelectImg}>\n          <div style={{ paddingBottom: `${ this.state.aspect_ratio.ratio }%` }} \n            className='aspect-ratio-fill' />\n          <img src={this.state.url} \n            ref=\"image_tag\" \n            height={this.state.aspect_ratio.height} \n            width={this.state.aspect_ratio.width} \n            className='graf-image' />\n          <Loader toggle={this.state.loading} \n            progress={this.state.loading_progress} />\n        </div>\n        <figcaption className='imageCaption' onMouseDown={this.handleFocus}>\n          { !this.state.enabled ? \n            <span className=\"danteDefaultPlaceholder\">\n              {this.placeholderText()}\n            </span> : undefined}\n          <EditorBlock {...Object.assign({}, this.props, { \n            \"editable\": true, \"className\": \"imageCaption\" })\n            } />\n        </figcaption>\n      </div>\n    )\n  }\n}\n\nclass Loader extends React.Component {\n\n  render() {\n    return (\n      <div>\n        { this.props.toggle\n          ? <div className=\"image-upoader-loader\">\n              <p>\n                { this.props.progress === 100\n                  ? \"processing image...\"\n                  : <span>\n                      <span>loading</span> { Math.round( this.props.progress ) }\n                    </span>\n                }\n              </p>\n            </div>\n          : undefined\n        }\n      </div>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/blocks/image.js\n **/","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Entity, RichUtils, AtomicBlockUtils, EditorBlock } from 'draft-js'\n\nexport default class PlaceholderBlock extends React.Component {\n  constructor(props) {\n    super(props)\n    this.placeholderText = this.placeholderText.bind(this)\n    this.placeholderFromProps = this.placeholderFromProps.bind(this)\n    this.defaultText = this.defaultText.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.classForDefault = this.classForDefault.bind(this)\n    this.state = {\n      enabled: false,\n      data: this.props.blockProps.data.toJS()\n    }\n  }\n\n  placeholderText() {\n    if (this.state.enabled) {\n      return \"\"\n    }\n    return this.props.blockProps.data.toJS().placeholder || this.placeholderFromProps() || this.defaultText()\n  }\n  //if @.props.blockProps.data then @.props.blockProps.data.placeholder else @defaultText()\n\n\n  placeholderFromProps() {\n    return this.props.block.toJS().placeholder\n  }\n\n  defaultText() {\n    return \"write something \"\n  }\n\n  componentDidMount() {}\n\n  handleFocus(e) {\n    // console.log \"focus on placeholder\"\n    return setTimeout(() => {\n      return this.setState({\n        enabled: true })\n    }, 0)\n  }\n\n  classForDefault() {\n    if (!this.state.enabled) {\n      return \"defaultValue defaultValue--root\"\n    } else {\n      return \"\"\n    }\n  }\n\n  render() {\n    return (\n      <span className={this.classForDefault()} onMouseDown={this.handleFocus}>\n        {this.placeholderText()}\n        <EditorBlock {...Object.assign({}, this.props, {\n          \"className\": \"imageCaption\",\n          \"placeholder\": \"escrive alalal\"\n        })} />\n      </span>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/blocks/placeholder.js\n **/","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Entity, RichUtils, AtomicBlockUtils, EditorBlock } from 'draft-js'\n\nimport { updateDataOfBlock } from '../../model/index.js'\n\nimport axios from \"axios\"\n\nexport default class VideoBlock extends React.Component {\n  constructor(props) {\n    super(props)\n    //api_key = \"86c28a410a104c8bb58848733c82f840\"\n\n    this.updateData = this.updateData.bind(this)\n    this.dataForUpdate = this.dataForUpdate.bind(this)\n    this.state = { embed_data: this.defaultData() }\n  }\n\n  defaultData() {\n    let existing_data = this.props.block.getData().toJS()\n    return existing_data.embed_data || {}\n  }\n\n  // will update block state\n  updateData() {\n    const { block, blockProps } = this.props\n    const { getEditorState, setEditorState } = this.props.blockProps\n    const data = block.getData()\n    const newData = data.merge(this.state)\n    return setEditorState(updateDataOfBlock(getEditorState(), block, newData))\n  }\n\n  dataForUpdate() {\n    return this.props.blockProps.data.toJS()\n  }\n\n  componentDidMount() {\n\n    if (!this.props.blockProps.data) {\n      return\n    }\n    // ensure data isnt already loaded\n    if (!this.dataForUpdate().endpoint && !this.dataForUpdate().provisory_text) {\n      return\n    }\n\n    return axios({\n      method: 'get',\n      url: `${ this.dataForUpdate().endpoint }${ this.dataForUpdate().provisory_text }&scheme=https`\n    }).then(result => {\n      return this.setState({ embed_data: result.data } //JSON.parse(data.responseText)\n      , this.updateData)\n    }).catch(error => {\n      return console.log(\"TODO: error\")\n    })\n  }\n\n  classForImage() {\n    if (this.state.embed_data.thumbnail_url) {\n      return \"\"\n    } else {\n      return \"mixtapeImage--empty u-ignoreBlock\"\n    }\n  }\n\n  render() {\n    return (\n      <figure className='graf--figure graf--iframe graf--first' tabIndex='0'>\n        <div className='iframeContainer' \n          dangerouslySetInnerHTML={ { __html: this.state.embed_data.html } } />\n        <figcaption className='imageCaption'>\n          <EditorBlock {...Object.assign({}, this.props, { \"className\": \"imageCaption\" })} />\n        </figcaption>\n      </figure>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/blocks/video.js\n **/","import React from 'react'\n\nclass Debug extends React.Component {\n\n  constructor() {\n    super()\n\n    this.handleToggleReadOnly = this.handleToggleReadOnly.bind(this)\n    this.handleTestEmitAndDecode = this.handleTestEmitAndDecode.bind(this)\n    this.handleTestEmitTEXT = this.handleTestEmitTEXT.bind(this)\n    this.testEmitAndDecode = this.testEmitAndDecode.bind(this)\n    this.testEmitTEXT = this.testEmitTEXT.bind(this)\n    this.logState = this.logState.bind(this)\n    this.toggleDisplay = this.toggleDisplay.bind(this)\n    this.open = this.open.bind(this)\n    this.render = this.render.bind(this)\n    this.state = {\n      output: \"\",\n      display: \"none\"\n    }\n  }\n\n  handleToggleReadOnly(e) {\n    e.preventDefault()\n    this.props.editor.toggleEditable()\n    return false\n  }\n\n  handleTestEmitAndDecode(e) {\n    e.preventDefault()\n    return this.testEmitAndDecode()\n  }\n\n  handleTestEmitTEXT(e) {\n    e.preventDefault()\n    return this.testEmitTEXT()\n  }\n\n  testEmitAndDecode(e) {\n    const raw_as_json = this.props.editor.emitSerializedOutput()\n    this.props.editor.setState({ \n      editorState: this.props.editor.decodeEditorContent(raw_as_json) }, \n      this.logState(JSON.stringify(raw_as_json)))\n    return false\n  }\n\n  testEmitTEXT() {\n    const text = this.props.editor.getTextFromEditor()\n    return this.logState(text)\n  }\n\n  logState(raw) {\n    return this.setState({ output: raw }, this.open)\n  }\n\n  toggleDisplay(e) {\n    e.preventDefault()\n    const d = this.state.display === \"block\" ? \"none\" : this.state.display\n    return this.setState({\n      display: d })\n  }\n\n  open() {\n    return this.setState({\n      display: \"block\" })\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"debugControls\">\n          <ul>\n            <li> LOCKS: { this.props.editor.state.locks } </li>\n            <li>\n              <a href=\"#\" onClick={ this.handleToggleReadOnly }>\n                EDITABLE: { this.props.editor.state.read_only ? 'NO' : 'YES' }\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" onClick={ this.handleTestEmitTEXT }>EDITOR TEXT</a>\n            </li>\n            <li>\n              <a href=\"#\" onClick={ this.handleTestEmitAndDecode }>EDITOR STATE</a>\n            </li>\n          </ul>\n        </div>\n        <div className=\"debugZone\" style={ { display: this.state.display } }>\n          <a href=\"#\" className=\"dante-debug-close close\" onClick={ this.toggleDisplay } />\n          <div className=\"debugOutput\">\n            <h2>EDITOR OUTPUT</h2>\n            {\n              this.state.output.length > 0\n              ? <pre>{ this.state.output }</pre>\n              : undefined\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Debug\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/debug.js\n **/","import React from 'react'\nimport { Entity } from 'draft-js'\n\nexport default class Link extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this._validateLink = this._validateLink.bind(this)\n    this._checkProtocol = this._checkProtocol.bind(this)\n    this._showPopLinkOver = this._showPopLinkOver.bind(this)\n    this._hidePopLinkOver = this._hidePopLinkOver.bind(this)\n    this.isHover = false\n  }\n\n  _validateLink() {\n    const pattern = new RegExp('^(https?:\\/\\/)?' + // protocol\n    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name\n    '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address\n    '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path\n    '(\\?[&a-z\\d%_.~+=-]*)?' + // query string\n    '(\\#[-a-z\\d_]*)?$', 'i') // fragment locater\n    if (!pattern.test(str)) {\n      alert(\"Please enter a valid URL.\")\n      return false\n    } else {\n      return true\n    }\n  }\n\n  _checkProtocol() {\n    return console.log(\"xcvd\")\n  }\n\n  _showPopLinkOver(e) {\n    if (!this.data.showPopLinkOver) {\n      return\n    }\n    return this.data.showPopLinkOver(this.refs.link)\n  }\n\n  _hidePopLinkOver(e) {\n    if (!this.data.hidePopLinkOver) {\n      return\n    }\n    return this.data.hidePopLinkOver()\n  }\n\n  render() {\n    this.data = Entity.get(this.props.entityKey).getData()\n\n    return (\n      <a\n        ref=\"link\"\n        href={ this.data.url }\n        className=\"markup--anchor\"\n        onMouseOver={ this._showPopLinkOver }\n        onMouseOut={ this._hidePopLinkOver }\n      >\n        { this.props.children }\n      </a>\n    )\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/decorators/link.js\n **/","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { \n  Entity, \n  RichUtils, \n  AtomicBlockUtils, \n  EditorState \n  } from 'draft-js'\n\nimport { \n  addNewBlock, \n  resetBlockWithType, \n  updateDataOfBlock, \n  getCurrentBlock, \n  getNode } from '../../model/index.js'\n\nimport { getSelectionRect, getSelection } from \"../../utils/selection.js\"\n\nclass DanteInlineTooltip extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.display = this.display.bind(this)\n    this.show = this.show.bind(this)\n    this.hide = this.hide.bind(this)\n    this._toggleScaled = this._toggleScaled.bind(this)\n    this.scale = this.scale.bind(this)\n    this.collapse = this.collapse.bind(this)\n    this.componentWillReceiveProps = this.componentWillReceiveProps.bind(this)\n    this.clickOnFileUpload = this.clickOnFileUpload.bind(this)\n    this.handlePlaceholder = this.handlePlaceholder.bind(this)\n    this.insertImage = this.insertImage.bind(this)\n    this.handleFileInput = this.handleFileInput.bind(this)\n    this.widgets = this.widgets.bind(this)\n    this.clickHandler = this.clickHandler.bind(this)\n    this.relocate = this.relocate.bind(this)\n    this.state = {\n      position: { top: 0, left: 0 },\n      show: false,\n      scaled: false\n    }\n  }\n\n  display(b) {\n    if (b) {\n      return this.show()\n    } else {\n      return this.hide()\n    }\n  }\n\n  show() {\n    return this.setState({\n      show: true })\n  }\n\n  hide() {\n    return this.setState({\n      show: false })\n  }\n\n  setPosition(coords) {\n    return this.setState({\n      position: coords })\n  }\n\n  _toggleScaled(ev) {\n    if (this.state.scaled) {\n      return this.collapse()\n    } else {\n      return this.scale()\n    }\n  }\n\n  scale() {\n    return this.setState({\n      scaled: true })\n  }\n\n  collapse() {\n    return this.setState({\n      scaled: false })\n  }\n\n  componentWillReceiveProps(newProps) {\n    return this.collapse()\n  }\n\n  activeClass() {\n    //if @props.show then \"is-active\" else \"\"\n    if (this.isActive()) {\n      return \"is-active\"\n    } else {\n      return \"\"\n    }\n  }\n\n  isActive() {\n    return this.state.show\n  }\n\n  scaledClass() {\n    if (this.state.scaled) {\n      return \"is-scaled\"\n    } else {\n      return \"\"\n    }\n  }\n\n  scaledWidth() {\n    if (this.state.scaled) {\n      return \"124\"\n    } else {\n      return \"0\"\n    }\n  }\n\n  clickOnFileUpload() {\n    this.refs.fileInput.click()\n    this.collapse()\n    return this.hide()\n  }\n\n  handlePlaceholder(input) {\n    let opts = {\n      type: input.widget_options.insert_block,\n      placeholder: input.options.placeholder,\n      endpoint: input.options.endpoint\n    }\n\n    return this.props.onChange(resetBlockWithType(this.props.editorState, 'placeholder', opts))\n  }\n\n  insertImage(file) {\n    let opts = {\n      url: URL.createObjectURL(file),\n      file\n    }\n\n    return this.props.onChange(addNewBlock(this.props.editorState, 'image', opts))\n  }\n\n  handleFileInput(e) {\n    let fileList = e.target.files\n    // TODO: support multiple file uploads\n    /*\n    Object.keys(fileList).forEach (o)=>\n      @.insertImage(fileList[0])\n    */\n    return this.insertImage(fileList[0])\n  }\n\n  widgets() {\n    return this.props.editor.widgets\n  }\n\n  clickHandler(e, type) {\n    let request_block = this.widgets().find(o => o.icon === type)\n\n    switch (request_block.widget_options.insertion) {\n      case \"upload\":\n        return this.clickOnFileUpload(e, request_block)\n      case \"placeholder\":\n        return this.handlePlaceholder(request_block)\n      default:\n        return console.log(`WRONG TYPE FOR ${ request_block.widget_options.insertion }`)\n    }\n  }\n\n  getItems() {\n    return this.widgets().filter(o => {\n      return o.widget_options.displayOnInlineTooltip\n    })\n  }\n\n  isDescendant(parent, child) {\n    let node = child.parentNode\n    while (node !== null) {\n      if (node === parent) {\n        return true\n      }\n      node = node.parentNode\n    }\n    return false\n  }\n\n  relocate() {\n    let { editorState } = this.props\n\n    if (editorState.getSelection().isCollapsed()) {\n\n      let currentBlock = getCurrentBlock(editorState)\n      let blockType = currentBlock.getType()\n\n      let contentState = editorState.getCurrentContent()\n      let selectionState = editorState.getSelection()\n\n      let block = contentState.getBlockForKey(selectionState.anchorKey)\n\n      let nativeSelection = getSelection(window)\n      if (!nativeSelection.rangeCount) {\n        return\n      }\n\n      let node = getNode()\n\n      let selectionBoundary = getSelectionRect(nativeSelection)\n      let coords = selectionBoundary //utils.getSelectionDimensions(node)\n\n      let parent = ReactDOM.findDOMNode(this.props.editor)\n      let parentBoundary = parent.getBoundingClientRect()\n\n      // hide if selected node is not in editor\n      // debugger\n      //console.log @isDescendant(parent, nativeSelection.anchorNode)\n\n      if (!this.isDescendant(parent, nativeSelection.anchorNode)) {\n        this.hide()\n        return\n      }\n\n      // checkeamos si esta vacio\n      this.display(block.getText().length === 0 && blockType === \"unstyled\")\n      return this.setPosition({\n        top: coords.top + window.scrollY,\n        left: coords.left + window.scrollX - 60\n      })\n\n      /*\n      @refs.image_popover.display(blockType is \"image\")\n       if blockType is \"image\"\n        selectionBoundary = node.anchorNode.parentNode.parentNode.parentNode.getBoundingClientRect()\n        *el = document.querySelector(\"#dante_image_popover\")\n        el = @refs.image_popover.refs.image_popover\n        padd   = el.offsetWidth / 2\n        @refs.image_popover.setPosition\n          top: selectionBoundary.top - parentBoundary.top + 60\n          left: selectionBoundary.left + (selectionBoundary.width / 2) - padd\n\n        *@setState\n        *  image_popover_position:\n        *    top: selectionBoundary.top - parentBoundary.top + 60\n        *    left: selectionBoundary.left + (selectionBoundary.width / 2) - padd\n        *\n      */\n    } else {\n      return this.hide()\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className={ `inlineTooltip ${ this.activeClass() } ${ this.scaledClass() }` }\n        style={ this.state.position }\n      >\n        <button\n          className=\"inlineTooltip-button control\"\n          title=\"Close Menu\"\n          data-action=\"inline-menu\"\n          onClick={ this._toggleScaled }\n        >\n          <span className=\"tooltip-icon dante-icon-plus\" />\n        </button>\n        <div\n           className=\"inlineTooltip-menu\"\n           style={ { width: `${ this.scaledWidth() }px` } }\n         >\n          { this.getItems().map( (item, i) => {\n            return  <InlineTooltipItem\n                      item={ item }\n                      key={ i }\n                      clickHandler={ this.clickHandler }\n                    />\n            })\n          }\n          <input\n           type=\"file\"\n           style={ { display: 'none' } }\n           ref=\"fileInput\"\n           multiple=\"multiple\"\n           onChange={ this.handleFileInput }\n         />\n        </div>\n      </div>\n    )\n  }\n}\n\nclass InlineTooltipItem extends React.Component {\n\n  constructor(...args) {\n    super(...args)\n    this.clickHandler = this.clickHandler.bind(this)\n  }\n\n  clickHandler(e) {\n    e.preventDefault()\n    return this.props.clickHandler(e, this.props.item.icon)\n  }\n\n  render() {\n    return (\n      <button\n        className=\"inlineTooltip-button scale\"\n        title={ this.props.title }\n        onMouseDown={ this.clickHandler }\n      >\n        <span className={ `tooltip-icon dante-icon-${ this.props.item.icon }` } />\n      </button>\n    )\n  }\n}\n\nexport default DanteInlineTooltip\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/popovers/addButton.js\n **/","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Entity, RichUtils, AtomicBlockUtils, EditorState } from 'draft-js'\n\nimport { getSelectionRect, getSelection } from \"../../utils/selection.js\"\n\nimport { getCurrentBlock, getNode } from '../../model/index.js'\n\nclass DanteImagePopover extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.display = this.display.bind(this)\n    this.show = this.show.bind(this)\n    this.hide = this.hide.bind(this)\n    this._toggleScaled = this._toggleScaled.bind(this)\n    this.scale = this.scale.bind(this)\n    this.collapse = this.collapse.bind(this)\n    this.relocate = this.relocate.bind(this)\n    this.componentWillReceiveProps = this.componentWillReceiveProps.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n    this.state = {\n      position: {\n        top: 0,\n        left: 0\n      },\n      show: false,\n      scaled: false,\n      buttons: [{ type: \"left\" }, \n                { type: \"center\"}, \n                { type: \"fill\" }, \n                { type: \"wide\" }]\n    }\n  }\n\n  display(b) {\n    if (b) {\n      return this.show()\n    } else {\n      return this.hide()\n    }\n  }\n\n  show() {\n    return this.setState({\n      show: true })\n  }\n\n  hide() {\n    return this.setState({\n      show: false })\n  }\n\n  setPosition(coords) {\n    return this.setState({\n      position: coords })\n  }\n\n  _toggleScaled(ev) {\n    if (this.state.scaled) {\n      return this.collapse()\n    } else {\n      return this.scale()\n    }\n  }\n\n  scale() {\n    return this.setState({\n      scaled: true })\n  }\n\n  collapse() {\n    return this.setState({\n      scaled: false })\n  }\n\n  relocate() {\n    let { editorState } = this.props\n\n    if (editorState.getSelection().isCollapsed()) {\n\n      let currentBlock = getCurrentBlock(editorState)\n      let blockType = currentBlock.getType()\n\n      let contentState = editorState.getCurrentContent()\n      let selectionState = editorState.getSelection()\n\n      let block = contentState.getBlockForKey(selectionState.anchorKey)\n\n      let nativeSelection = getSelection(window)\n      if (!nativeSelection.rangeCount) {\n        return\n      }\n\n      let node = getNode()\n\n      let selectionBoundary = getSelectionRect(nativeSelection)\n      let coords = selectionBoundary\n\n      let parent = ReactDOM.findDOMNode(this.props.editor)\n      let parentBoundary = parent.getBoundingClientRect()\n\n      this.display(blockType === \"image\")\n\n      if (blockType === \"image\") {\n        selectionBoundary = node.anchorNode.parentNode.parentNode\n                                           .parentNode.getBoundingClientRect()\n        let el = this.refs.image_popover\n        let padd = el.offsetWidth / 2\n        return this.setPosition({\n          top: selectionBoundary.top - parentBoundary.top + 60,\n          left: selectionBoundary.left + selectionBoundary.width / 2 - padd\n        })\n      }\n    } else {\n      return this.hide()\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    return this.collapse()\n  }\n\n  getStyle() {\n    if (!this.state.position) {\n      return {}\n    }\n  }\n\n  handleClick(item) {\n    return this.props.editor.setDirection(item.type)\n  }\n\n  render() {\n    return (\n      <div\n        ref=\"image_popover\"\n        className={ `dante-popover popover--Aligntooltip popover--top popover--animated ${ this.state.show ? 'is-active' : undefined }` }\n        style={ \n          { top: this.state.position.top,\n            left: this.state.position.left }\n          }\n      >\n        <div className='popover-inner'>\n          <ul className='dante-menu-buttons'>\n            { this.state.buttons.map( (item, i) => {\n                return  <DanteImagePopoverItem\n                          item={ item }\n                          handleClick={ this.handleClick }\n                          key={ i }\n                        />\n              })\n            }\n          </ul>\n        </div>\n        <div className='popover-arrow' />\n      </div>\n    )\n  }\n}\n\nclass DanteImagePopoverItem extends React.Component {\n\n  constructor(...args) {\n    super(...args)\n    this.handleClick = this.handleClick.bind(this)\n    this.render = this.render.bind(this)\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    return this.props.handleClick(this.props.item)\n  }\n\n  render() {\n    return <li \n      className={`dante-menu-button align-${ this.props.item.type }`} \n      onMouseDown={this.handleClick}>\n        <span className={`tooltip-icon dante-icon-image-${ this.props.item.type }`} />\n    </li>\n  }\n}\n\nexport default DanteImagePopover\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/popovers/image.js\n **/","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { getCurrentBlock } from '../../model/index.js'\n\nclass DanteAnchorPopover extends React.Component {\n\n  constructor(props) {\n\n    super(props)\n    this.display = this.display.bind(this)\n    this.show = this.show.bind(this)\n    this.hide = this.hide.bind(this)\n    this.relocate = this.relocate.bind(this)\n    this.render = this.render.bind(this)\n    this.state = {\n      position: {\n        top: 0,\n        left: 0\n      },\n      show: false,\n      url: \"\"\n    }\n  }\n\n  display(b) {\n    if (b) {\n      return this.show()\n    } else {\n      return this.hide()\n    }\n  }\n\n  show() {\n    return this.setState({\n      show: true })\n  }\n\n  hide() {\n    return this.setState({\n      show: false })\n  }\n\n  setPosition(coords) {\n    return this.setState({\n      position: coords })\n  }\n\n  relocate(node) {\n    if (node == null) {\n      node = null\n    }\n    if (!node) {\n      return\n    }\n\n    let { editorState } = this.props\n    let currentBlock = getCurrentBlock(editorState)\n    let blockType = currentBlock.getType()\n\n    let contentState = editorState.getCurrentContent()\n    let selectionState = editorState.getSelection()\n\n    let selectionBoundary = node.getBoundingClientRect()\n    let coords = selectionBoundary\n\n    let el = this.refs.dante_popover\n    let padd = el.offsetWidth / 2\n\n    let parent = ReactDOM.findDOMNode(this.props.editor)\n    let parentBoundary = parent.getBoundingClientRect()\n\n    return {\n      top: selectionBoundary.top - parentBoundary.top + 160,\n      left: selectionBoundary.left + selectionBoundary.width / 2 - padd\n    }\n  }\n\n  render() {\n    let { position } = this.state\n    let style = {\n      left: position.left,\n      top: position.top,\n      visibility: `${ this.state.show ? 'visible' : 'hidden' }`\n    }\n    return (\n      <div\n        ref=\"dante_popover\"\n        className='dante-popover popover--tooltip popover--Linktooltip popover--bottom is-active'\n        style={ style }\n        onMouseOver={ this.props.handleOnMouseOver }\n        onMouseOut={ this.props.handleOnMouseOut }\n      >\n        <div className='popover-inner'>\n          <a href={ this.props.url } target='_blank'>\n            { this.state.url }\n          </a>\n        </div>\n        <div className='popover-arrow' />\n      </div>\n    )\n  }\n}\n\nexport default DanteAnchorPopover\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/popovers/link.js\n **/","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { \n  convertToRaw, \n  CompositeDecorator, \n  getVisibleSelectionRect, \n  getDefaultKeyBinding, \n  getSelectionOffsetKeyForNode, \n  KeyBindingUtil, \n  ContentState, \n  Editor, \n  EditorState, \n  Entity, \n  RichUtils } from 'draft-js'\n\nimport { getSelectionRect, getSelection } from \"../../utils/selection.js\"\n\nimport { getCurrentBlock } from '../../model/index.js'\n\nclass DanteTooltip extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this._clickInlineHandler = this._clickInlineHandler.bind(this)\n    this.display = this.display.bind(this)\n    this.show = this.show.bind(this)\n    this.hide = this.hide.bind(this)\n    this.relocate = this.relocate.bind(this)\n    this._clickBlockHandler = this._clickBlockHandler.bind(this)\n    this.displayLinkMode = this.displayLinkMode.bind(this)\n    this.displayActiveMenu = this.displayActiveMenu.bind(this)\n    this._enableLinkMode = this._enableLinkMode.bind(this)\n    this._disableLinkMode = this._disableLinkMode.bind(this)\n    this.handleInputEnter = this.handleInputEnter.bind(this)\n    this.confirmLink = this.confirmLink.bind(this)\n    this.inlineItems = this.inlineItems.bind(this)\n    this.blockItems = this.blockItems.bind(this)\n    this.getDefaultValue = this.getDefaultValue.bind(this)\n    this.getVisibleSelectionRect = getVisibleSelectionRect\n    this.state = {\n      link_mode: false,\n      show: false,\n      position: {}\n    }\n  }\n\n  _clickInlineHandler(ev, style) {\n    ev.preventDefault()\n\n    this.props.onChange(RichUtils.toggleInlineStyle(this.props.editorState, style))\n\n    return setTimeout(() => {\n      return this.relocate()\n    }, 0)\n  }\n\n  display(b) {\n    if (b) {\n      return this.show()\n    } else {\n      return this.hide()\n    }\n  }\n\n  show() {\n    return this.setState({\n      show: true })\n  }\n\n  hide() {\n    return this.setState({\n      link_mode: false,\n      show: false\n    })\n  }\n\n  setPosition(coords) {\n    return this.setState({\n      position: coords })\n  }\n\n  isDescendant(parent, child) {\n    let node = child.parentNode\n    while (node !== null) {\n      if (node === parent) {\n        return true\n      }\n      node = node.parentNode\n    }\n    return false\n  }\n\n  relocate() {\n\n    let currentBlock = getCurrentBlock(this.props.editorState)\n    let blockType = currentBlock.getType()\n    // display tooltip only for unstyled\n\n    if (this.props.configTooltip.selectionElements.indexOf(blockType) < 0) {\n      this.hide()\n      return\n    }\n\n    if (this.state.link_mode) {\n      return\n    }\n    if (!this.state.show) {\n      return\n    }\n\n    let el = this.refs.dante_menu\n    let padd = el.offsetWidth / 2\n\n    let nativeSelection = getSelection(window)\n    if (!nativeSelection.rangeCount) {\n      return\n    }\n\n    let selectionBoundary = getSelectionRect(nativeSelection)\n\n    let parent = ReactDOM.findDOMNode(this.props.editor)\n    let parentBoundary = parent.getBoundingClientRect()\n\n    // hide if selected node is not in editor\n    if (!this.isDescendant(parent, nativeSelection.anchorNode)) {\n      this.hide()\n      return\n    }\n\n    let top = selectionBoundary.top - parentBoundary.top - -90 - 5\n    let left = selectionBoundary.left + selectionBoundary.width / 2 - padd\n\n    if (!top || !left) {\n      return\n    }\n\n    // console.log \"SET SHOW FOR TOOLTIP INSERT MENU\"\n    return this.setState({\n      show: true,\n      position: {\n        left,\n        top\n      }\n    })\n  }\n\n  _clickBlockHandler(ev, style) {\n    ev.preventDefault()\n\n    this.props.onChange(RichUtils.toggleBlockType(this.props.editorState, style))\n\n    return setTimeout(() => {\n      return this.relocate()\n    }, 0)\n  }\n\n  displayLinkMode() {\n    if (this.state.link_mode) {\n      return \"dante-menu--linkmode\"\n    } else {\n      return \"\"\n    }\n  }\n\n  displayActiveMenu() {\n    if (this.state.show) {\n      return \"dante-menu--active\"\n    } else {\n      return \"\"\n    }\n  }\n\n  _enableLinkMode(ev) {\n    ev.preventDefault()\n    return this.setState({\n      link_mode: true })\n  }\n\n  _disableLinkMode(ev) {\n    ev.preventDefault()\n    return this.setState({\n      link_mode: false,\n      url: \"\"\n    })\n  }\n\n  hideMenu() {\n    return this.hide()\n  }\n\n  handleInputEnter(e) {\n    if (e.which === 13) {\n      return this.confirmLink(e)\n    }\n  }\n\n  confirmLink(e) {\n    e.preventDefault()\n    let { editorState } = this.props\n    let urlValue = e.currentTarget.value\n    let contentState = editorState.getCurrentContent()\n    let selection = editorState.getSelection()\n\n    let opts = {\n      url: urlValue,\n      showPopLinkOver: this.props.showPopLinkOver,\n      hidePopLinkOver: this.props.hidePopLinkOver\n    }\n\n    let entityKey = Entity.create('LINK', 'MUTABLE', opts)\n\n    if (selection.isCollapsed()) {\n      console.log(\"COLLAPSED SKIPPING LINK\")\n      return\n    }\n\n    this.props.onChange(RichUtils.toggleLink(editorState, selection, entityKey))\n\n    return this._disableLinkMode(e)\n  }\n\n  getPosition() {\n    let pos = this.state.position\n    return pos\n  }\n\n  inlineItems() {\n    return this.props.widget_options.block_types.filter(o => {\n      return o.type === \"inline\"\n    })\n  }\n\n  blockItems() {\n    return this.props.widget_options.block_types.filter(o => {\n      return o.type === \"block\"\n    })\n  }\n\n  getDefaultValue() {\n    if (this.refs.dante_menu_input) {\n      this.refs.dante_menu_input.value = \"\"\n    }\n\n    let currentBlock = getCurrentBlock(this.props.editorState)\n    let blockType = currentBlock.getType()\n    let selection = this.props.editor.state.editorState.getSelection()\n    let selectedEntity = null\n    let defaultUrl = null\n    return currentBlock.findEntityRanges(character => {\n      let entityKey = character.getEntity()\n      selectedEntity = entityKey\n      return entityKey !== null && Entity.get(entityKey).getType() === 'LINK'\n    }, (start, end) => {\n      let selStart = selection.getAnchorOffset()\n      let selEnd = selection.getFocusOffset()\n      if (selection.getIsBackward()) {\n        selStart = selection.getFocusOffset()\n        selEnd = selection.getAnchorOffset()\n      }\n\n      if (start === selStart && end === selEnd) {\n        defaultUrl = Entity.get(selectedEntity).getData().url\n        return this.refs.dante_menu_input.value = defaultUrl\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div\n        id=\"dante-menu\"\n        ref=\"dante_menu\"\n        className={ `dante-menu ${ this.displayActiveMenu() } ${ this.displayLinkMode() }` }\n        style={ this.getPosition() }\n      >\n        <div className=\"dante-menu-linkinput\">\n          <input\n            className=\"dante-menu-input\"\n            ref=\"dante_menu_input\"\n            placeholder=\"Paste or type a link\"\n            onKeyPress={ this.handleInputEnter }\n            defaultValue={ this.getDefaultValue() }\n          />\n          <div className=\"dante-menu-button\" onMouseDown={ this._disableLinkMode } />\n        </div>\n        <ul className=\"dante-menu-buttons\">\n          { this.blockItems().map( (item, i) => {\n              return  <DanteTooltipItem\n                        key={ i }\n                        item={ item }\n                        handleClick={ this._clickBlockHandler }\n                        editorState={ this.props.editorState }\n                        type=\"block\"\n                        currentStyle={ this.props.editorState.getCurrentInlineStyle }\n                      />\n            })\n          }\n          <DanteTooltipLink\n            editorState={ this.props.editorState }\n            enableLinkMode={ this._enableLinkMode }\n          />\n            { this.inlineItems().map( (item, i) => {\n              return  <DanteTooltipItem\n                        key={ i }\n                        item={ item }\n                        type=\"inline\"\n                        editorState={ this.props.editorState }\n                        handleClick={ this._clickInlineHandler }\n                      />\n            })\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nclass DanteTooltipItem extends React.Component {\n\n  constructor(...args) {\n    super(...args)\n    this.handleClick = this.handleClick.bind(this)\n    this.activeClass = this.activeClass.bind(this)\n    this.isActive = this.isActive.bind(this)\n    this.activeClassInline = this.activeClassInline.bind(this)\n    this.activeClassBlock = this.activeClassBlock.bind(this)\n    this.render = this.render.bind(this)\n  }\n\n  handleClick(ev) {\n    return this.props.handleClick(ev, this.props.item.style)\n  }\n\n  activeClass() {\n    if (this.isActive()) {\n      return \"active\"\n    } else {\n      return \"\"\n    }\n  }\n\n  isActive() {\n    if (this.props.type === \"block\") {\n      return this.activeClassBlock()\n    } else {\n      return this.activeClassInline()\n    }\n  }\n\n  activeClassInline() {\n    if (!this.props.editorState) {\n      return\n    }\n    //console.log @props.item\n    return this.props.editorState.getCurrentInlineStyle().has(this.props.item.style)\n  }\n\n  activeClassBlock() {\n    //console.log \"EDITOR STATE\", @props.editorState\n    if (!this.props.editorState) {\n      return\n    }\n    let selection = this.props.editorState.getSelection()\n    let blockType = this.props.editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType()\n    return this.props.item.style === blockType\n  }\n\n  render() {\n    return (\n      <li className={ `dante-menu-button ${ this.activeClass() }` } onMouseDown={ this.handleClick }>\n        <i className={ `dante-icon dante-icon-${ this.props.item.label }` } data-action=\"bold\" />\n      </li>\n    )\n  }\n}\n\nclass DanteTooltipLink extends React.Component {\n\n  constructor(...args) {\n    super(...args)\n    this.promptForLink = this.promptForLink.bind(this)\n  }\n\n  promptForLink(ev) {\n    let selection = this.props.editorState.getSelection()\n    if (!selection.isCollapsed()) {\n      return this.props.enableLinkMode(ev)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"dante-menu-button\" onMouseDown={ this.promptForLink }>\n        <i className=\"dante-icon icon-createlink\" data-action=\"createlink\">link</i>\n      </li>\n    )\n  }\n}\n\nexport default DanteTooltip\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/popovers/toolTip.js\n **/","import { Entity } from 'draft-js'\n\n//TODO: what the f*ck is happening here? ;-;\nconst findEntities = (entityType, instance, contentBlock, callback) => {\n  return contentBlock.findEntityRanges((function(_this) {\n    return function(character) {\n      var entityKey, opts, res\n      entityKey = character.getEntity()\n      return (res = entityKey !== null && Entity.get(entityKey).getType() === entityType, res ? (opts = {\n        showPopLinkOver: instance.showPopLinkOver,\n        hidePopLinkOver: instance.hidePopLinkOver\n      }, Entity.mergeData(entityKey, opts)) : void 0, res)\n    }\n  })(this), callback)\n}\n\nexport default findEntities\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/find_entities.js\n **/","import { ContentState, genKey, Entity, CharacterMetadata, ContentBlock, convertFromHTML, getSafeBodyFromHTML } from 'draft-js'\n\nimport { List, OrderedSet, Repeat, fromJS } from 'immutable'\n\n\n// { compose\n// }  = require('underscore')\n\n// underscore compose function\nlet compose = function() {\n  let args = arguments\n  let start = args.length - 1\n  return function() {\n    let i = start\n    let result = args[start].apply(this, arguments)\n    while (i--) {\n      result = args[i].call(this, result)\n    }\n    return result\n  }\n}\n\n// from https://gist.github.com/N1kto/6702e1c2d89a33a15a032c234fc4c34e\n\n/*\n * Helpers\n */\n\n// Prepares img meta data object based on img attributes\nlet getBlockSpecForElement = imgElement=> {\n  return {\n    contentType: 'image',\n    imgSrc: imgElement.getAttribute('src')\n  }\n}\n\n// Wraps meta data in HTML element which is 'understandable' by Draft, I used <blockquote />.\nlet wrapBlockSpec = blockSpec=> {\n  if (blockSpec === null) {\n    return null\n  }\n\n  let tempEl = document.createElement('blockquote')\n  // stringify meta data and insert it as text content of temp HTML element. We will later extract\n  // and parse it.\n  tempEl.innerText = JSON.stringify(blockSpec)\n  return tempEl\n}\n\n// Replaces <img> element with our temp element\nlet replaceElement = (oldEl, newEl)=> {\n  if (!(newEl instanceof HTMLElement)) {\n    return\n  }\n\n  let upEl = getUpEl(oldEl)\n  //parentNode = oldEl.parentNode\n  //return parentNode.replaceChild(newEl, oldEl)\n  return upEl.parentNode.insertBefore(newEl, upEl)\n}\n\nvar getUpEl = el=> {\n  let original_el = el\n  while (el.parentNode) {\n    if (el.parentNode.tagName !== 'BODY') {\n      el = el.parentNode\n    }\n    if (el.parentNode.tagName === 'BODY') { return el }\n  }\n}\n\nlet elementToBlockSpecElement = compose(wrapBlockSpec, getBlockSpecForElement)\n\nlet imgReplacer = imgElement=> {\n  return replaceElement(imgElement, elementToBlockSpecElement(imgElement))\n}\n\n/*\n * Main function\n */\n\n// takes HTML string and returns DraftJS ContentState\nlet customHTML2Content = function(HTML, blockRn){\n  let tempDoc = new DOMParser().parseFromString(HTML, 'text/html')\n  // replace all <img /> with <blockquote /> elements\n\n  let a = tempDoc.querySelectorAll('img').forEach( item=> imgReplacer(item))\n\n  // use DraftJS converter to do initial conversion. I don't provide DOMBuilder and\n  // blockRenderMap arguments here since it should fall back to its default ones, which are fine\n  console.log(tempDoc.body.innerHTML)\n  let contentBlocks = convertFromHTML(tempDoc.body.innerHTML,\n        getSafeBodyFromHTML,\n        blockRn\n  )\n\n  // now replace <blockquote /> ContentBlocks with 'atomic' ones\n  contentBlocks = contentBlocks.map(function(block){\n    let newBlock\n    console.log(\"CHECK BLOCK\", block.getType())\n    if (block.getType() !== 'blockquote') {\n      return block\n    }\n\n    let json = \"\"\n    try {\n      json = JSON.parse(block.getText())\n    } catch (error) {\n      return block\n    }\n\n    return newBlock = block.merge({\n      type: \"image\",\n      text: \"\",\n      data: {\n        url: json.imgSrc,\n        forceUpload: true\n      }\n    })\n  })\n\n  tempDoc = null\n  return ContentState.createFromBlockArray(contentBlocks)\n}\n\n\nexport default customHTML2Content\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/html2content.js\n **/","import axios from \"axios\"\nimport Immutable from 'immutable'\n\nclass SaveBehavior {\n  constructor(options) {\n    this.getLocks = options.getLocks\n    this.config = options.config\n    this.editorContent = options.editorContent\n    this.editorState = options.editorState\n  }\n\n  handleStore(ev){\n    return this.store()\n  }\n\n  store(content){\n    if (!this.config.data_storage.url) { return }\n    if (this.getLocks() > 0) { return }\n\n    clearTimeout(this.timeout)\n\n    return this.timeout = setTimeout(() => {\n      return this.checkforStore(content)\n    }\n    , this.config.data_storage.interval)\n  }\n\n  getTextFromEditor(content){\n    return content.blocks.map(o=> {\n        return o.text\n      }\n    )\n      .join(\"\\n\")\n  }\n\n  getUrl() {\n    let { url } = this.config.data_storage\n    if (typeof(url) === \"function\") { \n      return url() \n    } else { \n      return url \n    }\n  }\n\n  getMethod() {\n    let { method } = this.config.data_storage\n    if (typeof(method) === \"function\") { \n      return method() \n    } else { \n      return method \n    }\n  }\n\n  getWithCredentials(){\n    let { withCredentials } = this.config.data_storage\n    if (typeof(withCredentials) === \"function\") { \n      return withCredentials() \n    } else { \n      return withCredentials \n    }\n  }\n\n  getCrossDomain(){\n    let { crossDomain } = this.config.data_storage\n    if (typeof(crossDomain) === \"function\") { \n      return crossDomain()\n    } else { \n      return crossDomain \n    }\n  }\n\n  getHeaders(){\n    let { headers } = this.config.data_storage\n    if (typeof(headers) === \"function\") { \n      return headers() \n    } else { \n      return headers \n    }\n  }\n\n  checkforStore(content){\n    // ENTER DATA STORE\n    let isChanged = !Immutable.is(Immutable.fromJS(this.editorContent), Immutable.fromJS(content))\n    // console.log(\"CONTENT CHANGED:\", isChanged)\n\n    if (!isChanged) { return }\n\n    this.save(content)\n  }\n\n  save(content){\n\n    // use save handler from config if exists\n    if (this.config.data_storage.save_handler){\n      this.config.data_storage.save_handler(this, content)\n      return \n    }\n\n    if (this.config.xhr.before_handler) { this.config.xhr.before_handler() }\n    // console.log \"SAVING TO: #{@getMethod()} #{@getUrl()}\"\n\n    return axios({\n      method: this.getMethod(),\n      url: this.getUrl(),\n      data: {\n        editor_content: JSON.stringify(content),\n        text_content: this.getTextFromEditor(content)\n      },\n      withCredentials: this.getWithCredentials(),\n      crossDomain: this.getCrossDomain(),\n      headers: this.getHeaders(),\n    })\n    .then(result=> {\n      // console.log \"STORING CONTENT\", result\n      if (this.config.data_storage.success_handler) { this.config.data_storage.success_handler(result) }\n      if (this.config.xhr.success_handler) { return this.config.xhr.success_handler(result) }\n    }\n    )\n    .catch(error=> {\n      // console.log(\"ERROR: got error saving content at #{@config.data_storage.url} - #{error}\")\n      if (this.config.xhr.failure_handler) { return this.config.xhr.failure_handler(error) }\n    }\n    )\n  }\n}\n\n\nexport default SaveBehavior\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/save_content.js\n **/"],"sourceRoot":""}